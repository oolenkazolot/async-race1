(()=>{"use strict";var t=function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function c(t){try{s(i.next(t))}catch(t){r(t)}}function o(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,o)}s((i=i.apply(t,e||[])).next())}))};const e=class{getAutosAll(){return t(this,void 0,void 0,(function*(){try{const t=yield fetch("http://127.0.0.1:3000/garage");return yield t.json()}catch(t){console.log(t)}}))}getAutos(e,n){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/?_page=${e}&_limit=${n}`),i=t.headers.get("X-Total-Count");return{autos:yield t.json(),countCars:Number(i)}}catch(t){console.log(t)}}))}getAutosId(e,n){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/?_page=${e}&_limit=${n}`),i=yield t.json();if(i)return i}catch(t){console.log(t)}}))}createCar(e,n){return t(this,void 0,void 0,(function*(){console.log(e);try{const t=yield fetch("http://127.0.0.1:3000/garage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:n})}),i=yield t.json();if(i)return i}catch(t){console.log(t)}}))}deleteCar(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"DELETE"});yield t.json()}catch(t){console.log(t)}}))}startCarEngine(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=started`,{method:"PATCH"});return yield t.json()}catch(t){console.log(t)}}))}startEngineDrive(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=drive`,{method:"PATCH"});if(500===t.status)throw new Error("Car has been stopped suddenly. It's engine was broken down.");const n=yield t.json();if(n)return n}catch(t){this.stopCarEngine(e),t instanceof Error&&console.log(t.message)}}))}stopCarEngine(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=stopped`,{method:"PATCH"});yield t.json()}catch(t){console.log(t)}}))}updateCar(e,n,i){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,color:i})}),a=yield t.json();if(a)return a;console.log(a)}catch(t){console.log(t)}}))}startEngine(e){return t(this,void 0,void 0,(function*(){const t=yield this.startCarEngine(e);if(t)return t.distance/t.velocity}))}startDrive(e){return t(this,void 0,void 0,(function*(){return!!(yield this.startEngineDrive(e))}))}startCar(e,n,i,a){return t(this,void 0,void 0,(function*(){n.disabled=!0,i.disabled=!1;const t=yield this.startCarEngine(e.id);if(!t)return;let r;const c=document.getElementById(e.id.toString());if(c){c.classList.add("animation-active"),c.style.animationDuration=t.distance/t.velocity/1e3+"s";const n=t.distance/t.velocity;a&&(r=setTimeout((()=>{console.log(e.name),a(e.id,e.name,Math.round(n/10)/100)}),n))}if(!(yield this.startEngineDrive(e.id))&&(clearTimeout(r),c)){const t=c.getBoundingClientRect().left;c.style.left=t+"px",c.classList.remove("animation-active")}}))}stopCar(e,n,i){return t(this,void 0,void 0,(function*(){yield this.stopCarEngine(e.id);const t=document.getElementById(e.id.toString());t&&(t.classList.remove("animation-active"),t.style.left="5%"),n.disabled=!1,i.disabled=!0}))}createWinner(e,n){return t(this,void 0,void 0,(function*(){const t=yield this.getWinnersAll();if(!t)return;const i=t.find((t=>t.id===e));if(i){const t=i.time>n?i.time:n,e=i.wins+1;this.updateWinner(i.id,e,t)}else try{const t=yield fetch("http://127.0.0.1:3000/winners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,wins:1,time:n})}),i=yield t.json();if(i)return i}catch(t){console.log(t)}}))}getWinnersAll(){return t(this,void 0,void 0,(function*(){try{const t=yield fetch("http://127.0.0.1:3000/winners",{method:"GET"}),e=yield t.json();if(e)return e}catch(t){console.log(t)}}))}getWinners(e,n,i,a){return t(this,void 0,void 0,(function*(){try{const t=i?`&_sort=${i}&_order=${a}`:"",r=yield fetch(`http://127.0.0.1:3000/winners?_page=${e}&_limit=${n}${t}`,{}),c=r.headers.get("X-Total-Count");return{winners:yield r.json(),countWinners:Number(c)}}catch(t){console.log(t)}}))}updateWinner(e,n,i){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/winners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:n,time:i})}),a=yield t.json();if(a)return a}catch(t){console.log(t)}}))}deleteWinner(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/winners/${e}`,{method:"DELETE"});yield t.json()}catch(t){console.log(t)}}))}},n=class{createBtn(t,e,n,i){const a=document.createElement("button");return a.classList.add(t),a.classList.add(e),i&&a.classList.add(i),a.textContent=n,a}createSpan(t,e){const n=document.createElement("span");return n.classList.add(t),n.textContent=e,n}},i=class{constructor(){this.template=new n}createPagination(t,e,n,i){const a=document.createElement("div");a.classList.add("pagination");const r=document.createElement("h3");r.classList.add("pagination__page");const c=t();r.textContent=`Page #${c}`;const o=this.createButtons(t,e,n,i);return a.append(r,...o),a}createButtons(t,e,n,i){const a=t(),r=e(),c=this.template.createBtn("pagination__prev","btn","Prev"),o=this.template.createBtn("pagination__next","btn","Next");return a*r>=n&&(o.disabled=!0),a<=1&&(c.disabled=!0),this.onClickHandlerPrev(c,t,i),this.onClickHandlerNext(o,t,e,n,i),[c,o]}onClickHandlerPrev(t,e,n){t.addEventListener("click",(()=>{let t=e();t>1&&(t-=1,n(t))}))}onClickHandlerNext(t,e,n,i,a){t.addEventListener("click",(()=>{let t=e();t*n()<i&&(t+=1,a(t))}))}};var a=function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function c(t){try{s(i.next(t))}catch(t){r(t)}}function o(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,o)}s((i=i.apply(t,e||[])).next())}))};var r=function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function c(t){try{s(i.next(t))}catch(t){r(t)}}function o(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,o)}s((i=i.apply(t,e||[])).next())}))};var c=function(t,e,n,i){return new(n||(n=Promise))((function(a,r){function c(t){try{s(i.next(t))}catch(t){r(t)}}function o(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,o)}s((i=i.apply(t,e||[])).next())}))};const o=new class{constructor(){this.controller=new e,this.garage=new class{constructor(){this.controller=new e,this.template=new n,this.pagination=new i}createGarage(t,e,n,i,a){const r=document.createElement("div");r.classList.add("garage__wrap");const c=this.createTitles(n),o=this.pagination.createPagination(i,a,n,e);return r.append(c,o),t.map((t=>{const n=this.createContainer(t,e),i=this.createImages(t);r.append(n,i)})),r}createTitles(t){const e=document.createElement("h2");return e.classList.add("garage__title"),e.textContent=`Garage (${t})`,e}createContainer(t,e){const n=document.createElement("div");n.classList.add("garage__container");const i=this.createButtons(t,e),a=this.createNameAuto(t.name),r=this.controlAuto(t);return n.append(i,a,r),n}createButtons(t,e){const n=document.createElement("div");n.classList.add("garage__buttons");const i=this.template.createBtn("garage__btn-select","btn","Select");this.onClickHandlerSelect(i,t);const a=this.template.createBtn("garage__btn-remove","btn","Remove");return this.onClickHandlerRemove(a,t.id,e),n.append(i,a),n}onClickHandlerRemove(t,e,n){t.addEventListener("click",(()=>{this.deleteCar(e,n),this.deleteWinner(e)}))}onClickHandlerSelect(t,e){t.addEventListener("click",(()=>{const t=document.querySelector(".update-cars__name"),n=document.querySelector(".update-cars__color"),i=document.querySelector(".update-cars__id"),a=document.querySelector(".update-cars__btn");t&&n&&i&&a&&(t.value=e.name,n.value=e.color,i.value=e.id.toString(),a.disabled=!1)}))}deleteCar(t,e){return a(this,void 0,void 0,(function*(){yield this.controller.deleteCar(t),e()}))}deleteWinner(t){return a(this,void 0,void 0,(function*(){yield this.controller.deleteWinner(t)}))}createNameAuto(t){const e=document.createElement("span");return e.classList.add("garage__name-auto"),e.textContent=t,e}controlAuto(t){const e=document.createElement("div");e.classList.add("control-auto");const n=this.template.createBtn("control-auto__run","btn-control","A");n.addEventListener("click",(()=>{this.controller.startCar(t,n,i)}));const i=this.template.createBtn("control-auto__stop","btn-control","B");return i.disabled=!0,i.addEventListener("click",(()=>{this.controller.stopCar(t,n,i)})),e.append(n,i),e}createImages(t){const e=document.createElement("div");e.classList.add("garage__images");const n=this.createCarImg(t),i=this.createBlockImg("garage__img-finish");return e.append(n,i),e}createBlockImg(t){const e=document.createElement("div");return e.classList.add(t),e}createCarImg(t){const e=document.createElement("div");return e.id=t.id.toString(),e.classList.add("garage__img-auto"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 640" preserveAspectRatio="xMidYMid meet" xmlns:v="https://vecta.io/nano"><g fill="${t.color}" stroke="none"><path d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7 300.9-.9c.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0l-43 2.7c-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7l7.1 44.6 7.5 47.4c.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1zM263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4zM260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zm32 13.6c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zm-63.8 11.3c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zm94 9.7c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zm-44.1 1.9c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zm-3.2 17.1c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zm-17.9 3.6c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zm43.6.1c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zm92 .3c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zm-33 7.1c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zm-21.8 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3zm-44.2 10.6c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zm31.7 13.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zm-65.4 13.7c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zm94.7 7.6c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zm-43.1 1c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zm-3.6 17.9c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zm-17.6 3.3c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zm43.6-.1c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3s-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zm91.7-.8c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zm-32.6 7.7c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zm-21.9 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"/></g></svg>`,e}},this.controlPanel=new class{constructor(){this.controller=new e,this.isWin=!1,this.timeoutsID={}}createControlPanel(t,e,n){const i=document.createElement("section");i.classList.add("control-panel");const a=this.createTitle(),r=this.createBlockCreateCars(t),c=this.createBlockUpdateCars(t),o=this.createButtonsBlock(e,n,t);return i.append(a,r,c,o),i}createTitle(){const t=document.createElement("h2");return t.classList.add("control-panel__title"),t.textContent="Control panel cars",t}createBlockCreateCars(t){const e=document.createElement("div");e.classList.add("create-cars");const n=this.createInputName("create-cars__name","text","input"),i=this.createInputColor("create-cars__color","color","#f6b73c"),a=this.createBtn("create-cars__btn","btn","btn--panel","Create");return n.addEventListener("change",(()=>{localStorage.setItem("createName",n.value)})),i.addEventListener("change",(()=>{localStorage.setItem("createColor",i.value)})),this.addValueInput("createName",n),this.addValueInput("createColor",i),this.onClickHandlerCreate(a,t),e.append(n,i,a),e}onClickHandlerCreate(t,e){t.addEventListener("click",(()=>{const t=document.querySelector(".create-cars__name"),n=document.querySelector(".create-cars__color");if(t&&n){const i=t.value,a=n.value;console.log(i,a),this.createCar(i,a,e)}}))}createCar(t,e,n){return r(this,void 0,void 0,(function*(){(yield this.controller.createCar(t,e))&&n()}))}createBlockUpdateCars(t){const e=document.createElement("div");e.classList.add("update-cars");const n=this.createInputName("update-cars__name","text","input"),i=this.createInputColor("update-cars__color","color","#f6b73c");n.addEventListener("change",(()=>{localStorage.setItem("updateName",n.value)})),i.addEventListener("change",(()=>{localStorage.setItem("updateColor",i.value)})),this.addValueInput("updateName",n),this.addValueInput("updateColor",i);const a=this.createInputName("update-cars__id","text","input"),r=this.createBtn("update-cars__btn","btn","btn--panel","Update",!0);return this.onClickHandlerUpdate(r,t),e.append(a,n,i,r),e}onClickHandlerUpdate(t,e){t.addEventListener("click",(()=>{const t=document.querySelector(".update-cars__name"),n=document.querySelector(".update-cars__color"),i=document.querySelector(".update-cars__id");t&&n&&i&&this.updateCar(Number(i.value),t.value,n.value,e)}))}updateCar(t,e,n,i){return r(this,void 0,void 0,(function*(){(yield this.controller.updateCar(t,e,n))&&i()}))}createButtonsBlock(t,e,n){const i=document.createElement("div");i.classList.add("control-panel__buttons");const a=this.createBtn("control-panel__race","btn","btn--panel","Race"),r=this.createBtn("control-panel__reset","btn","btn--panel","Reset");!1===this.isWin&&(r.disabled=!0),this.onClickHandlerRace(a,r,t,e),this.onClickHandlerReset(a,r,t,e,n);const c=this.createBtn("control-panel__generate","btn","btn--panel","Generate cars");return this.onClickHandlerGenerate(c,n),i.append(a,r,c),i}onClickHandlerGenerate(t,e){t.addEventListener("click",(()=>{for(let t=0;t<100;t++){const t=this.getRandomCarsName(),n=this.getRandomCarsModel(),i=this.getRandomColorCars();this.createCar(t+" "+n,i,e)}}))}getRandomCarsName(){const t=Math.ceil(0),e=Math.floor(14);return["Tesla","Ford","BMW","Mercedes","Opel","Porsche","Audi","Honda","Hyundai","Kia","Mazda","Acura","Citroen","Lexus","Skoda"][Math.floor(Math.random()*(e-t+1))+t]}getRandomCarsModel(){const t=Math.ceil(0),e=Math.floor(14);return["Model S","Mondeo","iX M60","GLA","Zafira Life","Cayman","Q7","Accord","Tucson","Ceed","CX-9","MDX","C5 AIRCROSS","RX","Octavia"][Math.floor(Math.random()*(e-t+1))+t]}getRandomColorCars(){const t=Math.ceil(0),e=Math.floor(14),n=Math.floor(Math.random()*(e-t+1))+t;return console.log(n),["#ff0099","\t#ff0033","#0033ff","#00ffcc","#33cc00","#33cc99","#663399","#ff6666","#ffff00","#990000","#ffcccc","#006633","#666600","#003399","#cc66cc"][n]}onClickHandlerRace(t,e,n,i){t.addEventListener("click",(()=>{t.disabled=!0,this.startRace(n,i),this.changeDisabledBtn(!0,!1)}))}onClickHandlerReset(t,e,n,i,a){e.addEventListener("click",(()=>{this.stopCar(t,e,n,i),this.clearTimers(this.timeoutsID),a(),this.isWin=!1}))}changeDisabledBtn(t,e){const n=document.querySelectorAll(".control-auto__run"),i=document.querySelectorAll(".control-auto__stop"),a=Array.prototype.slice.call(n),r=Array.prototype.slice.call(i);a&&r&&(a.forEach((e=>{e.disabled=t})),r.forEach((t=>{t.disabled=e})))}startRace(t,e){return r(this,void 0,void 0,(function*(){const n=yield this.getAutos(t(),e());n&&n.forEach((t=>{this.startAuto(t,this.timeoutsID)}))}))}getAutos(t,e){return r(this,void 0,void 0,(function*(){return yield this.controller.getAutosId(t,e)}))}startAuto(t,e){return r(this,void 0,void 0,(function*(){const n=yield this.controller.startEngine(t.id);n&&(this.startAnimation(n,t.id),this.startTimer(t,e,n),(yield this.controller.startDrive(t.id))||(this.clearTimerByID(e,t.id),this.stopAnimation(t.id)))}))}clearTimers(t){for(const e in t)clearTimeout(t[e]);t={}}clearTimerByID(t,e){for(const n in t)n==e.toString()&&clearTimeout(t[n])}startTimer(t,e,n){const i=window.setTimeout((()=>{this.setWinner(t.id,t.name,Math.round(n/10)/100),this.clearTimers(e)}),n);e[t.id]=i}startAnimation(t,e){const n=document.getElementById(e.toString());n&&(n.classList.add("animation-active"),n.style.animationDuration=t/1e3+"s")}stopAnimation(t){const e=document.getElementById(t.toString());if(!e)return;const n=e.getBoundingClientRect().left;e.style.left=n+"px",e.classList.remove("animation-active")}stopCar(t,e,n,i){return r(this,void 0,void 0,(function*(){const a=n(),r=i(),c=yield this.controller.getAutosId(a,r);c&&c.forEach((n=>{this.controller.stopCar(n,t,e)}))}))}setWinner(t,e,n){if(this.isWin)return;const i=document.querySelector(".winner-modal__name"),a=document.querySelector(".winner-modal__time"),r=document.getElementById("modal-winner");if(i&&a&&r){r.classList.add("modal--open"),i.textContent=`${e} Winner!`,a.textContent=`(${n+"s"})!`;const t=document.querySelector(".control-panel__reset");t&&(t.disabled=!1)}this.isWin=!0,this.controller.createWinner(t,n)}createInputName(t,e,n){const i=document.createElement("input");return i.classList.add(t),n&&i.classList.add(n),i.type=e,i}createInputColor(t,e,n){const i=document.createElement("input");return i.classList.add(t),i.value=n,i.type=e,i}addValueInput(t,e){const n=localStorage.getItem(t);n&&(e.value=n)}createBtn(t,e,n,i,a){const r=document.createElement("button");return r.classList.add(t),r.classList.add(e),r.classList.add(n),a&&(r.disabled=a),r.textContent=i,r}},this.page=1,this.limitCars=7,this.modal=new class{constructor(){this.template=new n}createModal(){const t=document.createElement("div");t.classList.add("modal"),t.id="modal-winner";const e=this.createWinnerBlock("","");return t.append(e),this.onClickHandlerModal(t),t}onClickHandlerModal(t){t.addEventListener("click",(()=>{const t=document.querySelector(".modal--open");t&&t.classList.remove("modal--open")}))}createWinnerBlock(t,e){const n=document.createElement("div");n.classList.add("winner-modal");const i=this.template.createSpan("winner-modal__name",t),a=this.template.createSpan("winner-modal__time",e);return n.append(i,a),n}}}draw(){const t=document.querySelector("main");if(!t)return;t.classList.add("main"),t.textContent="";const e=this.modal.createModal();t.append(e);const n=this.controlPanel.createControlPanel(this.drawGarage.bind(this),this.getPage.bind(this),this.getLimitCars.bind(this));t.append(n),this.drawGarage()}drawGarage(t){return e=this,n=void 0,a=function*(){t&&(this.page=t);const e=yield this.controller.getAutos(this.page,this.limitCars);if(!e)return;const n=this.garage.createGarage(e.autos,this.drawGarage.bind(this),e.countCars,this.getPage.bind(this),this.getLimitCars.bind(this));let i=document.querySelector(".garage");i?i.textContent="":(i=document.createElement("section"),i.classList.add("garage")),i.append(n);const a=document.querySelector(".main");a&&a.append(i)},new((i=void 0)||(i=Promise))((function(t,r){function c(t){try{s(a.next(t))}catch(t){r(t)}}function o(t){try{s(a.throw(t))}catch(t){r(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(c,o)}s((a=a.apply(e,n||[])).next())}));var e,n,i,a}getPage(){return this.page}getLimitCars(){return this.limitCars}},s=new class{constructor(){this.pagination=new i,this.controller=new e,this.page=1,this.numberTable=0,this.limitWinners=10,this.sort="",this.direction="ASC"}drawPage(){this.draw()}draw(t){return c(this,void 0,void 0,(function*(){t&&(this.page=t);const e=document.querySelector("main");if(!e)return;e.classList.add("main"),e.textContent="";const n=document.createElement("section");n.classList.add("winners");const i=yield this.controller.getWinners(this.page,this.limitWinners,this.sort,this.direction),a=this.createTitle(null==i?void 0:i.countWinners),r=this.createPagination(i),c=yield this.createWinnersTable(i);r&&n.append(a,r,c),e.append(n)}))}setSort(t){t===this.sort?this.direction="ASC"===this.direction?"DESC":"ASC":(this.sort=t,this.direction="ASC"),this.draw()}createTitle(t){const e=document.createElement("h2");return e.classList.add("winners__title"),e.textContent=`Winners (${t||0})`,e}createPagination(t){if(t)return this.pagination.createPagination(this.getPage.bind(this),this.getLimitWinners.bind(this),t.countWinners,this.draw.bind(this))}createWinnersTable(t){return c(this,void 0,void 0,(function*(){const e=document.createElement("table");e.classList.add("winners__table");const n=this.createColumnsBlock();e.append(n);const i=yield this.controller.getAutosAll();return t&&i&&t.winners.forEach(((t,n)=>{const a=i.find((e=>e.id===t.id));if(a){const i=this.createRowsBlock((this.page-1)*this.limitWinners+(n+1),a.name,t.wins,t.time,a.color);e.append(i)}})),e}))}createColumnsBlock(){const t=document.createElement("tr");t.classList.add("winners__columns");const e=[{id:"number",title:"Number"},{id:"car",title:"Car"},{id:"name",title:"Name"},{id:"wins",title:"Wins"},{id:"time",title:"Best time (seconds)"}].map((t=>this.createColumn(t)));return t.append(...e),t}createColumn(t){const e=document.createElement("th");if(["wins","time"].includes(t.id)&&(e.addEventListener("click",(()=>{this.setSort(t.id)})),e.classList.add("is-sort"),t.id===this.sort)){const t="ASC"===this.direction?"sort-asc":"sort-desc";e.classList.add(t)}return e.textContent=t.title,e}createRowsBlock(t,e,n,i,a){const r=document.createElement("tr");r.classList.add("winners__rows");const c=this.createRow(t.toString(),"winners__number"),o=this.createRow(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 640" preserveAspectRatio="xMidYMid meet" xmlns:v="https://vecta.io/nano"><g fill="${a}" stroke="none"><path d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7 300.9-.9c.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0l-43 2.7c-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7l7.1 44.6 7.5 47.4c.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1zM263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4zM260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zm32 13.6c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zm-63.8 11.3c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zm94 9.7c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zm-44.1 1.9c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zm-3.2 17.1c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zm-17.9 3.6c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zm43.6.1c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zm92 .3c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zm-33 7.1c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zm-21.8 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3zm-44.2 10.6c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zm31.7 13.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zm-65.4 13.7c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zm94.7 7.6c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zm-43.1 1c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zm-3.6 17.9c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zm-17.6 3.3c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zm43.6-.1c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3s-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zm91.7-.8c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zm-32.6 7.7c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zm-21.9 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"/></g></svg>`,"winners__car"),s=this.createRow(e,"winners__name"),l=this.createRow(n.toString(),"winners__wins"),d=this.createRow(i.toString(),"winners__time");return r.append(c,o,s,l,d),r}createRow(t,e){const n=document.createElement("td");return n.classList.add(e),n.innerHTML=t,n}getPage(){return this.page}getLimitWinners(){return this.limitWinners}},l=new class{constructor(){this.template=new n}drawElements(t){const e=document.querySelector("header");if(!e)return;e.classList.add("header");const n=this.createTitle(t),i=document.createElement("div");i.classList.add("header__buttons");const a=this.template.createBtn("header__btn-garage","btn","To Garage","btn--page"),r=this.template.createBtn("header__btn-winners","btn","To Winners","btn--page");this.onClickHandlerBtn(a,t,""),this.onClickHandlerBtn(r,t,"winners"),i.append(a,r),e.append(n,i)}onClickHandlerBtn(t,e,n){t.addEventListener("click",(()=>{e.navigate(n)}))}onClickHandlerTitle(t,e,n){t.addEventListener("click",(()=>{e.navigate(n)}))}createTitle(t){const e=document.createElement("h1");return e.classList.add("header__logo"),e.textContent="Async-Race",this.onClickHandlerTitle(e,t,""),e}},d=new class{constructor(t,e){this.navigate=t=>{window.history.pushState(null,"",this.root+t),this.action(t)},this.routes=t,this.root="/async-race1/",this.errorAction=e}init(){const t=window.location.pathname.replace(this.root,"");this.action(t.replace(/\/$/,"")),window.addEventListener("popstate",(t=>{this.action(window.location.pathname.replace(this.root,""))}))}action(t){const e=this.routes.find((e=>-1!==e.path.indexOf("/:")?e.path.replace(/\/:.+$/,"")===t.replace(/\/[\w]+$/,""):e.path===t));if(e){const n=this.getParam(t,e.path);e.cb(n)}else this.errorAction()}getParam(t,e){if(-1===e.indexOf("/:"))return;const n=t.match(/\/.+$/);let i;return n&&(i=n[0].replace("/","")),i}}([{path:"",cb:o.draw.bind(o)},{path:"winners",cb:s.drawPage.bind(s)}],o.draw.bind(o));l.drawElements(d),o.router=d,d.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUttQixNQUFNLFNBRTFDLElBQUlILEVBS0osT0FKSUcsSUFDRkgsRUFBUUcsRUFBTSxHQUFHUCxRQUFRLElBQUssS0FHekJJLENBQ1QsR043Q3FCLENBQ3JCLENBQ0VoQixLQUFNLEdBQ05rQixHQUFJdkwsRUFBU3NILEtBQUtFLEtBQUt4SCxJQUV6QixDQUNFcUssS0FBTSxVQUNOa0IsR0FBSTNELEVBQVlHLFNBQVNQLEtBQUtJLEtBVUQ1SCxFQUFTc0gsS0FBS0UsS0FBS3hILElBQ3BELEVBQU84SixhQUFhQyxHQUdwQi9KLEVBQVMrSixPQUFTQSxFQUNsQkEsRUFBT2UsTSIsInNvdXJjZXMiOlsid2VicGFjazovL29ubGluZS1zdG9yZS8uL3NyYy91dGlscy9jb250cm9sbGVyLnRzIiwid2VicGFjazovL29ubGluZS1zdG9yZS8uL3NyYy90ZW1wbGF0ZXMvdGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL2NvbXBvbmVudHMvcGFnaW5hdGlvbi50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvcGFnZXMvd2lubmVycy50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL3BhZ2VzL21haW4udHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL2NvbXBvbmVudHMvZ2FyYWdlLnRzIiwid2VicGFjazovL29ubGluZS1zdG9yZS8uL3NyYy9jb21wb25lbnRzL2NvbnRyb2wtcGFuZWwudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL2NvbXBvbmVudHMvbW9kYWwudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzIiwid2VicGFjazovL29ubGluZS1zdG9yZS8uL3NyYy91dGlscy9Sb3V0aW5nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgSUF1dG9zLFxyXG4gIElSZXNwb25zZUNhckVuZ2luZSxcclxuICBJUmVzcG9uc2VFbmdpbmVEcml2ZSxcclxuICBJUmVzcG9uc2VDcmVhdGVDYXIsXHJcbiAgSVJlc3BvbnNlVXBkYXRlQ2FyLFxyXG4gIElXaW5uZXIsXHJcbiAgSUF1dG9zRGF0YSxcclxuICBJV2lubmVyc0RhdGEsXHJcbn0gZnJvbSBcIi4uL3R5cGVzL2luZGV4XCI7XHJcblxyXG5jbGFzcyBDb250cm9sbGVyIHtcclxuICBwdWJsaWMgYXN5bmMgZ2V0QXV0b3NBbGwoKTogUHJvbWlzZTxJQXV0b3NbXSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZWApO1xyXG4gICAgICBjb25zdCBhdXRvczogSUF1dG9zW10gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHJldHVybiBhdXRvcztcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0QXV0b3MoXHJcbiAgICBwYWdlOiBudW1iZXIsXHJcbiAgICBsaW1pdENhcnM6IG51bWJlclxyXG4gICk6IFByb21pc2U8SUF1dG9zRGF0YSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZS8/X3BhZ2U9JHtwYWdlfSZfbGltaXQ9JHtsaW1pdENhcnN9YFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBjb3VudENhcnM6IHN0cmluZyB8IG51bGwgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIlgtVG90YWwtQ291bnRcIik7XHJcbiAgICAgIGNvbnN0IGF1dG9zOiBJQXV0b3NbXSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgcmV0dXJuIHsgYXV0b3M6IGF1dG9zLCBjb3VudENhcnM6IE51bWJlcihjb3VudENhcnMpIH07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldEF1dG9zSWQoXHJcbiAgICBwYWdlOiBudW1iZXIsXHJcbiAgICBsaW1pdENhcnM6IG51bWJlclxyXG4gICk6IFByb21pc2U8SUF1dG9zW10gfCB1bmRlZmluZWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9nYXJhZ2UvP19wYWdlPSR7cGFnZX0mX2xpbWl0PSR7bGltaXRDYXJzfWBcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgYXV0b3M6IElBdXRvc1tdID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAoYXV0b3MpIHtcclxuICAgICAgICByZXR1cm4gYXV0b3M7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgY3JlYXRlQ2FyKFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG4gICk6IFByb21pc2U8SVJlc3BvbnNlQ3JlYXRlQ2FyIHwgdW5kZWZpbmVkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhuYW1lKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgIGNvbG9yOiBjb2xvcixcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHJlczogUHJvbWlzZTxcclxuICAgICAgICBJUmVzcG9uc2VDcmVhdGVDYXIgfCB1bmRlZmluZWRcclxuICAgICAgPiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZGVsZXRlQ2FyKGlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9nYXJhZ2UvJHtpZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdGFydENhckVuZ2luZShcclxuICAgIGlkOiBudW1iZXJcclxuICApOiBQcm9taXNlPElSZXNwb25zZUNhckVuZ2luZSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTozMDAwL2VuZ2luZS8/aWQ9JHtpZH0mc3RhdHVzPXN0YXJ0ZWRgLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgcmVzOiBQcm9taXNlPFxyXG4gICAgICAgIElSZXNwb25zZUNhckVuZ2luZSB8IHVuZGVmaW5lZFxyXG4gICAgICA+ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdGFydEVuZ2luZURyaXZlKFxyXG4gICAgaWQ6IG51bWJlclxyXG4gICk6IFByb21pc2U8SVJlc3BvbnNlRW5naW5lRHJpdmUgfCB1bmRlZmluZWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9lbmdpbmUvP2lkPSR7aWR9JnN0YXR1cz1kcml2ZWAsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICBcIkNhciBoYXMgYmVlbiBzdG9wcGVkIHN1ZGRlbmx5LiBJdCdzIGVuZ2luZSB3YXMgYnJva2VuIGRvd24uXCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXM6IFByb21pc2U8XHJcbiAgICAgICAgSVJlc3BvbnNlRW5naW5lRHJpdmUgfCB1bmRlZmluZWRcclxuICAgICAgPiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgdGhpcy5zdG9wQ2FyRW5naW5lKGlkKTtcclxuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdG9wQ2FyRW5naW5lKGlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9lbmdpbmUvP2lkPSR7aWR9JnN0YXR1cz1zdG9wcGVkYCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgdXBkYXRlQ2FyKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGNvbG9yOiBzdHJpbmdcclxuICApOiBQcm9taXNlPElSZXNwb25zZVVwZGF0ZUNhciB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZS8ke2lkfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgY29sb3I6IGNvbG9yLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzOiBQcm9taXNlPFxyXG4gICAgICAgIElSZXNwb25zZVVwZGF0ZUNhciB8IHVuZGVmaW5lZFxyXG4gICAgICA+ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdGFydEVuZ2luZShpZDogbnVtYmVyKTogUHJvbWlzZTxudW1iZXIgfCB1bmRlZmluZWQ+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlQ2FyRW5naW5lOlxyXG4gICAgICB8IElSZXNwb25zZUNhckVuZ2luZVxyXG4gICAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuc3RhcnRDYXJFbmdpbmUoaWQpO1xyXG4gICAgaWYgKCFyZXNwb25zZUNhckVuZ2luZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlQ2FyRW5naW5lLmRpc3RhbmNlIC8gcmVzcG9uc2VDYXJFbmdpbmUudmVsb2NpdHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgc3RhcnREcml2ZShpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICBjb25zdCByZXNwb25zZTpcclxuICAgICAgfCBJUmVzcG9uc2VFbmdpbmVEcml2ZVxyXG4gICAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuc3RhcnRFbmdpbmVEcml2ZShpZCk7XHJcbiAgICByZXR1cm4gISFyZXNwb25zZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdGFydENhcihcclxuICAgIGF1dG86IElBdXRvcyxcclxuICAgIGJ0blJ1bjogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBidG5TdG9wOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHNldFdpbm5lcj86IChpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHRpbWU6IG51bWJlcikgPT4gdm9pZFxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYnRuUnVuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGJ0blN0b3AuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZUNhckVuZ2luZTpcclxuICAgICAgfCBJUmVzcG9uc2VDYXJFbmdpbmVcclxuICAgICAgfCB1bmRlZmluZWQgPSBhd2FpdCB0aGlzLnN0YXJ0Q2FyRW5naW5lKGF1dG8uaWQpO1xyXG4gICAgaWYgKCFyZXNwb25zZUNhckVuZ2luZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRpbWVvdXRJRDtcclxuICAgIGNvbnN0IGltZ0F1dG86IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBhdXRvLmlkLnRvU3RyaW5nKClcclxuICAgICk7XHJcbiAgICBpZiAoaW1nQXV0bykge1xyXG4gICAgICBpbWdBdXRvLmNsYXNzTGlzdC5hZGQoXCJhbmltYXRpb24tYWN0aXZlXCIpO1xyXG4gICAgICBpbWdBdXRvLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID1cclxuICAgICAgICByZXNwb25zZUNhckVuZ2luZS5kaXN0YW5jZSAvIHJlc3BvbnNlQ2FyRW5naW5lLnZlbG9jaXR5IC8gMTAwMCArIFwic1wiO1xyXG4gICAgICBjb25zdCBkdXJhdGlvbkFuaW1hdGlvbjogbnVtYmVyID1cclxuICAgICAgICByZXNwb25zZUNhckVuZ2luZS5kaXN0YW5jZSAvIHJlc3BvbnNlQ2FyRW5naW5lLnZlbG9jaXR5O1xyXG5cclxuICAgICAgaWYgKHNldFdpbm5lcikge1xyXG4gICAgICAgIHRpbWVvdXRJRCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYXV0by5uYW1lKTtcclxuXHJcbiAgICAgICAgICBzZXRXaW5uZXIoXHJcbiAgICAgICAgICAgIGF1dG8uaWQsXHJcbiAgICAgICAgICAgIGF1dG8ubmFtZSxcclxuICAgICAgICAgICAgTWF0aC5yb3VuZChkdXJhdGlvbkFuaW1hdGlvbiAvIDEwKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9LCBkdXJhdGlvbkFuaW1hdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHJlc3BvbnNlRW5naW5lRHJpdmU6XHJcbiAgICAgIHwgSVJlc3BvbnNlRW5naW5lRHJpdmVcclxuICAgICAgfCB1bmRlZmluZWQgPSBhd2FpdCB0aGlzLnN0YXJ0RW5naW5lRHJpdmUoYXV0by5pZCk7XHJcbiAgICBpZiAoIXJlc3BvbnNlRW5naW5lRHJpdmUpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7XHJcblxyXG4gICAgICBpZiAoaW1nQXV0bykge1xyXG4gICAgICAgIGNvbnN0IGxlZnQ6IG51bWJlciA9IGltZ0F1dG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICBpbWdBdXRvLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xyXG4gICAgICAgIGltZ0F1dG8uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1hY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdG9wQ2FyKFxyXG4gICAgYXV0bzogSUF1dG9zLFxyXG4gICAgYnRuUnVuOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGJ0blN0b3A6IEhUTUxCdXR0b25FbGVtZW50XHJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLnN0b3BDYXJFbmdpbmUoYXV0by5pZCk7XHJcbiAgICBjb25zdCBpbWdBdXRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXV0by5pZC50b1N0cmluZygpKTtcclxuICAgIGlmIChpbWdBdXRvKSB7XHJcbiAgICAgIGltZ0F1dG8uY2xhc3NMaXN0LnJlbW92ZShcImFuaW1hdGlvbi1hY3RpdmVcIik7XHJcbiAgICAgIGltZ0F1dG8uc3R5bGUubGVmdCA9IDUgKyBcIiVcIjtcclxuICAgIH1cclxuICAgIGJ0blJ1bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgYnRuU3RvcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgY3JlYXRlV2lubmVyKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHRpbWU6IG51bWJlclxyXG4gICk6IFByb21pc2U8SVdpbm5lciB8IHVuZGVmaW5lZD4ge1xyXG4gICAgY29uc3Qgd2lubmVyczogSVdpbm5lcltdIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5nZXRXaW5uZXJzQWxsKCk7XHJcblxyXG4gICAgaWYgKCF3aW5uZXJzKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHdpbm5lcjogSVdpbm5lciB8IHVuZGVmaW5lZCA9IHdpbm5lcnMuZmluZCgod2lubmVyKSA9PiB7XHJcbiAgICAgIHJldHVybiB3aW5uZXIuaWQgPT09IGlkO1xyXG4gICAgfSk7XHJcbiAgICBpZiAod2lubmVyKSB7XHJcbiAgICAgIGNvbnN0IG5ld1RpbWU6IG51bWJlciA9IHdpbm5lci50aW1lID4gdGltZSA/IHdpbm5lci50aW1lIDogdGltZTtcclxuICAgICAgY29uc3QgbmV3Q291bnRXaW5zOiBudW1iZXIgPSB3aW5uZXIud2lucyArIDE7XHJcbiAgICAgIHRoaXMudXBkYXRlV2lubmVyKHdpbm5lci5pZCwgbmV3Q291bnRXaW5zLCBuZXdUaW1lKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC93aW5uZXJzYCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICB3aW5zOiAxLFxyXG4gICAgICAgICAgdGltZTogdGltZSxcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHJlczogUHJvbWlzZTxJV2lubmVyPiB8IHVuZGVmaW5lZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0V2lubmVyc0FsbCgpOiBQcm9taXNlPElXaW5uZXJbXSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL3dpbm5lcnNgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzOiBJV2lubmVyW10gfCB1bmRlZmluZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRXaW5uZXJzKFxyXG4gICAgcGFnZTogbnVtYmVyLFxyXG4gICAgbGltaXQ6IG51bWJlcixcclxuICAgIHNvcnQ6IHN0cmluZyxcclxuICAgIGRpcmVjdGlvbjogc3RyaW5nXHJcbiAgKTogUHJvbWlzZTxJV2lubmVyc0RhdGEgfCB1bmRlZmluZWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHNvcnRQYXJhbXM6IHN0cmluZyA9IHNvcnRcclxuICAgICAgICA/IGAmX3NvcnQ9JHtzb3J0fSZfb3JkZXI9JHtkaXJlY3Rpb259YFxyXG4gICAgICAgIDogXCJcIjtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTozMDAwL3dpbm5lcnM/X3BhZ2U9JHtwYWdlfSZfbGltaXQ9JHtsaW1pdH0ke3NvcnRQYXJhbXN9YCxcclxuICAgICAgICB7fVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBjb3VudFdpbm5lcnM6IHN0cmluZyB8IG51bGwgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIlgtVG90YWwtQ291bnRcIik7XHJcbiAgICAgIGNvbnN0IHdpbm5lcnM6IElXaW5uZXJbXSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgcmV0dXJuIHsgd2lubmVyczogd2lubmVycywgY291bnRXaW5uZXJzOiBOdW1iZXIoY291bnRXaW5uZXJzKSB9O1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVXaW5uZXIoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgd2luczogbnVtYmVyLFxyXG4gICAgdGltZTogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxJV2lubmVyIHwgdW5kZWZpbmVkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycy8ke2lkfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICB3aW5zOiB3aW5zLFxyXG4gICAgICAgICAgdGltZTogdGltZSxcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHJlczogSVdpbm5lciB8IHVuZGVmaW5lZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZGVsZXRlV2lubmVyKGlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC93aW5uZXJzLyR7aWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xyXG4iLCJjbGFzcyBUZW1wbGF0ZSB7XHJcbiAgcHVibGljIGNyZWF0ZUJ0bihcclxuICAgIG15Q2xhc3NPbmU6IHN0cmluZyxcclxuICAgIG15Q2xhc3NUd286IHN0cmluZyxcclxuICAgIGNvbnRlbnQ6IHN0cmluZyxcclxuICAgIG15Q2xhc3NUaHJlZT86IHN0cmluZ1xyXG4gICk6IEhUTUxCdXR0b25FbGVtZW50IHtcclxuICAgIGNvbnN0IGJ0bkVsOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBidG5FbC5jbGFzc0xpc3QuYWRkKG15Q2xhc3NPbmUpO1xyXG4gICAgYnRuRWwuY2xhc3NMaXN0LmFkZChteUNsYXNzVHdvKTtcclxuICAgIGlmIChteUNsYXNzVGhyZWUpIHtcclxuICAgICAgYnRuRWwuY2xhc3NMaXN0LmFkZChteUNsYXNzVGhyZWUpO1xyXG4gICAgfVxyXG4gICAgYnRuRWwudGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgcmV0dXJuIGJ0bkVsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNyZWF0ZVNwYW4obXlDbGFzczogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBzcGFuOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgc3Bhbi5jbGFzc0xpc3QuYWRkKG15Q2xhc3MpO1xyXG4gICAgc3Bhbi50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICByZXR1cm4gc3BhbjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRlbXBsYXRlO1xyXG4iLCJpbXBvcnQgeyBJVGVtcGxhdGUgfSBmcm9tIFwic3JjL3R5cGVzXCI7XHJcbmltcG9ydCBUZW1wbGF0ZSBmcm9tIFwiLi4vdGVtcGxhdGVzL3RlbXBsYXRlXCI7XHJcblxyXG5jbGFzcyBQYWdpbmF0aW9uIHtcclxuICB0ZW1wbGF0ZTogSVRlbXBsYXRlO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMudGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoKTtcclxuICB9XHJcbiAgcHVibGljIGNyZWF0ZVBhZ2luYXRpb24oXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlcixcclxuICAgIGNvdW50Q2FyczogbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHBhZ2luYXRpb25CbG9jazogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcGFnaW5hdGlvbkJsb2NrLmNsYXNzTGlzdC5hZGQoXCJwYWdpbmF0aW9uXCIpO1xyXG4gICAgY29uc3QgcGFnZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XHJcbiAgICBwYWdlLmNsYXNzTGlzdC5hZGQoXCJwYWdpbmF0aW9uX19wYWdlXCIpO1xyXG4gICAgY29uc3QgcGFnZU51bWJlcjogbnVtYmVyID0gZ2V0UGFnZSgpO1xyXG4gICAgcGFnZS50ZXh0Q29udGVudCA9IGBQYWdlICMke3BhZ2VOdW1iZXJ9YDtcclxuICAgIGNvbnN0IGJ1dHRvbnM6IEhUTUxCdXR0b25FbGVtZW50W10gPSB0aGlzLmNyZWF0ZUJ1dHRvbnMoXHJcbiAgICAgIGdldFBhZ2UsXHJcbiAgICAgIGdldExpbWl0Q2FycyxcclxuICAgICAgY291bnRDYXJzLFxyXG4gICAgICBkcmF3R2FyYWdlXHJcbiAgICApO1xyXG4gICAgcGFnaW5hdGlvbkJsb2NrLmFwcGVuZChwYWdlLCAuLi5idXR0b25zKTtcclxuICAgIHJldHVybiBwYWdpbmF0aW9uQmxvY2s7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUJ1dHRvbnMoXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlcixcclxuICAgIGNvdW50Q2FyczogbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IEhUTUxCdXR0b25FbGVtZW50W10ge1xyXG4gICAgY29uc3QgcGFnZTogbnVtYmVyID0gZ2V0UGFnZSgpO1xyXG4gICAgY29uc3QgbGltaXRDYXJzOiBudW1iZXIgPSBnZXRMaW1pdENhcnMoKTtcclxuICAgIGNvbnN0IGJ0blByZXY6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVCdG4oXHJcbiAgICAgIFwicGFnaW5hdGlvbl9fcHJldlwiLFxyXG4gICAgICBcImJ0blwiLFxyXG4gICAgICBcIlByZXZcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ0bk5leHQ6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVCdG4oXHJcbiAgICAgIFwicGFnaW5hdGlvbl9fbmV4dFwiLFxyXG4gICAgICBcImJ0blwiLFxyXG4gICAgICBcIk5leHRcIlxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocGFnZSAqIGxpbWl0Q2FycyA+PSBjb3VudENhcnMpIHtcclxuICAgICAgYnRuTmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhZ2UgPD0gMSkge1xyXG4gICAgICBidG5QcmV2LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJQcmV2KGJ0blByZXYsIGdldFBhZ2UsIGRyYXdHYXJhZ2UpO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlck5leHQoXHJcbiAgICAgIGJ0bk5leHQsXHJcbiAgICAgIGdldFBhZ2UsXHJcbiAgICAgIGdldExpbWl0Q2FycyxcclxuICAgICAgY291bnRDYXJzLFxyXG4gICAgICBkcmF3R2FyYWdlXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBbYnRuUHJldiwgYnRuTmV4dF07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyUHJldihcclxuICAgIGJ0blByZXY6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZ2V0UGFnZTogKCkgPT4gbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKHBhZ2U/OiBudW1iZXIpID0+IHZvaWRcclxuICApOiB2b2lkIHtcclxuICAgIGJ0blByZXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgbGV0IHBhZ2U6IG51bWJlciA9IGdldFBhZ2UoKTtcclxuXHJcbiAgICAgIGlmIChwYWdlID4gMSkge1xyXG4gICAgICAgIHBhZ2UgLT0gMTtcclxuICAgICAgICBkcmF3R2FyYWdlKHBhZ2UpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DbGlja0hhbmRsZXJOZXh0KFxyXG4gICAgYnRuTmV4dDogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlcixcclxuICAgIGNvdW50Q2FyczogbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKHBhZ2U/OiBudW1iZXIpID0+IHZvaWRcclxuICApOiB2b2lkIHtcclxuICAgIGJ0bk5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgbGV0IHBhZ2U6IG51bWJlciA9IGdldFBhZ2UoKTtcclxuICAgICAgY29uc3QgbGltaXRDYXJzOiBudW1iZXIgPSBnZXRMaW1pdENhcnMoKTtcclxuICAgICAgaWYgKHBhZ2UgKiBsaW1pdENhcnMgPCBjb3VudENhcnMpIHtcclxuICAgICAgICBwYWdlICs9IDE7XHJcbiAgICAgICAgZHJhd0dhcmFnZShwYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYWdpbmF0aW9uO1xyXG4iLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9wYWdpbmF0aW9uXCI7XHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuLi91dGlscy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7XHJcbiAgSVBhZ2luYXRpb24sXHJcbiAgSUNvbnRyb2xsZXIsXHJcbiAgSVdpbm5lcixcclxuICBJQXV0b3MsXHJcbiAgSVdpbm5lcnNEYXRhLFxyXG59IGZyb20gXCJzcmMvdHlwZXNcIjtcclxuXHJcbmNsYXNzIFdpbm5lcnNQYWdlIHtcclxuICBwYWdpbmF0aW9uOiBJUGFnaW5hdGlvbjtcclxuICBjb250cm9sbGVyOiBJQ29udHJvbGxlcjtcclxuICBwYWdlOiBudW1iZXI7XHJcbiAgbGltaXRXaW5uZXJzOiBudW1iZXI7XHJcbiAgbnVtYmVyVGFibGU6IG51bWJlcjtcclxuICBzb3J0OiBzdHJpbmc7XHJcbiAgZGlyZWN0aW9uOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5wYWdpbmF0aW9uID0gbmV3IFBhZ2luYXRpb24oKTtcclxuICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbiAgICB0aGlzLnBhZ2UgPSAxO1xyXG4gICAgdGhpcy5udW1iZXJUYWJsZSA9IDA7XHJcbiAgICB0aGlzLmxpbWl0V2lubmVycyA9IDEwO1xyXG4gICAgdGhpcy5zb3J0ID0gXCJcIjtcclxuICAgIHRoaXMuZGlyZWN0aW9uID0gXCJBU0NcIjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3UGFnZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZHJhdygpO1xyXG4gIH1cclxuICBwdWJsaWMgYXN5bmMgZHJhdyhwYWdlPzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAocGFnZSkge1xyXG4gICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1haW5FbDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIik7XHJcbiAgICBpZiAoIW1haW5FbCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBtYWluRWwuY2xhc3NMaXN0LmFkZChcIm1haW5cIik7XHJcbiAgICBtYWluRWwudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgY29uc3Qgd2lubmVyc0VsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xyXG4gICAgd2lubmVyc0VsLmNsYXNzTGlzdC5hZGQoXCJ3aW5uZXJzXCIpO1xyXG4gICAgY29uc3Qgd2lubmVyczogSVdpbm5lcnNEYXRhIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5jb250cm9sbGVyLmdldFdpbm5lcnMoXHJcbiAgICAgIHRoaXMucGFnZSxcclxuICAgICAgdGhpcy5saW1pdFdpbm5lcnMsXHJcbiAgICAgIHRoaXMuc29ydCxcclxuICAgICAgdGhpcy5kaXJlY3Rpb25cclxuICAgICk7XHJcbiAgICBjb25zdCB0aXRsZUVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlVGl0bGUod2lubmVycz8uY291bnRXaW5uZXJzKTtcclxuICAgIGNvbnN0IHBhZ2luYXRpb25FbDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQgPSB0aGlzLmNyZWF0ZVBhZ2luYXRpb24oXHJcbiAgICAgIHdpbm5lcnNcclxuICAgICk7XHJcbiAgICBjb25zdCB3aW5uZXJzVGFibGU6IEhUTUxUYWJsZUVsZW1lbnQgPSBhd2FpdCB0aGlzLmNyZWF0ZVdpbm5lcnNUYWJsZShcclxuICAgICAgd2lubmVyc1xyXG4gICAgKTtcclxuICAgIGlmIChwYWdpbmF0aW9uRWwpIHtcclxuICAgICAgd2lubmVyc0VsLmFwcGVuZCh0aXRsZUVsLCBwYWdpbmF0aW9uRWwsIHdpbm5lcnNUYWJsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFpbkVsLmFwcGVuZCh3aW5uZXJzRWwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRTb3J0KHNvcnQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgaWYgKHNvcnQgPT09IHRoaXMuc29ydCkge1xyXG4gICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uID09PSBcIkFTQ1wiID8gXCJERVNDXCIgOiBcIkFTQ1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zb3J0ID0gc29ydDtcclxuICAgICAgdGhpcy5kaXJlY3Rpb24gPSBcIkFTQ1wiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZHJhdygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVUaXRsZShjb3VudDogbnVtYmVyIHwgdW5kZWZpbmVkKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgdGl0bGVFbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XHJcbiAgICB0aXRsZUVsLmNsYXNzTGlzdC5hZGQoXCJ3aW5uZXJzX190aXRsZVwiKTtcclxuICAgIHRpdGxlRWwudGV4dENvbnRlbnQgPSBgV2lubmVycyAoJHtjb3VudCB8fCAwfSlgO1xyXG4gICAgcmV0dXJuIHRpdGxlRWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVBhZ2luYXRpb24oXHJcbiAgICB3aW5uZXJzOiBJV2lubmVyc0RhdGEgfCB1bmRlZmluZWRcclxuICApOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAod2lubmVycykge1xyXG4gICAgICBjb25zdCBwYWdpbmF0aW9uRWw6IEhUTUxFbGVtZW50ID0gdGhpcy5wYWdpbmF0aW9uLmNyZWF0ZVBhZ2luYXRpb24oXHJcbiAgICAgICAgdGhpcy5nZXRQYWdlLmJpbmQodGhpcyksXHJcbiAgICAgICAgdGhpcy5nZXRMaW1pdFdpbm5lcnMuYmluZCh0aGlzKSxcclxuICAgICAgICB3aW5uZXJzLmNvdW50V2lubmVycyxcclxuICAgICAgICB0aGlzLmRyYXcuYmluZCh0aGlzKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gcGFnaW5hdGlvbkVsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVXaW5uZXJzVGFibGUoXHJcbiAgICB3aW5uZXJzOiBJV2lubmVyc0RhdGEgfCB1bmRlZmluZWRcclxuICApOiBQcm9taXNlPEhUTUxUYWJsZUVsZW1lbnQ+IHtcclxuICAgIGNvbnN0IHRhYmxlRWw6IEhUTUxUYWJsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICB0YWJsZUVsLmNsYXNzTGlzdC5hZGQoXCJ3aW5uZXJzX190YWJsZVwiKTtcclxuICAgIGNvbnN0IGNvbHVtbnNCbG9jazogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUNvbHVtbnNCbG9jaygpO1xyXG4gICAgdGFibGVFbC5hcHBlbmQoY29sdW1uc0Jsb2NrKTtcclxuICAgIGNvbnN0IGNhcnNBbGw6IElBdXRvc1tdIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5jb250cm9sbGVyLmdldEF1dG9zQWxsKCk7XHJcbiAgICBpZiAod2lubmVycyAmJiBjYXJzQWxsKSB7XHJcbiAgICAgIHdpbm5lcnMud2lubmVycy5mb3JFYWNoKCh3aW5uZXI6IElXaW5uZXIsIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjb25zdCBjYXI6IElBdXRvcyB8IHVuZGVmaW5lZCA9IGNhcnNBbGwuZmluZChcclxuICAgICAgICAgIChjYXIpID0+IGNhci5pZCA9PT0gd2lubmVyLmlkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoY2FyKSB7XHJcbiAgICAgICAgICBjb25zdCByb3dzQmxvY2s6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVSb3dzQmxvY2soXHJcbiAgICAgICAgICAgICh0aGlzLnBhZ2UgLSAxKSAqIHRoaXMubGltaXRXaW5uZXJzICsgKGluZGV4ICsgMSksXHJcbiAgICAgICAgICAgIGNhci5uYW1lLFxyXG4gICAgICAgICAgICB3aW5uZXIud2lucyxcclxuICAgICAgICAgICAgd2lubmVyLnRpbWUsXHJcbiAgICAgICAgICAgIGNhci5jb2xvclxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHRhYmxlRWwuYXBwZW5kKHJvd3NCbG9jayk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YWJsZUVsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVDb2x1bW5zQmxvY2soKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbmFtZXNDb2x1bW5zOiB7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmcgfVtdID0gW1xyXG4gICAgICB7IGlkOiBcIm51bWJlclwiLCB0aXRsZTogXCJOdW1iZXJcIiB9LFxyXG4gICAgICB7IGlkOiBcImNhclwiLCB0aXRsZTogXCJDYXJcIiB9LFxyXG4gICAgICB7IGlkOiBcIm5hbWVcIiwgdGl0bGU6IFwiTmFtZVwiIH0sXHJcbiAgICAgIHsgaWQ6IFwid2luc1wiLCB0aXRsZTogXCJXaW5zXCIgfSxcclxuICAgICAgeyBpZDogXCJ0aW1lXCIsIHRpdGxlOiBcIkJlc3QgdGltZSAoc2Vjb25kcylcIiB9LFxyXG4gICAgXTtcclxuICAgIGNvbnN0IGNvbHVtbnNCbG9jazogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICBjb2x1bW5zQmxvY2suY2xhc3NMaXN0LmFkZChcIndpbm5lcnNfX2NvbHVtbnNcIik7XHJcbiAgICBjb25zdCBjb2x1bW5zOiBIVE1MRWxlbWVudFtdID0gbmFtZXNDb2x1bW5zLm1hcCgoY29sdW1uTmFtZSkgPT4ge1xyXG4gICAgICBjb25zdCBjb2x1bW46IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVDb2x1bW4oY29sdW1uTmFtZSk7XHJcbiAgICAgIHJldHVybiBjb2x1bW47XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb2x1bW5zQmxvY2suYXBwZW5kKC4uLmNvbHVtbnMpO1xyXG4gICAgcmV0dXJuIGNvbHVtbnNCbG9jaztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQ29sdW1uKGNvbnRlbnQ6IHsgaWQ6IHN0cmluZzsgdGl0bGU6IHN0cmluZyB9KTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3Qgc29ydGluZyA9IFtcIndpbnNcIiwgXCJ0aW1lXCJdO1xyXG4gICAgY29uc3QgY29sdW1uRWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgaWYgKHNvcnRpbmcuaW5jbHVkZXMoY29udGVudC5pZCkpIHtcclxuICAgICAgY29sdW1uRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFNvcnQoY29udGVudC5pZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb2x1bW5FbC5jbGFzc0xpc3QuYWRkKFwiaXMtc29ydFwiKTtcclxuICAgICAgaWYgKGNvbnRlbnQuaWQgPT09IHRoaXMuc29ydCkge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRoaXMuZGlyZWN0aW9uID09PSBcIkFTQ1wiID8gXCJzb3J0LWFzY1wiIDogXCJzb3J0LWRlc2NcIjtcclxuICAgICAgICBjb2x1bW5FbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbHVtbkVsLnRleHRDb250ZW50ID0gY29udGVudC50aXRsZTtcclxuICAgIHJldHVybiBjb2x1bW5FbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlUm93c0Jsb2NrKFxyXG4gICAgbnVtYmVyOiBudW1iZXIsXHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICB3aW5zOiBudW1iZXIsXHJcbiAgICB0aW1lOiBudW1iZXIsXHJcbiAgICBjb2xvcjogc3RyaW5nXHJcbiAgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3Qgcm93c0Jsb2NrOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICAgIHJvd3NCbG9jay5jbGFzc0xpc3QuYWRkKFwid2lubmVyc19fcm93c1wiKTtcclxuICAgIGNvbnN0IG51bWJlckVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlUm93KFxyXG4gICAgICBudW1iZXIudG9TdHJpbmcoKSxcclxuICAgICAgXCJ3aW5uZXJzX19udW1iZXJcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGNhckVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlUm93KFxyXG4gICAgICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAxMjgwIDY0MFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgeG1sbnM6dj1cImh0dHBzOi8vdmVjdGEuaW8vbmFub1wiPjxnIGZpbGw9XCIke2NvbG9yfVwiIHN0cm9rZT1cIm5vbmVcIj48cGF0aCBkPVwiTTM1Ni41IDEwNi40Yy0xMC42IDMtMTAuMSAyLjYtMTAuOCAxMS4xLS40IDQuMi0uOSA4LTEuMiA4LjUtLjYgMS0yNC42IDEwLjUtNTkgMjMuNC00NC44IDE2LjctMTA1LjIgNDEuNS0xMTcuMyA0OC4zLTcuOCA0LjMtMTkuMyA5LjEtMjUgMTAuNC0yLjMuNS05LjggMS40LTE2LjUgMS45LTYuNy42LTE2LjcgMS45LTIyLjIgMy0xNS40IDMuMS0zNCA0LjktNTYuMyA1LjdsLTIwLjMuNi00LjMgNi42Yy01LjkgOS4xLTYgOS41LTIuNiAxMyAzLjcgMy43IDMuOCA2LjUuMyAxNS0yLjUgNi4yLTIuNyA3LjgtMy4xIDI1LjZsLS40IDE5LTMuOCAzLjJDNC45IDMwOS41LjcgMzIyLjYuNiAzNDMuNWMwIDE5LjQgMS4xIDM5LjYgMi42IDQ4LjIgMS4zIDcuMSAxLjQgNy40IDcuMiAxMi4yIDYuOSA1LjggMTMgMTIuOSAxNS44IDE4LjQgNi40IDEyLjYgNTMuNCAyMS4xIDEzOC40IDI1bDkuMi40LS42LTExLjljLS42LTE0LjIuOC0yNS42IDQuOS0zOC4zIDExLjItMzUuMiAzOS40LTYyLjIgNzUuNi03Mi4yIDktMi42IDExLjItMi44IDI3LjgtMi44IDE2LjUgMCAxOC44LjIgMjcuOCAyLjcgMjAuMSA1LjYgMzYuMSAxNS4yIDUwLjQgMzAuMiAxNCAxNC41IDIyLjIgMjkuMyAyNy40IDQ5LjIgMi4xIDcuOSAyLjQgMTAuOSAyLjMgMjcuOS0uMSAxMi43LS42IDIxLjQtMS42IDI2LjNsLTEuNSA3LjMgMzAwLjYtLjcgMzAwLjktLjljLjEtLjEtLjgtMy43LTItOC4xLTEuOS02LjctMi4yLTEwLjUtMi4yLTI1LjktLjEtMTYuNi4xLTE4LjcgMi43LTI3LjkgMTEuNy00Mi4xIDQ2LjctNzMuNiA4OC41LTc5LjcgMTEuOS0xLjcgMzIuNS0uNyA0My4yIDIuMSAyMy45IDYuMyA0NS4zIDIwLjUgNjAuMSAzOS45IDcgOS4yIDE1LjQgMjYuNyAxOC41IDM4LjYgMi40IDguOCAyLjcgMTEuOSAyLjcgMjYgLjEgMTEuNi0uNCAxOC4xLTEuNiAyMy40LTEgNC4xLTEuNiA3LjUtMS41IDcuNi4yLjEgNi4yLS4yIDEzLjMtLjYgMjYuNi0xLjYgNDUuOC00LjUgNTIuNS03LjkgNC44LTIuNCA5LjctOC4xIDEyLjctMTQuNmwyLjQtNS4yLTEuNi0xNS43Yy0xLjUtMTUuMi0xLjUtMTYuMy40LTI4LjQgNi4zLTM4LjggNS02OC0zLjUtODAuMi0xMy40LTE5LjMtNTIuNi0zMy42LTE0Mi45LTUxLjktNzMuNy0xNC45LTEzMi4yLTIwLjktMjAzLjMtMjEtMjIuOCAwLTIyLjYgMC0zNC43LTguNS0xOC43LTEzLjEtMTA0LjUtNjAuNy0xNDcuMS04MS41LTM4LjMtMTguNy03OC44LTI4LjEtMTQzLjktMzMuMi0yMC44LTEuNy0xMTAuNi0xLjYtMTQwIDBsLTQzIDIuN2MtMzAuMiAyLjItMjguNiAyLjItMzQuMS0xLTE0LTguMS0xOC43LTkuNC0yNi45LTcuMXpNNTQ1IDEzOS43bDcuMSA0NC42IDcuNSA0Ny40Yy45IDUuMiAxLjUgOS42IDEuMyA5LjctMS4xLjktMTY5LjktMi45LTE5NS4xLTQuNC0yMC42LTEuMy00MS43LTMuNi00OC41LTUuNC05LjgtMi42LTE5LjgtMTEuOS0yNC45LTIzLjEtMy41LTcuNS0zLjYtMTcuMi0uNS0yNS41IDEuNy00LjUgMy02LjEgNi44LTguNiA4LjMtNS40IDEzLjUtOCAyNS4zLTEyLjcgMzQuMS0xMy42IDg1LjgtMjMgMTQ2LTI2LjcgMjYuOS0xLjYgMjctMS42IDUxLjEtMS44bDIyLjctLjIgMS4yIDYuN3ptNjMtNC43YzI2LjQgMS44IDc3LjcgMTEgMTAyLjkgMTguNiAxOC42IDUuNiA0NC41IDE4LjggNzUuNiAzOC43IDIxLjEgMTMuNCAyNy40IDE4LjEgMjUgMTguNS03LjUgMS4yLTEzLjMgNS0xNi4yIDEwLjYtMS45IDMuNS0yLjEgMTMuNi0uNCAxNy45bDEuMSAyLjctOTAuNy0uMi05MC42LS4zLTUuOS0xNmMtMTEtMzAuMi0yOS44LTg3LjgtMjkuOC05MS42IDAtLjYgOS41LS4yIDI5IDEuMXpNMjYzLjMgMzI3LjVjLTIyLjMgNC00MSAxNC4xLTU2LjggMzAuNi0xMy4yIDEzLjgtMjEuMyAyOC4zLTI2LjIgNDYuNy0yLjIgOC4zLTIuNiAxMS45LTIuNiAyNC43LS4xIDE2LjkgMSAyMy42IDYuNSAzOC4yIDguNyAyMyAyNy4xIDQzLjYgNDkuMyA1NS4xIDguNSA0LjQgMTcuOCA3LjggMjcuMSA5LjggMTAuNyAyLjMgMzEuMiAyLjMgNDEuOS0uMSAzOS4yLTguNCA2OS45LTM3LjUgODAuMi03Ni4xIDIuMy04LjYgMi42LTEyIDIuNy0yNS40LjEtMTUuOC0uNS0xOS45LTQuNi0zMy05LjgtMzEtMzUuNS01Ni43LTY2LjgtNjYuOS0xNS01LTM1LjQtNi40LTUwLjctMy42em0zNSAzMC4xYzI0LjkgNS42IDQ1LjcgMjQuNyA1NC4zIDQ5LjkgMi41IDcuMiAyLjggOS41IDIuOCAyMiAuMSAxNS4zLTEuNSAyMi44LTcuNCAzNC41LTkuNCAxOC42LTI4LjMgMzMuNy00OC41IDM4LjYtOS42IDIuNC0yNi44IDIuNC0zNiAwLTMyLTguNC01NC40LTM1LjUtNTYuMi02OC4xLTItMzUuOSAyMC45LTY3LjMgNTUuOC03Ni41IDkuNC0yLjQgMjUuMy0yLjYgMzUuMi0uNHpNMjYwIDM3MC4zYy0zLjYgMS4zLTguNSAzLjYtMTAuOSA1LjFsLTQuNCAyLjggMTEuNiAxMS41YzguMSA4LjIgMTIgMTEuNCAxMy4xIDExIDEuNC0uNiAxLjYtMi45IDEuNi0xNi43IDAtMTguNi42LTE3LjgtMTEtMTMuN3ptMzIgMTMuNmMwIDEzLjkuMiAxNi4yIDEuNiAxNi44IDEuMS40IDUtMi44IDEzLTEwLjhsMTEuNS0xMS40LTIuOC0yLjJjLTMuNC0yLjgtMTMuOC03LTE5LjMtNy45bC00LS43djE2LjJ6bS02My44IDExLjNjLTIuOCAzLjYtOS4yIDE5LjEtOS4yIDIyLjUgMCAxIDMuNCAxLjMgMTYuNSAxLjMgMTUuMSAwIDE2LjUtLjEgMTYuNS0xLjggMC0xLjUtMjAuNi0yMy4yLTIyLjEtMjMuMi0uNCAwLTEuMS42LTEuNyAxLjJ6bTk0IDkuN2MtNi4yIDUuOS0xMS4yIDExLjUtMTEuMiAxMi40IDAgMS41IDEuNyAxLjcgMTYuNSAxLjcgMTMuMSAwIDE2LjUtLjMgMTYuNS0xLjMgMC00LTYuOS0yMC41LTkuNS0yMi43LS43LS42LTQuOCAyLjctMTIuMyA5Ljl6bS00NC4xIDEuOWMtMS4yIDIuMiAxLjEgNi4yIDMuNCA2LjIuOCAwIDIuMS0xIDIuOS0yLjIgMi0yLjguNC01LjgtMi45LTUuOC0xLjMgMC0yLjkuOC0zLjQgMS44em0tMy4yIDE3LjFjLTMuMiAzLjMtMy43IDYuNy0xLjQgMTEgMi45IDUuNyAxMC40IDYuNCAxNS4xIDEuNCA1LjMtNS43LjktMTUuMy03LjEtMTUuMy0yLjcgMC00LjQuOC02LjYgMi45em0tMTcuOSAzLjZjLTIuNiAzLjIgMS4zIDguMSA0LjggNS45IDIuNC0xLjYgMi43LTQuNS42LTYuMS0yLjMtMS43LTMuOS0xLjYtNS40LjJ6bTQzLjYuMWMtMiAxLjktMiAzLjgtLjIgNS40IDIuMyAxLjkgNi4xLjggNi40LTEuOC43LTQuNC0zLjItNi43LTYuMi0zLjZ6TTIxOSA0NDIuNWMwIDIuOSA0LjEgMTQgNy4yIDE5LjRsMy4xIDUuMyAxMS43LTExLjdjNy4xLTcuMSAxMS42LTEyLjMgMTEuMy0xMy4xLS40LTEuMS00LTEuNC0xNi45LTEuNC0xNC4xIDAtMTYuNC4yLTE2LjQgMS41em05MiAuM2MwIC45IDUuMSA2LjggMTEuNCAxMy4xbDExLjQgMTEuNCAzLjEtNS40YzMtNS4xIDcuMS0xNi41IDcuMS0xOS41IDAtMS4xLTMuMS0xLjQtMTYuNS0xLjQtMTUuMSAwLTE2LjUuMS0xNi41IDEuOHptLTMzIDcuMWMtLjcgMS41LS41IDIuNC44IDQuMSAzLjIgNCA4LjUuNCA2LjItNC4xLTEuNC0yLjUtNS42LTIuNS03IDB6bS0yMS44IDIwLjRjLTYuMSA2LjItMTEuMiAxMS41LTExLjIgMTEuOSAwIDEuOCAyMC44IDEwLjggMjQuOSAxMC44LjcgMCAxLjEtNS40IDEuMS0xNi40IDAtMTQtLjItMTYuNS0xLjYtMTctLjktLjMtMS42LS42LTEuNy0uNnMtNS4zIDUuMS0xMS41IDExLjN6bTM3LjEtMTAuNmMtMS41LjYtMS45IDMzLjMtLjQgMzMuMyA0LjYgMCAyNS4xLTguOCAyNS4xLTEwLjggMC0uOS0yMi4zLTIzLjItMjMtMjMuMS0uMyAwLTEuMS4zLTEuNy42ek0xMDcwIDMyOC4xYy0zOSA4LjQtNjkuNiAzNy42LTc5LjcgNzUuOS0zLjEgMTEuNy00LjEgMjkuMi0yLjQgNDEuMSAzLjMgMjIuNyAxNSA0NS4zIDMxLjggNjAuOSAyNi43IDI1IDY0LjMgMzQuNCA5OS4zIDI0LjkgMTEuNy0zLjIgMjguMy0xMS44IDM4LTE5LjYgNDguNy0zOS42IDUxLjgtMTEyLjggNi43LTE1Ni05LjctOS4zLTE2LjYtMTQtMjktMTkuOC0xMy43LTYuNC0yMy41LTguNi00MC43LTkuMS0xMi0uMy0xNi4yIDAtMjQgMS43em00NC41IDMxLjNjMjMuOCA4LjEgNDAuOSAyNS44IDQ4LjYgNTAuNiAzIDkuNiAzLjMgMjguOS41IDM4LjgtMTEgNDAtNTEuMyA2My43LTkxLjEgNTMuNi0xNC45LTMuOC0zMS4zLTE0LjctNDAuMi0yNi43LTE3LjYtMjMuOC0yMC4zLTUzLjMtNy4xLTc5LjcgMy40LTYuOSA2LTEwLjMgMTMuOC0xOCA3LjctNy44IDExLjEtMTAuNCAxOC4xLTEzLjkgMTIuOS02LjUgMjAuNy04LjEgMzYuNC03LjcgMTAuOS4zIDE0LjMuNyAyMSAzem0tNDQuMiAxMC42Yy01LjQgMS45LTE1LjMgNy4xLTE1LjMgOCAwIC4zIDUuMSA1LjcgMTEuNCAxMS45IDggOCAxMS45IDExLjIgMTMgMTAuOCAxLjQtLjUgMS42LTIuOSAxLjYtMTYuN3YtMTZsLTIuNy4xYy0xLjYgMC01LjIuOS04IDEuOXptMzEuNyAxMy45YzAgMTMuOS4yIDE2LjIgMS42IDE2LjggMi4yLjggMjQuNy0yMS42IDIzLjQtMjMuMi0xLjctMi0xNi4zLTguNC0yMC43LTkuMWwtNC4zLS43djE2LjJ6bS02NS40IDEzLjdjLTIuOSA0LjQtNy42IDE2LjUtNy42IDE5LjQgMCAxLjkuNyAyIDE2LjUgMiAxMi42IDAgMTYuNS0uMyAxNi41LTEuMyAwLS43LTUuMS02LjMtMTEuNC0xMi42bC0xMS40LTExLjQtMi42IDMuOXptOTQuNyA3LjZjLTYuMSA2LjItMTAuOSAxMS45LTEwLjYgMTIuNS42IDEuNSAzMy4zIDEuOSAzMy4zLjQgMC00LjUtOC44LTI0LjEtMTAuOC0yNC4xLS40IDAtNS43IDUuMS0xMS45IDExLjJ6bS00My4xIDFjLTEuNyAxLjctMS41IDMuMi43IDUuMiAxLjYgMS40IDIuMyAxLjUgNC4xLjYgMy4xLTEuNyAyLjQtNi40LTEtNi44LTEuNC0uMi0zLjEuMy0zLjggMXptLTMuNiAxNy45Yy02LjggOC4xIDEuNyAxOS40IDExIDE0LjQgOC45LTQuOCA1LjYtMTcuNS00LjYtMTcuNS0zIDAtNC40LjYtNi40IDMuMXptLTE3LjYgMy4zYy0xLjkgMi4zLS44IDYuMSAxLjggNi40IDQuNC43IDYuNy0zLjIgMy42LTYuMi0xLjktMi0zLjgtMi01LjQtLjJ6bTQzLjYtLjFjLTIuMSAxLjYtMS44IDQuNS43IDYuMSAzLjcgMi4zIDcuNy0zLjUgNC4xLTYuMS0xLS43LTIuMS0xLjMtMi40LTEuM3MtMS40LjYtMi40IDEuM3pNMTAyOSA0NDNjMCAyLjkgNC4zIDE0LjEgNy40IDE5LjVsMi44IDQuOCAxMS42LTExLjZjOC4xLTguMSAxMS4zLTEyIDEwLjktMTMuMS0uNi0xLjQtMi45LTEuNi0xNi43LTEuNi0xNS4yIDAtMTYgLjEtMTYgMnptOTEuNy0uOGMtLjMuNyA0LjcgNi42IDExLjEgMTNsMTEuNiAxMS44IDIuNy00LjNjMi43LTQuNCA3LjktMTcuNyA3LjktMjAuMyAwLTEuMi0yLjgtMS40LTE2LjQtMS40LTEyLjIgMC0xNi42LjMtMTYuOSAxLjJ6bS0zMi42IDcuN2MtMS40IDIuNS0uNSA0LjggMiA1LjYgMi43LjkgNS4xLTEuMyA0LjctNC40LS40LTMuNC01LjEtNC4zLTYuNy0xLjJ6bS0yMS45IDIwLjRjLTYuMSA2LjItMTEuMiAxMS41LTExLjIgMTEuOSAwIDIgMjAuMSAxMC44IDI0LjcgMTAuOCAxIDAgMS4zLTMuNCAxLjMtMTYuNCAwLTE0LS4yLTE2LjUtMS42LTE3LS45LS4zLTEuNi0uNi0xLjctLjZzLTUuMyA1LjEtMTEuNSAxMS4zem0zNy4xLTEwLjZjLTEgLjMtMS4zIDQuNy0xLjMgMTYuOSAwIDkgLjQgMTYuNC44IDE2LjQgMy42IDAgMTguNi02LjEgMjMuOS05LjggMS42LTEtMjEuNi0yNC4yLTIzLjQtMjMuNXpcIi8+PC9nPjwvc3ZnPmAsXHJcbiAgICAgIFwid2lubmVyc19fY2FyXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBuYW1lRWw6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVSb3cobmFtZSwgXCJ3aW5uZXJzX19uYW1lXCIpO1xyXG4gICAgY29uc3Qgd2luc0VsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlUm93KFxyXG4gICAgICB3aW5zLnRvU3RyaW5nKCksXHJcbiAgICAgIFwid2lubmVyc19fd2luc1wiXHJcbiAgICApO1xyXG4gICAgY29uc3QgdGltZUVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlUm93KFxyXG4gICAgICB0aW1lLnRvU3RyaW5nKCksXHJcbiAgICAgIFwid2lubmVyc19fdGltZVwiXHJcbiAgICApO1xyXG4gICAgcm93c0Jsb2NrLmFwcGVuZChudW1iZXJFbCwgY2FyRWwsIG5hbWVFbCwgd2luc0VsLCB0aW1lRWwpO1xyXG4gICAgcmV0dXJuIHJvd3NCbG9jaztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlUm93KGNvbnRlbnQ6IHN0cmluZywgbXlDbGFzczogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3Qgcm93RWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgcm93RWwuY2xhc3NMaXN0LmFkZChteUNsYXNzKTtcclxuICAgIHJvd0VsLmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgICByZXR1cm4gcm93RWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0UGFnZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRMaW1pdFdpbm5lcnMoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxpbWl0V2lubmVycztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFdpbm5lcnNQYWdlO1xyXG4iLCJpbXBvcnQgXCIuL3Nhc3Mvc3R5bGUuc2Nzc1wiO1xyXG5pbXBvcnQgUm91dGVyIGZyb20gXCIuL3V0aWxzL1JvdXRpbmdcIjtcclxuaW1wb3J0IE1haW5QYWdlIGZyb20gXCIuL3BhZ2VzL21haW5cIjtcclxuaW1wb3J0IFdpbm5lcnNQYWdlIGZyb20gXCIuL3BhZ2VzL3dpbm5lcnNcIjtcclxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9jb21wb25lbnRzL2hlYWRlclwiO1xyXG5cclxuaW1wb3J0IHsgSVJvdXQsIElNYWluUGFnZSwgSUhlYWRlciwgSVdpbm5lcnNQYWdlIH0gZnJvbSBcIi4vdHlwZXMvaW5kZXhcIjtcclxuXHJcbmNvbnN0IG1haW5QYWdlOiBJTWFpblBhZ2UgPSBuZXcgTWFpblBhZ2UoKTtcclxuY29uc3Qgd2lubmVyc1BhZ2U6IElXaW5uZXJzUGFnZSA9IG5ldyBXaW5uZXJzUGFnZSgpO1xyXG5cclxuY29uc3QgaGVhZGVyOiBJSGVhZGVyID0gbmV3IEhlYWRlcigpO1xyXG5cclxuLy8gcm91dGVyIHN0YXJ0IGFcclxuLy8g0YHQv9C40YHQvtC6INGB0YLRgNCw0L3QuNGGINGBINC60L7Qu9Cx0LXQutCw0LzQuDog0L/Rg9GC0Ywg0Lgg0YfRgtC+INC00LXQu9Cw0YLRjFxyXG5jb25zdCByb3V0czogSVJvdXRbXSA9IFtcclxuICB7XHJcbiAgICBwYXRoOiBcIlwiLFxyXG4gICAgY2I6IG1haW5QYWdlLmRyYXcuYmluZChtYWluUGFnZSksXHJcbiAgfSxcclxuICB7XHJcbiAgICBwYXRoOiBcIndpbm5lcnNcIixcclxuICAgIGNiOiB3aW5uZXJzUGFnZS5kcmF3UGFnZS5iaW5kKHdpbm5lcnNQYWdlKSxcclxuICB9LFxyXG4gIC8vIHtcclxuICAvLyAgIHBhdGg6IFwicHJvZHVjdHMvOmlkXCIsXHJcbiAgLy8gICBjYjogKGlkKSA9PiB7XHJcbiAgLy8gICAgIHByb2R1Y3RQYWdlLmRyYXcoaWQpO1xyXG4gIC8vICAgfSxcclxuICAvLyB9LFxyXG5dO1xyXG4vL9C+0LHRitC10LrRgiDRgNC+0YPRgtC10YDQsFxyXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKHJvdXRzLCBtYWluUGFnZS5kcmF3LmJpbmQobWFpblBhZ2UpKTtcclxuaGVhZGVyLmRyYXdFbGVtZW50cyhyb3V0ZXIpO1xyXG4vLyBtYWluUGFnZS5kcmF3KCk7XHJcbi8vINC/0YDQvtCy0YDQutCwINC60LDQutCw0Y8g0YHQutC50YfQsNGBINGB0YLRgNCw0L3QuNGG0LBcclxubWFpblBhZ2Uucm91dGVyID0gcm91dGVyO1xyXG5yb3V0ZXIuaW5pdCgpO1xyXG4iLCJpbXBvcnQge1xyXG4gIElSb3V0ZXIsXHJcbiAgSUNvbnRyb2xsZXIsXHJcbiAgSUF1dG9zLFxyXG4gIElHYXJhZ2UsXHJcbiAgSUNvbnRyb2xQYW5lbCxcclxuICBJQXV0b3NEYXRhLFxyXG4gIElNb2RhbCxcclxufSBmcm9tIFwiLi4vdHlwZXMvaW5kZXhcIjtcclxuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSBcIi4uL3V0aWxzL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IEdhcmFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9nYXJhZ2VcIjtcclxuaW1wb3J0IENvbnRyb2xQYW5lbCBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250cm9sLXBhbmVsXCI7XHJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vY29tcG9uZW50cy9tb2RhbFwiO1xyXG5cclxuY2xhc3MgTWFpblBhZ2Uge1xyXG4gIHByaXZhdGUgY29udHJvbGxlcjogSUNvbnRyb2xsZXI7XHJcbiAgcHVibGljIHJvdXRlcj86IElSb3V0ZXI7XHJcbiAgcHJpdmF0ZSBnYXJhZ2U6IElHYXJhZ2U7XHJcbiAgcHJpdmF0ZSBjb250cm9sUGFuZWw6IElDb250cm9sUGFuZWw7XHJcbiAgcHJpdmF0ZSBwYWdlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBsaW1pdENhcnM6IG51bWJlcjtcclxuICBwcml2YXRlIG1vZGFsOiBJTW9kYWw7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcclxuICAgIHRoaXMuZ2FyYWdlID0gbmV3IEdhcmFnZSgpO1xyXG4gICAgdGhpcy5jb250cm9sUGFuZWwgPSBuZXcgQ29udHJvbFBhbmVsKCk7XHJcbiAgICB0aGlzLnBhZ2UgPSAxO1xyXG4gICAgdGhpcy5saW1pdENhcnMgPSA3O1xyXG4gICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXcoKTogdm9pZCB7XHJcbiAgICBjb25zdCBtYWluRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIik7XHJcbiAgICBpZiAoIW1haW5FbGVtZW50KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG1haW5FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYWluXCIpO1xyXG4gICAgbWFpbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgY29uc3QgbW9kYWw6IEhUTUxFbGVtZW50ID0gdGhpcy5tb2RhbC5jcmVhdGVNb2RhbCgpO1xyXG4gICAgbWFpbkVsZW1lbnQuYXBwZW5kKG1vZGFsKTtcclxuXHJcbiAgICBjb25zdCBjb250cm9sUGFuZWw6IEhUTUxFbGVtZW50ID0gdGhpcy5jb250cm9sUGFuZWwuY3JlYXRlQ29udHJvbFBhbmVsKFxyXG4gICAgICB0aGlzLmRyYXdHYXJhZ2UuYmluZCh0aGlzKSxcclxuICAgICAgdGhpcy5nZXRQYWdlLmJpbmQodGhpcyksXHJcbiAgICAgIHRoaXMuZ2V0TGltaXRDYXJzLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICBtYWluRWxlbWVudC5hcHBlbmQoY29udHJvbFBhbmVsKTtcclxuICAgIHRoaXMuZHJhd0dhcmFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBkcmF3R2FyYWdlKHBhZ2U/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmIChwYWdlKSB7XHJcbiAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXV0b3NEYXRhOiBJQXV0b3NEYXRhIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5jb250cm9sbGVyLmdldEF1dG9zKFxyXG4gICAgICB0aGlzLnBhZ2UsXHJcbiAgICAgIHRoaXMubGltaXRDYXJzXHJcbiAgICApO1xyXG4gICAgaWYgKCFhdXRvc0RhdGEpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZ2FyYWdlOiBIVE1MRWxlbWVudCA9IHRoaXMuZ2FyYWdlLmNyZWF0ZUdhcmFnZShcclxuICAgICAgYXV0b3NEYXRhLmF1dG9zLFxyXG4gICAgICB0aGlzLmRyYXdHYXJhZ2UuYmluZCh0aGlzKSxcclxuICAgICAgYXV0b3NEYXRhLmNvdW50Q2FycyxcclxuICAgICAgdGhpcy5nZXRQYWdlLmJpbmQodGhpcyksXHJcbiAgICAgIHRoaXMuZ2V0TGltaXRDYXJzLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICBsZXQgc2VjdGlvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYXJhZ2VcIik7XHJcbiAgICBpZiAoIXNlY3Rpb24pIHtcclxuICAgICAgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xyXG4gICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJnYXJhZ2VcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWN0aW9uLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH1cclxuICAgIHNlY3Rpb24uYXBwZW5kKGdhcmFnZSk7XHJcbiAgICBjb25zdCBtYWluOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XHJcbiAgICBpZiAoIW1haW4pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbWFpbi5hcHBlbmQoc2VjdGlvbik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0UGFnZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRMaW1pdENhcnMoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxpbWl0Q2FycztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1haW5QYWdlO1xyXG4iLCJpbXBvcnQgeyBJQXV0b3MsIElDb250cm9sbGVyLCBJVGVtcGxhdGUsIElQYWdpbmF0aW9uIH0gZnJvbSBcInNyYy90eXBlc1wiO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi4vdXRpbHMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgVGVtcGxhdGUgZnJvbSBcIi4uL3RlbXBsYXRlcy90ZW1wbGF0ZVwiO1xyXG5pbXBvcnQgUGFnaW5hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9wYWdpbmF0aW9uXCI7XHJcblxyXG5jbGFzcyBHYXJhZ2Uge1xyXG4gIGNvbnRyb2xsZXI6IElDb250cm9sbGVyO1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcbiAgcGFnaW5hdGlvbjogSVBhZ2luYXRpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcclxuICAgIHRoaXMudGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoKTtcclxuICAgIHRoaXMucGFnaW5hdGlvbiA9IG5ldyBQYWdpbmF0aW9uKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjcmVhdGVHYXJhZ2UoXHJcbiAgICBhdXRvczogSUF1dG9zW10sXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkLFxyXG4gICAgY291bnRDYXJzOiBudW1iZXIsXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlclxyXG4gICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGdhcmFnZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZ2FyYWdlLmNsYXNzTGlzdC5hZGQoXCJnYXJhZ2VfX3dyYXBcIik7XHJcbiAgICBjb25zdCB0aXRsZTogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVRpdGxlcyhjb3VudENhcnMpO1xyXG4gICAgY29uc3QgcGFnaW5hdGlvbkJsb2NrOiBIVE1MRWxlbWVudCA9IHRoaXMucGFnaW5hdGlvbi5jcmVhdGVQYWdpbmF0aW9uKFxyXG4gICAgICBnZXRQYWdlLFxyXG4gICAgICBnZXRMaW1pdENhcnMsXHJcbiAgICAgIGNvdW50Q2FycyxcclxuICAgICAgZHJhd0dhcmFnZVxyXG4gICAgKTtcclxuICAgIGdhcmFnZS5hcHBlbmQodGl0bGUsIHBhZ2luYXRpb25CbG9jayk7XHJcbiAgICBhdXRvcy5tYXAoKGF1dG8pID0+IHtcclxuICAgICAgY29uc3QgY29udGFpbmVyOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQ29udGFpbmVyKGF1dG8sIGRyYXdHYXJhZ2UpO1xyXG4gICAgICBjb25zdCBpbWFnZXM6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVJbWFnZXMoYXV0byk7XHJcbiAgICAgIGdhcmFnZS5hcHBlbmQoY29udGFpbmVyLCBpbWFnZXMpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZ2FyYWdlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVUaXRsZXMoY291bnRDYXJzOiBudW1iZXIpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCB0aXRsZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwiZ2FyYWdlX190aXRsZVwiKTtcclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gYEdhcmFnZSAoJHtjb3VudENhcnN9KWA7XHJcbiAgICByZXR1cm4gdGl0bGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUNvbnRhaW5lcihhdXRvOiBJQXV0b3MsIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWQpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBjb250YWluZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FyYWdlX19jb250YWluZXJcIik7XHJcbiAgICBjb25zdCBidXR0b25zOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQnV0dG9ucyhhdXRvLCBkcmF3R2FyYWdlKTtcclxuICAgIGNvbnN0IG5hbWVBdXRvOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlTmFtZUF1dG8oYXV0by5uYW1lKTtcclxuICAgIGNvbnN0IGNvbnRyb2xBdXRvOiBIVE1MRWxlbWVudCA9IHRoaXMuY29udHJvbEF1dG8oYXV0byk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kKGJ1dHRvbnMsIG5hbWVBdXRvLCBjb250cm9sQXV0byk7XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCdXR0b25zKGF1dG86IElBdXRvcywgZHJhd0dhcmFnZTogKCkgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGJ1dHRvbnM6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGJ1dHRvbnMuY2xhc3NMaXN0LmFkZChcImdhcmFnZV9fYnV0dG9uc1wiKTtcclxuICAgIGNvbnN0IGJ0blNlbGVjdDogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJnYXJhZ2VfX2J0bi1zZWxlY3RcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJTZWxlY3RcIlxyXG4gICAgKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJTZWxlY3QoYnRuU2VsZWN0LCBhdXRvKTtcclxuICAgIGNvbnN0IGJ0blJlbW92ZTogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJnYXJhZ2VfX2J0bi1yZW1vdmVcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJSZW1vdmVcIlxyXG4gICAgKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJSZW1vdmUoYnRuUmVtb3ZlLCBhdXRvLmlkLCBkcmF3R2FyYWdlKTtcclxuICAgIGJ1dHRvbnMuYXBwZW5kKGJ0blNlbGVjdCwgYnRuUmVtb3ZlKTtcclxuICAgIHJldHVybiBidXR0b25zO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclJlbW92ZShcclxuICAgIGJ0blJlbW92ZTogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgYnRuUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZGVsZXRlQ2FyKGlkLCBkcmF3R2FyYWdlKTtcclxuICAgICAgdGhpcy5kZWxldGVXaW5uZXIoaWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyU2VsZWN0KFxyXG4gICAgYnRuU2VsZWN0OiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGF1dG86IElBdXRvc1xyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlTmFtZTogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnVwZGF0ZS1jYXJzX19uYW1lXCJcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXRVcGRhdGVDb2xvcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnVwZGF0ZS1jYXJzX19jb2xvclwiXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlSWQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIi51cGRhdGUtY2Fyc19faWRcIlxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBidG5VcGRhdGU6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIudXBkYXRlLWNhcnNfX2J0blwiXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChpbnB1dFVwZGF0ZU5hbWUgJiYgaW5wdXRVcGRhdGVDb2xvciAmJiBpbnB1dFVwZGF0ZUlkICYmIGJ0blVwZGF0ZSkge1xyXG4gICAgICAgIGlucHV0VXBkYXRlTmFtZS52YWx1ZSA9IGF1dG8ubmFtZTtcclxuICAgICAgICBpbnB1dFVwZGF0ZUNvbG9yLnZhbHVlID0gYXV0by5jb2xvcjtcclxuICAgICAgICBpbnB1dFVwZGF0ZUlkLnZhbHVlID0gYXV0by5pZC50b1N0cmluZygpO1xyXG4gICAgICAgIGJ0blVwZGF0ZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlQ2FyKGlkOiBudW1iZXIsIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuY29udHJvbGxlci5kZWxldGVDYXIoaWQpO1xyXG4gICAgZHJhd0dhcmFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVXaW5uZXIoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLmRlbGV0ZVdpbm5lcihpZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU5hbWVBdXRvKG5hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG5hbWVBdXRvOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgbmFtZUF1dG8uY2xhc3NMaXN0LmFkZChcImdhcmFnZV9fbmFtZS1hdXRvXCIpO1xyXG4gICAgbmFtZUF1dG8udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgcmV0dXJuIG5hbWVBdXRvO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb250cm9sQXV0byhhdXRvOiBJQXV0b3MpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBjb250cm9sQXV0bzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29udHJvbEF1dG8uY2xhc3NMaXN0LmFkZChcImNvbnRyb2wtYXV0b1wiKTtcclxuICAgIGNvbnN0IGJ0blJ1bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJjb250cm9sLWF1dG9fX3J1blwiLFxyXG4gICAgICBcImJ0bi1jb250cm9sXCIsXHJcbiAgICAgIFwiQVwiXHJcbiAgICApO1xyXG4gICAgYnRuUnVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbGxlci5zdGFydENhcihhdXRvLCBidG5SdW4sIGJ0blN0b3ApO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBidG5TdG9wOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlQnRuKFxyXG4gICAgICBcImNvbnRyb2wtYXV0b19fc3RvcFwiLFxyXG4gICAgICBcImJ0bi1jb250cm9sXCIsXHJcbiAgICAgIFwiQlwiXHJcbiAgICApO1xyXG4gICAgYnRuU3RvcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBidG5TdG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbGxlci5zdG9wQ2FyKGF1dG8sIGJ0blJ1biwgYnRuU3RvcCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnRyb2xBdXRvLmFwcGVuZChidG5SdW4sIGJ0blN0b3ApO1xyXG4gICAgcmV0dXJuIGNvbnRyb2xBdXRvO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVJbWFnZXMoYXV0bzogSUF1dG9zKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgaW1hZ2VzOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbWFnZXMuY2xhc3NMaXN0LmFkZChcImdhcmFnZV9faW1hZ2VzXCIpO1xyXG4gICAgY29uc3QgaW1nQ2FyOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQ2FySW1nKGF1dG8pO1xyXG4gICAgY29uc3QgYmxvY2tJbWdGaW5pc2g6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVCbG9ja0ltZyhcclxuICAgICAgXCJnYXJhZ2VfX2ltZy1maW5pc2hcIlxyXG4gICAgKTtcclxuICAgIGltYWdlcy5hcHBlbmQoaW1nQ2FyLCBibG9ja0ltZ0ZpbmlzaCk7XHJcbiAgICByZXR1cm4gaW1hZ2VzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCbG9ja0ltZyhjbGFzc05hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGJsb2NrSW1nOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBibG9ja0ltZy5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICByZXR1cm4gYmxvY2tJbWc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUNhckltZyhhdXRvOiBJQXV0b3MpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBkaXY6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRpdi5pZCA9IGF1dG8uaWQudG9TdHJpbmcoKTtcclxuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwiZ2FyYWdlX19pbWctYXV0b1wiKTtcclxuICAgIGRpdi5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAxMjgwIDY0MFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgeG1sbnM6dj1cImh0dHBzOi8vdmVjdGEuaW8vbmFub1wiPjxnIGZpbGw9XCIke2F1dG8uY29sb3J9XCIgc3Ryb2tlPVwibm9uZVwiPjxwYXRoIGQ9XCJNMzU2LjUgMTA2LjRjLTEwLjYgMy0xMC4xIDIuNi0xMC44IDExLjEtLjQgNC4yLS45IDgtMS4yIDguNS0uNiAxLTI0LjYgMTAuNS01OSAyMy40LTQ0LjggMTYuNy0xMDUuMiA0MS41LTExNy4zIDQ4LjMtNy44IDQuMy0xOS4zIDkuMS0yNSAxMC40LTIuMy41LTkuOCAxLjQtMTYuNSAxLjktNi43LjYtMTYuNyAxLjktMjIuMiAzLTE1LjQgMy4xLTM0IDQuOS01Ni4zIDUuN2wtMjAuMy42LTQuMyA2LjZjLTUuOSA5LjEtNiA5LjUtMi42IDEzIDMuNyAzLjcgMy44IDYuNS4zIDE1LTIuNSA2LjItMi43IDcuOC0zLjEgMjUuNmwtLjQgMTktMy44IDMuMkM0LjkgMzA5LjUuNyAzMjIuNi42IDM0My41YzAgMTkuNCAxLjEgMzkuNiAyLjYgNDguMiAxLjMgNy4xIDEuNCA3LjQgNy4yIDEyLjIgNi45IDUuOCAxMyAxMi45IDE1LjggMTguNCA2LjQgMTIuNiA1My40IDIxLjEgMTM4LjQgMjVsOS4yLjQtLjYtMTEuOWMtLjYtMTQuMi44LTI1LjYgNC45LTM4LjMgMTEuMi0zNS4yIDM5LjQtNjIuMiA3NS42LTcyLjIgOS0yLjYgMTEuMi0yLjggMjcuOC0yLjggMTYuNSAwIDE4LjguMiAyNy44IDIuNyAyMC4xIDUuNiAzNi4xIDE1LjIgNTAuNCAzMC4yIDE0IDE0LjUgMjIuMiAyOS4zIDI3LjQgNDkuMiAyLjEgNy45IDIuNCAxMC45IDIuMyAyNy45LS4xIDEyLjctLjYgMjEuNC0xLjYgMjYuM2wtMS41IDcuMyAzMDAuNi0uNyAzMDAuOS0uOWMuMS0uMS0uOC0zLjctMi04LjEtMS45LTYuNy0yLjItMTAuNS0yLjItMjUuOS0uMS0xNi42LjEtMTguNyAyLjctMjcuOSAxMS43LTQyLjEgNDYuNy03My42IDg4LjUtNzkuNyAxMS45LTEuNyAzMi41LS43IDQzLjIgMi4xIDIzLjkgNi4zIDQ1LjMgMjAuNSA2MC4xIDM5LjkgNyA5LjIgMTUuNCAyNi43IDE4LjUgMzguNiAyLjQgOC44IDIuNyAxMS45IDIuNyAyNiAuMSAxMS42LS40IDE4LjEtMS42IDIzLjQtMSA0LjEtMS42IDcuNS0xLjUgNy42LjIuMSA2LjItLjIgMTMuMy0uNiAyNi42LTEuNiA0NS44LTQuNSA1Mi41LTcuOSA0LjgtMi40IDkuNy04LjEgMTIuNy0xNC42bDIuNC01LjItMS42LTE1LjdjLTEuNS0xNS4yLTEuNS0xNi4zLjQtMjguNCA2LjMtMzguOCA1LTY4LTMuNS04MC4yLTEzLjQtMTkuMy01Mi42LTMzLjYtMTQyLjktNTEuOS03My43LTE0LjktMTMyLjItMjAuOS0yMDMuMy0yMS0yMi44IDAtMjIuNiAwLTM0LjctOC41LTE4LjctMTMuMS0xMDQuNS02MC43LTE0Ny4xLTgxLjUtMzguMy0xOC43LTc4LjgtMjguMS0xNDMuOS0zMy4yLTIwLjgtMS43LTExMC42LTEuNi0xNDAgMGwtNDMgMi43Yy0zMC4yIDIuMi0yOC42IDIuMi0zNC4xLTEtMTQtOC4xLTE4LjctOS40LTI2LjktNy4xek01NDUgMTM5LjdsNy4xIDQ0LjYgNy41IDQ3LjRjLjkgNS4yIDEuNSA5LjYgMS4zIDkuNy0xLjEuOS0xNjkuOS0yLjktMTk1LjEtNC40LTIwLjYtMS4zLTQxLjctMy42LTQ4LjUtNS40LTkuOC0yLjYtMTkuOC0xMS45LTI0LjktMjMuMS0zLjUtNy41LTMuNi0xNy4yLS41LTI1LjUgMS43LTQuNSAzLTYuMSA2LjgtOC42IDguMy01LjQgMTMuNS04IDI1LjMtMTIuNyAzNC4xLTEzLjYgODUuOC0yMyAxNDYtMjYuNyAyNi45LTEuNiAyNy0xLjYgNTEuMS0xLjhsMjIuNy0uMiAxLjIgNi43em02My00LjdjMjYuNCAxLjggNzcuNyAxMSAxMDIuOSAxOC42IDE4LjYgNS42IDQ0LjUgMTguOCA3NS42IDM4LjcgMjEuMSAxMy40IDI3LjQgMTguMSAyNSAxOC41LTcuNSAxLjItMTMuMyA1LTE2LjIgMTAuNi0xLjkgMy41LTIuMSAxMy42LS40IDE3LjlsMS4xIDIuNy05MC43LS4yLTkwLjYtLjMtNS45LTE2Yy0xMS0zMC4yLTI5LjgtODcuOC0yOS44LTkxLjYgMC0uNiA5LjUtLjIgMjkgMS4xek0yNjMuMyAzMjcuNWMtMjIuMyA0LTQxIDE0LjEtNTYuOCAzMC42LTEzLjIgMTMuOC0yMS4zIDI4LjMtMjYuMiA0Ni43LTIuMiA4LjMtMi42IDExLjktMi42IDI0LjctLjEgMTYuOSAxIDIzLjYgNi41IDM4LjIgOC43IDIzIDI3LjEgNDMuNiA0OS4zIDU1LjEgOC41IDQuNCAxNy44IDcuOCAyNy4xIDkuOCAxMC43IDIuMyAzMS4yIDIuMyA0MS45LS4xIDM5LjItOC40IDY5LjktMzcuNSA4MC4yLTc2LjEgMi4zLTguNiAyLjYtMTIgMi43LTI1LjQuMS0xNS44LS41LTE5LjktNC42LTMzLTkuOC0zMS0zNS41LTU2LjctNjYuOC02Ni45LTE1LTUtMzUuNC02LjQtNTAuNy0zLjZ6bTM1IDMwLjFjMjQuOSA1LjYgNDUuNyAyNC43IDU0LjMgNDkuOSAyLjUgNy4yIDIuOCA5LjUgMi44IDIyIC4xIDE1LjMtMS41IDIyLjgtNy40IDM0LjUtOS40IDE4LjYtMjguMyAzMy43LTQ4LjUgMzguNi05LjYgMi40LTI2LjggMi40LTM2IDAtMzItOC40LTU0LjQtMzUuNS01Ni4yLTY4LjEtMi0zNS45IDIwLjktNjcuMyA1NS44LTc2LjUgOS40LTIuNCAyNS4zLTIuNiAzNS4yLS40ek0yNjAgMzcwLjNjLTMuNiAxLjMtOC41IDMuNi0xMC45IDUuMWwtNC40IDIuOCAxMS42IDExLjVjOC4xIDguMiAxMiAxMS40IDEzLjEgMTEgMS40LS42IDEuNi0yLjkgMS42LTE2LjcgMC0xOC42LjYtMTcuOC0xMS0xMy43em0zMiAxMy42YzAgMTMuOS4yIDE2LjIgMS42IDE2LjggMS4xLjQgNS0yLjggMTMtMTAuOGwxMS41LTExLjQtMi44LTIuMmMtMy40LTIuOC0xMy44LTctMTkuMy03LjlsLTQtLjd2MTYuMnptLTYzLjggMTEuM2MtMi44IDMuNi05LjIgMTkuMS05LjIgMjIuNSAwIDEgMy40IDEuMyAxNi41IDEuMyAxNS4xIDAgMTYuNS0uMSAxNi41LTEuOCAwLTEuNS0yMC42LTIzLjItMjIuMS0yMy4yLS40IDAtMS4xLjYtMS43IDEuMnptOTQgOS43Yy02LjIgNS45LTExLjIgMTEuNS0xMS4yIDEyLjQgMCAxLjUgMS43IDEuNyAxNi41IDEuNyAxMy4xIDAgMTYuNS0uMyAxNi41LTEuMyAwLTQtNi45LTIwLjUtOS41LTIyLjctLjctLjYtNC44IDIuNy0xMi4zIDkuOXptLTQ0LjEgMS45Yy0xLjIgMi4yIDEuMSA2LjIgMy40IDYuMi44IDAgMi4xLTEgMi45LTIuMiAyLTIuOC40LTUuOC0yLjktNS44LTEuMyAwLTIuOS44LTMuNCAxLjh6bS0zLjIgMTcuMWMtMy4yIDMuMy0zLjcgNi43LTEuNCAxMSAyLjkgNS43IDEwLjQgNi40IDE1LjEgMS40IDUuMy01LjcuOS0xNS4zLTcuMS0xNS4zLTIuNyAwLTQuNC44LTYuNiAyLjl6bS0xNy45IDMuNmMtMi42IDMuMiAxLjMgOC4xIDQuOCA1LjkgMi40LTEuNiAyLjctNC41LjYtNi4xLTIuMy0xLjctMy45LTEuNi01LjQuMnptNDMuNi4xYy0yIDEuOS0yIDMuOC0uMiA1LjQgMi4zIDEuOSA2LjEuOCA2LjQtMS44LjctNC40LTMuMi02LjctNi4yLTMuNnpNMjE5IDQ0Mi41YzAgMi45IDQuMSAxNCA3LjIgMTkuNGwzLjEgNS4zIDExLjctMTEuN2M3LjEtNy4xIDExLjYtMTIuMyAxMS4zLTEzLjEtLjQtMS4xLTQtMS40LTE2LjktMS40LTE0LjEgMC0xNi40LjItMTYuNCAxLjV6bTkyIC4zYzAgLjkgNS4xIDYuOCAxMS40IDEzLjFsMTEuNCAxMS40IDMuMS01LjRjMy01LjEgNy4xLTE2LjUgNy4xLTE5LjUgMC0xLjEtMy4xLTEuNC0xNi41LTEuNC0xNS4xIDAtMTYuNS4xLTE2LjUgMS44em0tMzMgNy4xYy0uNyAxLjUtLjUgMi40LjggNC4xIDMuMiA0IDguNS40IDYuMi00LjEtMS40LTIuNS01LjYtMi41LTcgMHptLTIxLjggMjAuNGMtNi4xIDYuMi0xMS4yIDExLjUtMTEuMiAxMS45IDAgMS44IDIwLjggMTAuOCAyNC45IDEwLjguNyAwIDEuMS01LjQgMS4xLTE2LjQgMC0xNC0uMi0xNi41LTEuNi0xNy0uOS0uMy0xLjYtLjYtMS43LS42cy01LjMgNS4xLTExLjUgMTEuM3ptMzcuMS0xMC42Yy0xLjUuNi0xLjkgMzMuMy0uNCAzMy4zIDQuNiAwIDI1LjEtOC44IDI1LjEtMTAuOCAwLS45LTIyLjMtMjMuMi0yMy0yMy4xLS4zIDAtMS4xLjMtMS43LjZ6TTEwNzAgMzI4LjFjLTM5IDguNC02OS42IDM3LjYtNzkuNyA3NS45LTMuMSAxMS43LTQuMSAyOS4yLTIuNCA0MS4xIDMuMyAyMi43IDE1IDQ1LjMgMzEuOCA2MC45IDI2LjcgMjUgNjQuMyAzNC40IDk5LjMgMjQuOSAxMS43LTMuMiAyOC4zLTExLjggMzgtMTkuNiA0OC43LTM5LjYgNTEuOC0xMTIuOCA2LjctMTU2LTkuNy05LjMtMTYuNi0xNC0yOS0xOS44LTEzLjctNi40LTIzLjUtOC42LTQwLjctOS4xLTEyLS4zLTE2LjIgMC0yNCAxLjd6bTQ0LjUgMzEuM2MyMy44IDguMSA0MC45IDI1LjggNDguNiA1MC42IDMgOS42IDMuMyAyOC45LjUgMzguOC0xMSA0MC01MS4zIDYzLjctOTEuMSA1My42LTE0LjktMy44LTMxLjMtMTQuNy00MC4yLTI2LjctMTcuNi0yMy44LTIwLjMtNTMuMy03LjEtNzkuNyAzLjQtNi45IDYtMTAuMyAxMy44LTE4IDcuNy03LjggMTEuMS0xMC40IDE4LjEtMTMuOSAxMi45LTYuNSAyMC43LTguMSAzNi40LTcuNyAxMC45LjMgMTQuMy43IDIxIDN6bS00NC4yIDEwLjZjLTUuNCAxLjktMTUuMyA3LjEtMTUuMyA4IDAgLjMgNS4xIDUuNyAxMS40IDExLjkgOCA4IDExLjkgMTEuMiAxMyAxMC44IDEuNC0uNSAxLjYtMi45IDEuNi0xNi43di0xNmwtMi43LjFjLTEuNiAwLTUuMi45LTggMS45em0zMS43IDEzLjljMCAxMy45LjIgMTYuMiAxLjYgMTYuOCAyLjIuOCAyNC43LTIxLjYgMjMuNC0yMy4yLTEuNy0yLTE2LjMtOC40LTIwLjctOS4xbC00LjMtLjd2MTYuMnptLTY1LjQgMTMuN2MtMi45IDQuNC03LjYgMTYuNS03LjYgMTkuNCAwIDEuOS43IDIgMTYuNSAyIDEyLjYgMCAxNi41LS4zIDE2LjUtMS4zIDAtLjctNS4xLTYuMy0xMS40LTEyLjZsLTExLjQtMTEuNC0yLjYgMy45em05NC43IDcuNmMtNi4xIDYuMi0xMC45IDExLjktMTAuNiAxMi41LjYgMS41IDMzLjMgMS45IDMzLjMuNCAwLTQuNS04LjgtMjQuMS0xMC44LTI0LjEtLjQgMC01LjcgNS4xLTExLjkgMTEuMnptLTQzLjEgMWMtMS43IDEuNy0xLjUgMy4yLjcgNS4yIDEuNiAxLjQgMi4zIDEuNSA0LjEuNiAzLjEtMS43IDIuNC02LjQtMS02LjgtMS40LS4yLTMuMS4zLTMuOCAxem0tMy42IDE3LjljLTYuOCA4LjEgMS43IDE5LjQgMTEgMTQuNCA4LjktNC44IDUuNi0xNy41LTQuNi0xNy41LTMgMC00LjQuNi02LjQgMy4xem0tMTcuNiAzLjNjLTEuOSAyLjMtLjggNi4xIDEuOCA2LjQgNC40LjcgNi43LTMuMiAzLjYtNi4yLTEuOS0yLTMuOC0yLTUuNC0uMnptNDMuNi0uMWMtMi4xIDEuNi0xLjggNC41LjcgNi4xIDMuNyAyLjMgNy43LTMuNSA0LjEtNi4xLTEtLjctMi4xLTEuMy0yLjQtMS4zcy0xLjQuNi0yLjQgMS4zek0xMDI5IDQ0M2MwIDIuOSA0LjMgMTQuMSA3LjQgMTkuNWwyLjggNC44IDExLjYtMTEuNmM4LjEtOC4xIDExLjMtMTIgMTAuOS0xMy4xLS42LTEuNC0yLjktMS42LTE2LjctMS42LTE1LjIgMC0xNiAuMS0xNiAyem05MS43LS44Yy0uMy43IDQuNyA2LjYgMTEuMSAxM2wxMS42IDExLjggMi43LTQuM2MyLjctNC40IDcuOS0xNy43IDcuOS0yMC4zIDAtMS4yLTIuOC0xLjQtMTYuNC0xLjQtMTIuMiAwLTE2LjYuMy0xNi45IDEuMnptLTMyLjYgNy43Yy0xLjQgMi41LS41IDQuOCAyIDUuNiAyLjcuOSA1LjEtMS4zIDQuNy00LjQtLjQtMy40LTUuMS00LjMtNi43LTEuMnptLTIxLjkgMjAuNGMtNi4xIDYuMi0xMS4yIDExLjUtMTEuMiAxMS45IDAgMiAyMC4xIDEwLjggMjQuNyAxMC44IDEgMCAxLjMtMy40IDEuMy0xNi40IDAtMTQtLjItMTYuNS0xLjYtMTctLjktLjMtMS42LS42LTEuNy0uNnMtNS4zIDUuMS0xMS41IDExLjN6bTM3LjEtMTAuNmMtMSAuMy0xLjMgNC43LTEuMyAxNi45IDAgOSAuNCAxNi40LjggMTYuNCAzLjYgMCAxOC42LTYuMSAyMy45LTkuOCAxLjYtMS0yMS42LTI0LjItMjMuNC0yMy41elwiLz48L2c+PC9zdmc+YDtcclxuXHJcbiAgICByZXR1cm4gZGl2O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2FyYWdlO1xyXG4iLCJpbXBvcnQge1xyXG4gIElDb250cm9sbGVyLFxyXG4gIElSZXNwb25zZUNyZWF0ZUNhcixcclxuICBJQXV0b3MsXHJcbiAgSVJlc3BvbnNlVXBkYXRlQ2FyLFxyXG59IGZyb20gXCJzcmMvdHlwZXNcIjtcclxuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSBcIi4uL3V0aWxzL2NvbnRyb2xsZXJcIjtcclxuXHJcbmNsYXNzIENvbnRyb2xQYW5lbCB7XHJcbiAgY29udHJvbGxlcjogSUNvbnRyb2xsZXI7XHJcbiAgaXNXaW46IGJvb2xlYW47XHJcbiAgdGltZW91dHNJRDogUmVjb3JkPG51bWJlciwgbnVtYmVyPjtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbiAgICB0aGlzLmlzV2luID0gZmFsc2U7XHJcbiAgICB0aGlzLnRpbWVvdXRzSUQgPSB7fTtcclxuICB9XHJcbiAgcHVibGljIGNyZWF0ZUNvbnRyb2xQYW5lbChcclxuICAgIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWQsXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlclxyXG4gICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGNvbnRyb2xQYW5lbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcclxuICAgIGNvbnRyb2xQYW5lbC5jbGFzc0xpc3QuYWRkKFwiY29udHJvbC1wYW5lbFwiKTtcclxuICAgIGNvbnN0IHRpdGxlOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlVGl0bGUoKTtcclxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQmxvY2tDcmVhdGVDYXJzKGRyYXdHYXJhZ2UpO1xyXG4gICAgY29uc3QgdXBkYXRlQmxvY2s6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVCbG9ja1VwZGF0ZUNhcnMoZHJhd0dhcmFnZSk7XHJcbiAgICBjb25zdCBidXR0b25zQmxvY2s6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVCdXR0b25zQmxvY2soXHJcbiAgICAgIGdldFBhZ2UsXHJcbiAgICAgIGdldExpbWl0Q2FycyxcclxuICAgICAgZHJhd0dhcmFnZVxyXG4gICAgKTtcclxuICAgIGNvbnRyb2xQYW5lbC5hcHBlbmQodGl0bGUsIGNyZWF0ZUJsb2NrLCB1cGRhdGVCbG9jaywgYnV0dG9uc0Jsb2NrKTtcclxuICAgIHJldHVybiBjb250cm9sUGFuZWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVRpdGxlKCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHRpdGxlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoXCJjb250cm9sLXBhbmVsX190aXRsZVwiKTtcclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gXCJDb250cm9sIHBhbmVsIGNhcnNcIjtcclxuICAgIHJldHVybiB0aXRsZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQmxvY2tDcmVhdGVDYXJzKGRyYXdHYXJhZ2U6ICgpID0+IHZvaWQpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBjcmVhdGVCbG9jazogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY3JlYXRlQmxvY2suY2xhc3NMaXN0LmFkZChcImNyZWF0ZS1jYXJzXCIpO1xyXG4gICAgY29uc3QgaW5wdXROYW1lOiBIVE1MSW5wdXRFbGVtZW50ID0gdGhpcy5jcmVhdGVJbnB1dE5hbWUoXHJcbiAgICAgIFwiY3JlYXRlLWNhcnNfX25hbWVcIixcclxuICAgICAgXCJ0ZXh0XCIsXHJcbiAgICAgIFwiaW5wdXRcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGlucHV0Q29sb3I6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUlucHV0Q29sb3IoXHJcbiAgICAgIFwiY3JlYXRlLWNhcnNfX2NvbG9yXCIsXHJcbiAgICAgIFwiY29sb3JcIixcclxuICAgICAgXCIjZjZiNzNjXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBidG46IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy5jcmVhdGVCdG4oXHJcbiAgICAgIFwiY3JlYXRlLWNhcnNfX2J0blwiLFxyXG4gICAgICBcImJ0blwiLFxyXG4gICAgICBcImJ0bi0tcGFuZWxcIixcclxuICAgICAgXCJDcmVhdGVcIlxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dE5hbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlYXRlTmFtZVwiLCBpbnB1dE5hbWUudmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBpbnB1dENvbG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWF0ZUNvbG9yXCIsIGlucHV0Q29sb3IudmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hZGRWYWx1ZUlucHV0KFwiY3JlYXRlTmFtZVwiLCBpbnB1dE5hbWUpO1xyXG4gICAgdGhpcy5hZGRWYWx1ZUlucHV0KFwiY3JlYXRlQ29sb3JcIiwgaW5wdXRDb2xvcik7XHJcblxyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlckNyZWF0ZShidG4sIGRyYXdHYXJhZ2UpO1xyXG4gICAgY3JlYXRlQmxvY2suYXBwZW5kKGlucHV0TmFtZSwgaW5wdXRDb2xvciwgYnRuKTtcclxuICAgIHJldHVybiBjcmVhdGVCbG9jaztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DbGlja0hhbmRsZXJDcmVhdGUoXHJcbiAgICBidG46IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0TmFtZTogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmNyZWF0ZS1jYXJzX19uYW1lXCJcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXRDb2xvcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmNyZWF0ZS1jYXJzX19jb2xvclwiXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChpbnB1dE5hbWUgJiYgaW5wdXRDb2xvcikge1xyXG4gICAgICAgIGNvbnN0IGlucHV0TmFtZVZhbHVlOiBzdHJpbmcgPSBpbnB1dE5hbWUudmFsdWU7XHJcbiAgICAgICAgY29uc3QgaW5wdXRDb2xvclZhbHVlOiBzdHJpbmcgPSBpbnB1dENvbG9yLnZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0TmFtZVZhbHVlLCBpbnB1dENvbG9yVmFsdWUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUNhcihpbnB1dE5hbWVWYWx1ZSwgaW5wdXRDb2xvclZhbHVlLCBkcmF3R2FyYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUNhcihcclxuICAgIGlucHV0TmFtZVZhbHVlOiBzdHJpbmcsXHJcbiAgICBpbnB1dENvbG9yVmFsdWU6IHN0cmluZyxcclxuICAgIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWRcclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlOlxyXG4gICAgICB8IElSZXNwb25zZUNyZWF0ZUNhclxyXG4gICAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5jcmVhdGVDYXIoXHJcbiAgICAgIGlucHV0TmFtZVZhbHVlLFxyXG4gICAgICBpbnB1dENvbG9yVmFsdWVcclxuICAgICk7XHJcbiAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgZHJhd0dhcmFnZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCbG9ja1VwZGF0ZUNhcnMoZHJhd0dhcmFnZTogKCkgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHVwZGF0ZUJsb2NrOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB1cGRhdGVCbG9jay5jbGFzc0xpc3QuYWRkKFwidXBkYXRlLWNhcnNcIik7XHJcbiAgICBjb25zdCBpbnB1dE5hbWU6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUlucHV0TmFtZShcclxuICAgICAgXCJ1cGRhdGUtY2Fyc19fbmFtZVwiLFxyXG4gICAgICBcInRleHRcIixcclxuICAgICAgXCJpbnB1dFwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgaW5wdXRDb2xvcjogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuY3JlYXRlSW5wdXRDb2xvcihcclxuICAgICAgXCJ1cGRhdGUtY2Fyc19fY29sb3JcIixcclxuICAgICAgXCJjb2xvclwiLFxyXG4gICAgICBcIiNmNmI3M2NcIlxyXG4gICAgKTtcclxuXHJcbiAgICBpbnB1dE5hbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXBkYXRlTmFtZVwiLCBpbnB1dE5hbWUudmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICBpbnB1dENvbG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVwZGF0ZUNvbG9yXCIsIGlucHV0Q29sb3IudmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmFkZFZhbHVlSW5wdXQoXCJ1cGRhdGVOYW1lXCIsIGlucHV0TmFtZSk7XHJcbiAgICB0aGlzLmFkZFZhbHVlSW5wdXQoXCJ1cGRhdGVDb2xvclwiLCBpbnB1dENvbG9yKTtcclxuXHJcbiAgICBjb25zdCBpbnB1dElkOiBIVE1MSW5wdXRFbGVtZW50ID0gdGhpcy5jcmVhdGVJbnB1dE5hbWUoXHJcbiAgICAgIFwidXBkYXRlLWNhcnNfX2lkXCIsXHJcbiAgICAgIFwidGV4dFwiLFxyXG4gICAgICBcImlucHV0XCJcclxuICAgICk7XHJcbiAgICBjb25zdCBidG46IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy5jcmVhdGVCdG4oXHJcbiAgICAgIFwidXBkYXRlLWNhcnNfX2J0blwiLFxyXG4gICAgICBcImJ0blwiLFxyXG4gICAgICBcImJ0bi0tcGFuZWxcIixcclxuICAgICAgXCJVcGRhdGVcIixcclxuICAgICAgdHJ1ZVxyXG4gICAgKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJVcGRhdGUoYnRuLCBkcmF3R2FyYWdlKTtcclxuICAgIHVwZGF0ZUJsb2NrLmFwcGVuZChpbnB1dElkLCBpbnB1dE5hbWUsIGlucHV0Q29sb3IsIGJ0bik7XHJcbiAgICByZXR1cm4gdXBkYXRlQmxvY2s7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyVXBkYXRlKFxyXG4gICAgYnRuOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWRcclxuICApOiB2b2lkIHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnB1dFVwZGF0ZU5hbWU6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIi51cGRhdGUtY2Fyc19fbmFtZVwiXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlQ29sb3I6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIi51cGRhdGUtY2Fyc19fY29sb3JcIlxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBpbnB1dFVwZGF0ZUlkOiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIudXBkYXRlLWNhcnNfX2lkXCJcclxuICAgICAgKTtcclxuICAgICAgaWYgKGlucHV0VXBkYXRlTmFtZSAmJiBpbnB1dFVwZGF0ZUNvbG9yICYmIGlucHV0VXBkYXRlSWQpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNhcihcclxuICAgICAgICAgIE51bWJlcihpbnB1dFVwZGF0ZUlkLnZhbHVlKSxcclxuICAgICAgICAgIGlucHV0VXBkYXRlTmFtZS52YWx1ZSxcclxuICAgICAgICAgIGlucHV0VXBkYXRlQ29sb3IudmFsdWUsXHJcbiAgICAgICAgICBkcmF3R2FyYWdlXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHVwZGF0ZUNhcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICBjb2xvcjogc3RyaW5nLFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2U6XHJcbiAgICAgIHwgSVJlc3BvbnNlVXBkYXRlQ2FyXHJcbiAgICAgIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5jb250cm9sbGVyLnVwZGF0ZUNhcihpZCwgbmFtZSwgY29sb3IpO1xyXG4gICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgIGRyYXdHYXJhZ2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQnV0dG9uc0Jsb2NrKFxyXG4gICAgZ2V0UGFnZTogKCkgPT4gbnVtYmVyLFxyXG4gICAgZ2V0TGltaXRDYXJzOiAoKSA9PiBudW1iZXIsXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkXHJcbiAgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgYnV0dG9uc0Jsb2NrOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBidXR0b25zQmxvY2suY2xhc3NMaXN0LmFkZChcImNvbnRyb2wtcGFuZWxfX2J1dHRvbnNcIik7XHJcbiAgICBjb25zdCBidG5SYWNlOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRoaXMuY3JlYXRlQnRuKFxyXG4gICAgICBcImNvbnRyb2wtcGFuZWxfX3JhY2VcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJidG4tLXBhbmVsXCIsXHJcbiAgICAgIFwiUmFjZVwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnRuUmVzZXQ6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy5jcmVhdGVCdG4oXHJcbiAgICAgIFwiY29udHJvbC1wYW5lbF9fcmVzZXRcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJidG4tLXBhbmVsXCIsXHJcbiAgICAgIFwiUmVzZXRcIlxyXG4gICAgKTtcclxuICAgIGlmICh0aGlzLmlzV2luID09PSBmYWxzZSkge1xyXG4gICAgICBidG5SZXNldC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9uQ2xpY2tIYW5kbGVyUmFjZShidG5SYWNlLCBidG5SZXNldCwgZ2V0UGFnZSwgZ2V0TGltaXRDYXJzKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJSZXNldChcclxuICAgICAgYnRuUmFjZSxcclxuICAgICAgYnRuUmVzZXQsXHJcbiAgICAgIGdldFBhZ2UsXHJcbiAgICAgIGdldExpbWl0Q2FycyxcclxuICAgICAgZHJhd0dhcmFnZVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ0bkdlbmVyYXRlOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRoaXMuY3JlYXRlQnRuKFxyXG4gICAgICBcImNvbnRyb2wtcGFuZWxfX2dlbmVyYXRlXCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiYnRuLS1wYW5lbFwiLFxyXG4gICAgICBcIkdlbmVyYXRlIGNhcnNcIlxyXG4gICAgKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJHZW5lcmF0ZShidG5HZW5lcmF0ZSwgZHJhd0dhcmFnZSk7XHJcbiAgICBidXR0b25zQmxvY2suYXBwZW5kKGJ0blJhY2UsIGJ0blJlc2V0LCBidG5HZW5lcmF0ZSk7XHJcbiAgICByZXR1cm4gYnV0dG9uc0Jsb2NrO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlckdlbmVyYXRlKFxyXG4gICAgYnRuR2VuZXJhdGU6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuR2VuZXJhdGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbU51bUNhcnNOYW1lOiBzdHJpbmcgPSB0aGlzLmdldFJhbmRvbUNhcnNOYW1lKCk7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtQ2Fyc01vZGVsOiBzdHJpbmcgPSB0aGlzLmdldFJhbmRvbUNhcnNNb2RlbCgpO1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbU51bUNvbG9yOiBzdHJpbmcgPSB0aGlzLmdldFJhbmRvbUNvbG9yQ2FycygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FyKFxyXG4gICAgICAgICAgcmFuZG9tTnVtQ2Fyc05hbWUgKyBcIiBcIiArIHJhbmRvbU51bUNhcnNNb2RlbCxcclxuICAgICAgICAgIHJhbmRvbU51bUNvbG9yLFxyXG4gICAgICAgICAgZHJhd0dhcmFnZVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRSYW5kb21DYXJzTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY2Fyc05hbWU6IHN0cmluZ1tdID0gW1xyXG4gICAgICBcIlRlc2xhXCIsXHJcbiAgICAgIFwiRm9yZFwiLFxyXG4gICAgICBcIkJNV1wiLFxyXG4gICAgICBcIk1lcmNlZGVzXCIsXHJcbiAgICAgIFwiT3BlbFwiLFxyXG4gICAgICBcIlBvcnNjaGVcIixcclxuICAgICAgXCJBdWRpXCIsXHJcbiAgICAgIFwiSG9uZGFcIixcclxuICAgICAgXCJIeXVuZGFpXCIsXHJcbiAgICAgIFwiS2lhXCIsXHJcbiAgICAgIFwiTWF6ZGFcIixcclxuICAgICAgXCJBY3VyYVwiLFxyXG4gICAgICBcIkNpdHJvZW5cIixcclxuICAgICAgXCJMZXh1c1wiLFxyXG4gICAgICBcIlNrb2RhXCIsXHJcbiAgICBdO1xyXG4gICAgY29uc3QgbWluOiBudW1iZXIgPSBNYXRoLmNlaWwoMCk7XHJcbiAgICBjb25zdCBtYXg6IG51bWJlciA9IE1hdGguZmxvb3IoMTQpO1xyXG4gICAgY29uc3QgcmFuZG9tTnVtOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xyXG4gICAgcmV0dXJuIGNhcnNOYW1lW3JhbmRvbU51bV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJhbmRvbUNhcnNNb2RlbCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY2Fyc01vZGVsOiBzdHJpbmdbXSA9IFtcclxuICAgICAgXCJNb2RlbCBTXCIsXHJcbiAgICAgIFwiTW9uZGVvXCIsXHJcbiAgICAgIFwiaVggTTYwXCIsXHJcbiAgICAgIFwiR0xBXCIsXHJcbiAgICAgIFwiWmFmaXJhIExpZmVcIixcclxuICAgICAgXCJDYXltYW5cIixcclxuICAgICAgXCJRN1wiLFxyXG4gICAgICBcIkFjY29yZFwiLFxyXG4gICAgICBcIlR1Y3NvblwiLFxyXG4gICAgICBcIkNlZWRcIixcclxuICAgICAgXCJDWC05XCIsXHJcbiAgICAgIFwiTURYXCIsXHJcbiAgICAgIFwiQzUgQUlSQ1JPU1NcIixcclxuICAgICAgXCJSWFwiLFxyXG4gICAgICBcIk9jdGF2aWFcIixcclxuICAgIF07XHJcbiAgICBjb25zdCBtaW46IG51bWJlciA9IE1hdGguY2VpbCgwKTtcclxuICAgIGNvbnN0IG1heDogbnVtYmVyID0gTWF0aC5mbG9vcigxNCk7XHJcbiAgICBjb25zdCByYW5kb21OdW06IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICByZXR1cm4gY2Fyc01vZGVsW3JhbmRvbU51bV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJhbmRvbUNvbG9yQ2FycygpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY29sb3I6IHN0cmluZ1tdID0gW1xyXG4gICAgICBcIiNmZjAwOTlcIixcclxuICAgICAgXCJcdCNmZjAwMzNcIixcclxuICAgICAgXCIjMDAzM2ZmXCIsXHJcbiAgICAgIFwiIzAwZmZjY1wiLFxyXG4gICAgICBcIiMzM2NjMDBcIixcclxuICAgICAgXCIjMzNjYzk5XCIsXHJcbiAgICAgIFwiIzY2MzM5OVwiLFxyXG4gICAgICBcIiNmZjY2NjZcIixcclxuICAgICAgXCIjZmZmZjAwXCIsXHJcbiAgICAgIFwiIzk5MDAwMFwiLFxyXG4gICAgICBcIiNmZmNjY2NcIixcclxuICAgICAgXCIjMDA2NjMzXCIsXHJcbiAgICAgIFwiIzY2NjYwMFwiLFxyXG4gICAgICBcIiMwMDMzOTlcIixcclxuICAgICAgXCIjY2M2NmNjXCIsXHJcbiAgICBdO1xyXG4gICAgY29uc3QgbWluOiBudW1iZXIgPSBNYXRoLmNlaWwoMCk7XHJcbiAgICBjb25zdCBtYXg6IG51bWJlciA9IE1hdGguZmxvb3IoMTQpO1xyXG4gICAgY29uc3QgcmFuZG9tTnVtOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xyXG4gICAgY29uc29sZS5sb2cocmFuZG9tTnVtKTtcclxuICAgIHJldHVybiBjb2xvcltyYW5kb21OdW1dO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclJhY2UoXHJcbiAgICBidG5SYWNlOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGJ0blJlc2V0OiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGdldFBhZ2U6ICgpID0+IG51bWJlcixcclxuICAgIGdldExpbWl0Q2FyczogKCkgPT4gbnVtYmVyXHJcbiAgKTogdm9pZCB7XHJcbiAgICBidG5SYWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGJ0blJhY2UuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLnN0YXJ0UmFjZShnZXRQYWdlLCBnZXRMaW1pdENhcnMpO1xyXG4gICAgICB0aGlzLmNoYW5nZURpc2FibGVkQnRuKHRydWUsIGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclJlc2V0KFxyXG4gICAgYnRuUmFjZTogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBidG5SZXNldDogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlcixcclxuICAgIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWRcclxuICApOiB2b2lkIHtcclxuICAgIGJ0blJlc2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc3RvcENhcihidG5SYWNlLCBidG5SZXNldCwgZ2V0UGFnZSwgZ2V0TGltaXRDYXJzKTtcclxuICAgICAgdGhpcy5jbGVhclRpbWVycyh0aGlzLnRpbWVvdXRzSUQpO1xyXG4gICAgICBkcmF3R2FyYWdlKCk7XHJcbiAgICAgIHRoaXMuaXNXaW4gPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGFuZ2VEaXNhYmxlZEJ0bihidG5SdW5EaXNhYmxlZDogYm9vbGVhbiwgYnRuU3RvcERpc2FibGVkOiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBidXR0b25zUnVuOiBOb2RlTGlzdE9mPEVsZW1lbnQ+IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgIFwiLmNvbnRyb2wtYXV0b19fcnVuXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25zU3RvcDogTm9kZUxpc3RPZjxFbGVtZW50PiB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICBcIi5jb250cm9sLWF1dG9fX3N0b3BcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ0blJ1bkFycjogSFRNTEJ1dHRvbkVsZW1lbnRbXSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxyXG4gICAgICBidXR0b25zUnVuXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnRuU3RvcEFycjogSFRNTEJ1dHRvbkVsZW1lbnRbXSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxyXG4gICAgICBidXR0b25zU3RvcFxyXG4gICAgKTtcclxuICAgIGlmIChidG5SdW5BcnIgJiYgYnRuU3RvcEFycikge1xyXG4gICAgICBidG5SdW5BcnIuZm9yRWFjaCgoYnRuUnVuKSA9PiB7XHJcbiAgICAgICAgYnRuUnVuLmRpc2FibGVkID0gYnRuUnVuRGlzYWJsZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBidG5TdG9wQXJyLmZvckVhY2goKGJ0blN0b3ApID0+IHtcclxuICAgICAgICBidG5TdG9wLmRpc2FibGVkID0gYnRuU3RvcERpc2FibGVkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgc3RhcnRSYWNlKFxyXG4gICAgZ2V0UGFnZTogKCkgPT4gbnVtYmVyLFxyXG4gICAgZ2V0TGltaXRDYXJzOiAoKSA9PiBudW1iZXJcclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGF1dG9zOiBJQXV0b3NbXSB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuZ2V0QXV0b3MoXHJcbiAgICAgIGdldFBhZ2UoKSxcclxuICAgICAgZ2V0TGltaXRDYXJzKClcclxuICAgICk7XHJcbiAgICBpZiAoIWF1dG9zKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGF1dG9zLmZvckVhY2goKGF1dG8pID0+IHtcclxuICAgICAgdGhpcy5zdGFydEF1dG8oYXV0bywgdGhpcy50aW1lb3V0c0lEKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBnZXRBdXRvcyhcclxuICAgIHBhZ2U6IG51bWJlcixcclxuICAgIGxpbWl0Q2FyczogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxJQXV0b3NbXSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY29udHJvbGxlci5nZXRBdXRvc0lkKHBhZ2UsIGxpbWl0Q2Fycyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHN0YXJ0QXV0byhhdXRvOiBJQXV0b3MsIHRpbWVvdXRzSUQ6IFJlY29yZDxudW1iZXIsIG51bWJlcj4pIHtcclxuICAgIGNvbnN0IHRpbWUgPSBhd2FpdCB0aGlzLmNvbnRyb2xsZXIuc3RhcnRFbmdpbmUoYXV0by5pZCk7XHJcbiAgICBpZiAoIXRpbWUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdGFydEFuaW1hdGlvbih0aW1lLCBhdXRvLmlkKTtcclxuICAgIHRoaXMuc3RhcnRUaW1lcihhdXRvLCB0aW1lb3V0c0lELCB0aW1lKTtcclxuICAgIGNvbnN0IGlzRHJpdmUgPSBhd2FpdCB0aGlzLmNvbnRyb2xsZXIuc3RhcnREcml2ZShhdXRvLmlkKTtcclxuICAgIGlmICghaXNEcml2ZSkge1xyXG4gICAgICB0aGlzLmNsZWFyVGltZXJCeUlEKHRpbWVvdXRzSUQsIGF1dG8uaWQpO1xyXG4gICAgICB0aGlzLnN0b3BBbmltYXRpb24oYXV0by5pZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNsZWFyVGltZXJzKHRpbWVvdXRzSUQ6IFJlY29yZDxudW1iZXIsIG51bWJlcj4pIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHRpbWVvdXRzSUQpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRzSURba2V5XSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGltZW91dHNJRCA9IHt9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjbGVhclRpbWVyQnlJRCh0aW1lb3V0c0lEOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+LCBpZDogbnVtYmVyKSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aW1lb3V0c0lEKSB7XHJcbiAgICAgIGlmIChrZXkgPT0gaWQudG9TdHJpbmcoKSkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0c0lEW2tleV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXJ0VGltZXIoXHJcbiAgICBhdXRvOiBJQXV0b3MsXHJcbiAgICB0aW1lb3V0c0lEOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+LFxyXG4gICAgdGltZTogbnVtYmVyXHJcbiAgKTogdm9pZCB7XHJcbiAgICBjb25zdCB0aW1lb3V0SUQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0V2lubmVyKGF1dG8uaWQsIGF1dG8ubmFtZSwgTWF0aC5yb3VuZCh0aW1lIC8gMTApIC8gMTAwKTtcclxuICAgICAgdGhpcy5jbGVhclRpbWVycyh0aW1lb3V0c0lEKTtcclxuICAgIH0sIHRpbWUpO1xyXG5cclxuICAgIHRpbWVvdXRzSURbYXV0by5pZF0gPSB0aW1lb3V0SUQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXJ0QW5pbWF0aW9uKHRpbWU6IG51bWJlciwgaWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3QgaW1nQXV0bzogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQudG9TdHJpbmcoKSk7XHJcbiAgICBpZiAoIWltZ0F1dG8pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGltZ0F1dG8uY2xhc3NMaXN0LmFkZChcImFuaW1hdGlvbi1hY3RpdmVcIik7XHJcbiAgICBpbWdBdXRvLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gdGltZSAvIDEwMDAgKyBcInNcIjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RvcEFuaW1hdGlvbihpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBpbWdBdXRvOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZC50b1N0cmluZygpKTtcclxuICAgIGlmICghaW1nQXV0bykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBsZWZ0OiBudW1iZXIgPSBpbWdBdXRvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICBpbWdBdXRvLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xyXG4gICAgaW1nQXV0by5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0aW9uLWFjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgc3RvcENhcihcclxuICAgIGJ0blJhY2U6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgYnRuUmVzZXQ6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZ2V0UGFnZTogKCkgPT4gbnVtYmVyLFxyXG4gICAgZ2V0TGltaXRDYXJzOiAoKSA9PiBudW1iZXJcclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHBhZ2U6IG51bWJlciA9IGdldFBhZ2UoKTtcclxuICAgIGNvbnN0IGxpbWl0Q2FyczogbnVtYmVyID0gZ2V0TGltaXRDYXJzKCk7XHJcbiAgICBjb25zdCByZXNwb25zZTogSUF1dG9zW10gfCB1bmRlZmluZWQgPSBhd2FpdCB0aGlzLmNvbnRyb2xsZXIuZ2V0QXV0b3NJZChcclxuICAgICAgcGFnZSxcclxuICAgICAgbGltaXRDYXJzXHJcbiAgICApO1xyXG4gICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgIHJlc3BvbnNlLmZvckVhY2goKGF1dG8pID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuc3RvcENhcihhdXRvLCBidG5SYWNlLCBidG5SZXNldCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRXaW5uZXIoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nLCB0aW1lOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzV2luKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHdpbm5lck5hbWVFbDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIud2lubmVyLW1vZGFsX19uYW1lXCJcclxuICAgICk7XHJcbiAgICBjb25zdCB3aW5uZXJUaW1lRWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLndpbm5lci1tb2RhbF9fdGltZVwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgbW9kYWxFbDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC13aW5uZXJcIik7XHJcbiAgICBpZiAod2lubmVyTmFtZUVsICYmIHdpbm5lclRpbWVFbCAmJiBtb2RhbEVsKSB7XHJcbiAgICAgIG1vZGFsRWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsLS1vcGVuXCIpO1xyXG4gICAgICB3aW5uZXJOYW1lRWwudGV4dENvbnRlbnQgPSBgJHtuYW1lfSBXaW5uZXIhYDtcclxuICAgICAgd2lubmVyVGltZUVsLnRleHRDb250ZW50ID0gYCgke3RpbWUgKyBcInNcIn0pIWA7XHJcbiAgICAgIGNvbnN0IGJ0blJlc2V0OiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmNvbnRyb2wtcGFuZWxfX3Jlc2V0XCJcclxuICAgICAgKTtcclxuICAgICAgaWYgKGJ0blJlc2V0KSB7XHJcbiAgICAgICAgYnRuUmVzZXQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5pc1dpbiA9IHRydWU7XHJcbiAgICB0aGlzLmNvbnRyb2xsZXIuY3JlYXRlV2lubmVyKGlkLCB0aW1lKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlSW5wdXROYW1lKFxyXG4gICAgY2xhc3NOYW1lT25lOiBzdHJpbmcsXHJcbiAgICBpbnB1dFR5cGU6IHN0cmluZyxcclxuICAgIGNsYXNzTmFtZVR3bz86IHN0cmluZ1xyXG4gICk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgY29uc3QgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZU9uZSk7XHJcbiAgICBpZiAoY2xhc3NOYW1lVHdvKSB7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lVHdvKTtcclxuICAgIH1cclxuICAgIGlucHV0LnR5cGUgPSBpbnB1dFR5cGU7XHJcbiAgICByZXR1cm4gaW5wdXQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUlucHV0Q29sb3IoXHJcbiAgICBjbGFzc05hbWVPbmU6IHN0cmluZyxcclxuICAgIGlucHV0VHlwZTogc3RyaW5nLFxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG4gICk6IEhUTUxJbnB1dEVsZW1lbnQge1xyXG4gICAgY29uc3QgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZU9uZSk7XHJcbiAgICBpbnB1dC52YWx1ZSA9IGNvbG9yO1xyXG4gICAgaW5wdXQudHlwZSA9IGlucHV0VHlwZTtcclxuICAgIHJldHVybiBpbnB1dDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkVmFsdWVJbnB1dChrZXk6IHN0cmluZywgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IGtleUxvY2FsU3RvcmFnZTogc3RyaW5nIHwgbnVsbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICBpZiAoa2V5TG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0ga2V5TG9jYWxTdG9yYWdlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCdG4oXHJcbiAgICBjbGFzc05hbWVPbmU6IHN0cmluZyxcclxuICAgIGNsYXNzTmFtZVR3bzogc3RyaW5nLFxyXG4gICAgY2xhc3NOYW1lVGhyZWU6IHN0cmluZyxcclxuICAgIGNvbnRlbnQ6IHN0cmluZyxcclxuICAgIGRpc2FibGVkPzogYm9vbGVhblxyXG4gICk6IEhUTUxCdXR0b25FbGVtZW50IHtcclxuICAgIGNvbnN0IGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYnRuLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lT25lKTtcclxuICAgIGJ0bi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZVR3byk7XHJcbiAgICBidG4uY2xhc3NMaXN0LmFkZChjbGFzc05hbWVUaHJlZSk7XHJcbiAgICBpZiAoZGlzYWJsZWQpIHtcclxuICAgICAgYnRuLmRpc2FibGVkID0gZGlzYWJsZWQ7XHJcbiAgICB9XHJcbiAgICBidG4udGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgcmV0dXJuIGJ0bjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xQYW5lbDtcclxuIiwiaW1wb3J0IFRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvdGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgSVRlbXBsYXRlIH0gZnJvbSBcInNyYy90eXBlc1wiO1xyXG5cclxuY2xhc3MgTW9kYWwge1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY3JlYXRlTW9kYWwoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbW9kYWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbFwiKTtcclxuICAgIG1vZGFsLmlkID0gXCJtb2RhbC13aW5uZXJcIjtcclxuICAgIGNvbnN0IHdpbm5lckJsb2NrOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlV2lubmVyQmxvY2soXCJcIiwgXCJcIik7XHJcbiAgICBtb2RhbC5hcHBlbmQod2lubmVyQmxvY2spO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlck1vZGFsKG1vZGFsKTtcclxuICAgIHJldHVybiBtb2RhbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DbGlja0hhbmRsZXJNb2RhbChtb2RhbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vZGFsRWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIubW9kYWwtLW9wZW5cIlxyXG4gICAgICApO1xyXG4gICAgICBpZiAobW9kYWxFbCkge1xyXG4gICAgICAgIG1vZGFsRWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLS1vcGVuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlV2lubmVyQmxvY2sobmFtZVdpbm5lcjogc3RyaW5nLCB0aW1lV2lubmVyOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHdpbm5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgd2lubmVyLmNsYXNzTGlzdC5hZGQoXCJ3aW5uZXItbW9kYWxcIik7XHJcbiAgICBjb25zdCBzcGFuT25lOiBIVE1MRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlU3BhbihcclxuICAgICAgXCJ3aW5uZXItbW9kYWxfX25hbWVcIixcclxuICAgICAgbmFtZVdpbm5lclxyXG4gICAgKTtcclxuICAgIGNvbnN0IHNwYW5Ud286IEhUTUxFbGVtZW50ID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVTcGFuKFxyXG4gICAgICBcIndpbm5lci1tb2RhbF9fdGltZVwiLFxyXG4gICAgICB0aW1lV2lubmVyXHJcbiAgICApO1xyXG4gICAgd2lubmVyLmFwcGVuZChzcGFuT25lLCBzcGFuVHdvKTtcclxuICAgIHJldHVybiB3aW5uZXI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcclxuIiwiaW1wb3J0IFRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvdGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgSVJvdXRlciwgSVRlbXBsYXRlIH0gZnJvbSBcIi4uL3R5cGVzL2luZGV4XCI7XHJcblxyXG5jbGFzcyBIZWFkZXIge1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhd0VsZW1lbnRzKHJvdXRlcjogSVJvdXRlcik6IHZvaWQge1xyXG4gICAgY29uc3QgaGVhZGVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpO1xyXG4gICAgaWYgKCFoZWFkZXIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJcIik7XHJcbiAgICBjb25zdCB0aXRsZUVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlVGl0bGUocm91dGVyKTtcclxuICAgIGNvbnN0IGJ1dHRvbnNFbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgYnV0dG9uc0VsLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJfX2J1dHRvbnNcIik7XHJcbiAgICBjb25zdCBidG5HYXJhZ2U6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVCdG4oXHJcbiAgICAgIFwiaGVhZGVyX19idG4tZ2FyYWdlXCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiVG8gR2FyYWdlXCIsXHJcbiAgICAgIFwiYnRuLS1wYWdlXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBidG5XaW5uZXJzOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlQnRuKFxyXG4gICAgICBcImhlYWRlcl9fYnRuLXdpbm5lcnNcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJUbyBXaW5uZXJzXCIsXHJcbiAgICAgIFwiYnRuLS1wYWdlXCJcclxuICAgICk7XHJcbiAgICB0aGlzLm9uQ2xpY2tIYW5kbGVyQnRuKGJ0bkdhcmFnZSwgcm91dGVyLCBcIlwiKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJCdG4oYnRuV2lubmVycywgcm91dGVyLCBcIndpbm5lcnNcIik7XHJcbiAgICBidXR0b25zRWwuYXBwZW5kKGJ0bkdhcmFnZSwgYnRuV2lubmVycyk7XHJcbiAgICBoZWFkZXIuYXBwZW5kKHRpdGxlRWwsIGJ1dHRvbnNFbCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyQnRuKFxyXG4gICAgYnRuR2FyYWdlOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHJvdXRlcjogSVJvdXRlcixcclxuICAgIHBhdGg6IHN0cmluZ1xyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuR2FyYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHJvdXRlci5uYXZpZ2F0ZShwYXRoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclRpdGxlKFxyXG4gICAgdGl0bGVFbDogSFRNTEVsZW1lbnQsXHJcbiAgICByb3V0ZXI6IElSb3V0ZXIsXHJcbiAgICBwYXRoOiBzdHJpbmdcclxuICApOiB2b2lkIHtcclxuICAgIHRpdGxlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgcm91dGVyLm5hdmlnYXRlKHBhdGgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVRpdGxlKHJvdXRlcjogSVJvdXRlcik6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHRpdGxlRWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgdGl0bGVFbC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX19sb2dvXCIpO1xyXG4gICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IFwiQXN5bmMtUmFjZVwiO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlclRpdGxlKHRpdGxlRWwsIHJvdXRlciwgXCJcIik7XHJcbiAgICByZXR1cm4gdGl0bGVFbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcclxuIiwiaW1wb3J0IHsgSVJvdXQgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXhcIjtcclxuXHJcbmNsYXNzIFJvdXRlciB7XHJcbiAgcHJpdmF0ZSByb3V0ZXM6IElSb3V0W107XHJcbiAgcHJpdmF0ZSByb290OiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBlcnJvckFjdGlvbjogKCkgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3Iocm91dGVzOiBJUm91dFtdLCBlcnJvckFjdGlvbjogKCkgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZXM7XHJcbiAgICB0aGlzLnJvb3QgPSBcIi9hc3luYy1yYWNlMS9cIjsgLy/QtNC+0LHQsNCy0LjRgtGMINC90LDQuNC80LXQvdC+0LLQsNC90LjQtSDRgNC10L/QvtC30LjRgtC+0YDQuNGPINC/0LXRgNC10LQg0LTQtdC/0LvQvtC10LwgL2FzeW5jLXJhY2UxL1xyXG4gICAgdGhpcy5lcnJvckFjdGlvbiA9IGVycm9yQWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgLy/QvNC10YLQvtC0INC00LvRjyDQv9C10YDQtdGF0L7QtNCwINC90LAg0YHRgtGA0LDQvdC40YbRg1xyXG4gIHB1YmxpYyBuYXZpZ2F0ZSA9IChwYXRoOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiLCB0aGlzLnJvb3QgKyBwYXRoKTtcclxuICAgIHRoaXMuYWN0aW9uKHBhdGgpO1xyXG4gIH07XHJcblxyXG4gIC8v0LzQtdGC0L7QtCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDQutCw0LrQsNGPINGB0LXQudGH0LDRgSDRgdGC0YDQsNC90LjRhtCwINC/0YDQuCDQv9C10YDQtdC30LDQs9GA0YPQt9C60LVcclxuICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHBhdGg6IHN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKHRoaXMucm9vdCwgXCJcIik7XHJcbiAgICB0aGlzLmFjdGlvbihwYXRoLnJlcGxhY2UoL1xcLyQvLCBcIlwiKSk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCAoZSkgPT4ge1xyXG4gICAgICAvL9C/0LXRgNC10YDQuNGB0L7QstC60LAg0L/RgNC4INC90LDQttCw0YLQuNC4INC60L3QvtC/0L7QuiDQsiDQsdGA0LDRg9C30LXRgNC1IGZvcndhcmQvYmFja1xyXG4gICAgICB0aGlzLmFjdGlvbih3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSh0aGlzLnJvb3QsIFwiXCIpKTsgLy/QsdC10YDQtdGCINGC0LXQutGD0YnQuNC5INC/0YPRgtGMLCDQv9C+0YHQu9C1INGC0L7Qs9C+INC60LDQuiDRgdC00LXQu9Cw0Lsg0YjQsNCzINC90LDQt9Cw0LRcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/QvNC10YLQvtC0INC00LvRjyDQstGL0LfQvtCy0LAg0LrQvtC70LHQtdC60LAg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GJ0LXQs9C+INGA0L7Rg9GC0LBcclxuICBwcml2YXRlIGFjdGlvbihwYXRoOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IGN1cnJlbnQ6IElSb3V0IHwgdW5kZWZpbmVkID0gdGhpcy5yb3V0ZXMuZmluZCgocm91dDogSVJvdXQpID0+IHtcclxuICAgICAgaWYgKHJvdXQucGF0aC5pbmRleE9mKFwiLzpcIikgIT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdXQucGF0aC5yZXBsYWNlKC9cXC86LiskLywgXCJcIikgPT09IHBhdGgucmVwbGFjZSgvXFwvW1xcd10rJC8sIFwiXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByb3V0LnBhdGggPT09IHBhdGg7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICBjb25zdCBwYXJhbTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5nZXRQYXJhbShwYXRoLCBjdXJyZW50LnBhdGgpO1xyXG4gICAgICBjdXJyZW50LmNiKHBhcmFtKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZXJyb3JBY3Rpb24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0LzQtdGC0L7QtCDQstC+0LfQstGA0LDRidCy0LXRgiDQv9Cw0YDQsNC80LXRgtGAINC00LvRjyDRgdGB0YvQu9C60Lgg0LLQuNC00LAgcHJvZHVjdHMvOmlkXHJcbiAgcHJpdmF0ZSBnZXRQYXJhbShwYXRoOiBzdHJpbmcsIGN1cnJlbnQ6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAoY3VycmVudC5pbmRleE9mKFwiLzpcIikgPT09IC0xKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG1hdGNoOiBzdHJpbmdbXSB8IG51bGwgPSBwYXRoLm1hdGNoKC9cXC8uKyQvKTtcclxuXHJcbiAgICBsZXQgcGFyYW06IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgIGlmIChtYXRjaCkge1xyXG4gICAgICBwYXJhbSA9IG1hdGNoWzBdLnJlcGxhY2UoXCIvXCIsIFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwYXJhbTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJvdXRlcjtcclxuIl0sIm5hbWVzIjpbImdldEF1dG9zQWxsIiwicmVzcG9uc2UiLCJmZXRjaCIsImpzb24iLCJlIiwiY29uc29sZSIsImxvZyIsImdldEF1dG9zIiwicGFnZSIsImxpbWl0Q2FycyIsImNvdW50Q2FycyIsImhlYWRlcnMiLCJnZXQiLCJhdXRvcyIsIk51bWJlciIsImdldEF1dG9zSWQiLCJjcmVhdGVDYXIiLCJuYW1lIiwiY29sb3IiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcyIsImRlbGV0ZUNhciIsImlkIiwic3RhcnRDYXJFbmdpbmUiLCJzdGFydEVuZ2luZURyaXZlIiwic3RhdHVzIiwiRXJyb3IiLCJ0aGlzIiwic3RvcENhckVuZ2luZSIsIm1lc3NhZ2UiLCJ1cGRhdGVDYXIiLCJzdGFydEVuZ2luZSIsInJlc3BvbnNlQ2FyRW5naW5lIiwiZGlzdGFuY2UiLCJ2ZWxvY2l0eSIsInN0YXJ0RHJpdmUiLCJzdGFydENhciIsImF1dG8iLCJidG5SdW4iLCJidG5TdG9wIiwic2V0V2lubmVyIiwiZGlzYWJsZWQiLCJ0aW1lb3V0SUQiLCJpbWdBdXRvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRvU3RyaW5nIiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJhbmltYXRpb25EdXJhdGlvbiIsImR1cmF0aW9uQW5pbWF0aW9uIiwic2V0VGltZW91dCIsIk1hdGgiLCJyb3VuZCIsImNsZWFyVGltZW91dCIsImxlZnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZW1vdmUiLCJzdG9wQ2FyIiwiY3JlYXRlV2lubmVyIiwidGltZSIsIndpbm5lcnMiLCJnZXRXaW5uZXJzQWxsIiwid2lubmVyIiwiZmluZCIsIm5ld1RpbWUiLCJuZXdDb3VudFdpbnMiLCJ3aW5zIiwidXBkYXRlV2lubmVyIiwiZ2V0V2lubmVycyIsImxpbWl0Iiwic29ydCIsImRpcmVjdGlvbiIsInNvcnRQYXJhbXMiLCJjb3VudFdpbm5lcnMiLCJkZWxldGVXaW5uZXIiLCJjcmVhdGVCdG4iLCJteUNsYXNzT25lIiwibXlDbGFzc1R3byIsImNvbnRlbnQiLCJteUNsYXNzVGhyZWUiLCJidG5FbCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVNwYW4iLCJteUNsYXNzIiwic3BhbiIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGUiLCJjcmVhdGVQYWdpbmF0aW9uIiwiZ2V0UGFnZSIsImdldExpbWl0Q2FycyIsImRyYXdHYXJhZ2UiLCJwYWdpbmF0aW9uQmxvY2siLCJwYWdlTnVtYmVyIiwiYnV0dG9ucyIsImNyZWF0ZUJ1dHRvbnMiLCJhcHBlbmQiLCJidG5QcmV2IiwiYnRuTmV4dCIsIm9uQ2xpY2tIYW5kbGVyUHJldiIsIm9uQ2xpY2tIYW5kbGVyTmV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtYWluUGFnZSIsImNvbnRyb2xsZXIiLCJnYXJhZ2UiLCJwYWdpbmF0aW9uIiwiY3JlYXRlR2FyYWdlIiwidGl0bGUiLCJjcmVhdGVUaXRsZXMiLCJtYXAiLCJjb250YWluZXIiLCJjcmVhdGVDb250YWluZXIiLCJpbWFnZXMiLCJjcmVhdGVJbWFnZXMiLCJuYW1lQXV0byIsImNyZWF0ZU5hbWVBdXRvIiwiY29udHJvbEF1dG8iLCJidG5TZWxlY3QiLCJvbkNsaWNrSGFuZGxlclNlbGVjdCIsImJ0blJlbW92ZSIsIm9uQ2xpY2tIYW5kbGVyUmVtb3ZlIiwiaW5wdXRVcGRhdGVOYW1lIiwicXVlcnlTZWxlY3RvciIsImlucHV0VXBkYXRlQ29sb3IiLCJpbnB1dFVwZGF0ZUlkIiwiYnRuVXBkYXRlIiwidmFsdWUiLCJpbWdDYXIiLCJjcmVhdGVDYXJJbWciLCJibG9ja0ltZ0ZpbmlzaCIsImNyZWF0ZUJsb2NrSW1nIiwiY2xhc3NOYW1lIiwiYmxvY2tJbWciLCJkaXYiLCJpbm5lckhUTUwiLCJjb250cm9sUGFuZWwiLCJpc1dpbiIsInRpbWVvdXRzSUQiLCJjcmVhdGVDb250cm9sUGFuZWwiLCJjcmVhdGVUaXRsZSIsImNyZWF0ZUJsb2NrIiwiY3JlYXRlQmxvY2tDcmVhdGVDYXJzIiwidXBkYXRlQmxvY2siLCJjcmVhdGVCbG9ja1VwZGF0ZUNhcnMiLCJidXR0b25zQmxvY2siLCJjcmVhdGVCdXR0b25zQmxvY2siLCJpbnB1dE5hbWUiLCJjcmVhdGVJbnB1dE5hbWUiLCJpbnB1dENvbG9yIiwiY3JlYXRlSW5wdXRDb2xvciIsImJ0biIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJhZGRWYWx1ZUlucHV0Iiwib25DbGlja0hhbmRsZXJDcmVhdGUiLCJpbnB1dE5hbWVWYWx1ZSIsImlucHV0Q29sb3JWYWx1ZSIsImlucHV0SWQiLCJvbkNsaWNrSGFuZGxlclVwZGF0ZSIsImJ0blJhY2UiLCJidG5SZXNldCIsIm9uQ2xpY2tIYW5kbGVyUmFjZSIsIm9uQ2xpY2tIYW5kbGVyUmVzZXQiLCJidG5HZW5lcmF0ZSIsIm9uQ2xpY2tIYW5kbGVyR2VuZXJhdGUiLCJpIiwicmFuZG9tTnVtQ2Fyc05hbWUiLCJnZXRSYW5kb21DYXJzTmFtZSIsInJhbmRvbU51bUNhcnNNb2RlbCIsImdldFJhbmRvbUNhcnNNb2RlbCIsInJhbmRvbU51bUNvbG9yIiwiZ2V0UmFuZG9tQ29sb3JDYXJzIiwibWluIiwiY2VpbCIsIm1heCIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tTnVtIiwic3RhcnRSYWNlIiwiY2hhbmdlRGlzYWJsZWRCdG4iLCJjbGVhclRpbWVycyIsImJ0blJ1bkRpc2FibGVkIiwiYnRuU3RvcERpc2FibGVkIiwiYnV0dG9uc1J1biIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25zU3RvcCIsImJ0blJ1bkFyciIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYnRuU3RvcEFyciIsImZvckVhY2giLCJzdGFydEF1dG8iLCJzdGFydEFuaW1hdGlvbiIsInN0YXJ0VGltZXIiLCJjbGVhclRpbWVyQnlJRCIsInN0b3BBbmltYXRpb24iLCJrZXkiLCJ3aW5kb3ciLCJ3aW5uZXJOYW1lRWwiLCJ3aW5uZXJUaW1lRWwiLCJtb2RhbEVsIiwiY2xhc3NOYW1lT25lIiwiaW5wdXRUeXBlIiwiY2xhc3NOYW1lVHdvIiwiaW5wdXQiLCJ0eXBlIiwia2V5TG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNsYXNzTmFtZVRocmVlIiwibW9kYWwiLCJjcmVhdGVNb2RhbCIsIndpbm5lckJsb2NrIiwiY3JlYXRlV2lubmVyQmxvY2siLCJvbkNsaWNrSGFuZGxlck1vZGFsIiwibmFtZVdpbm5lciIsInRpbWVXaW5uZXIiLCJzcGFuT25lIiwic3BhblR3byIsImRyYXciLCJtYWluRWxlbWVudCIsImJpbmQiLCJhdXRvc0RhdGEiLCJzZWN0aW9uIiwibWFpbiIsIndpbm5lcnNQYWdlIiwibnVtYmVyVGFibGUiLCJsaW1pdFdpbm5lcnMiLCJkcmF3UGFnZSIsIm1haW5FbCIsIndpbm5lcnNFbCIsInRpdGxlRWwiLCJwYWdpbmF0aW9uRWwiLCJ3aW5uZXJzVGFibGUiLCJjcmVhdGVXaW5uZXJzVGFibGUiLCJzZXRTb3J0IiwiY291bnQiLCJnZXRMaW1pdFdpbm5lcnMiLCJ0YWJsZUVsIiwiY29sdW1uc0Jsb2NrIiwiY3JlYXRlQ29sdW1uc0Jsb2NrIiwiY2Fyc0FsbCIsImluZGV4IiwiY2FyIiwicm93c0Jsb2NrIiwiY3JlYXRlUm93c0Jsb2NrIiwiY29sdW1ucyIsImNvbHVtbk5hbWUiLCJjcmVhdGVDb2x1bW4iLCJjb2x1bW5FbCIsImluY2x1ZGVzIiwibnVtYmVyIiwibnVtYmVyRWwiLCJjcmVhdGVSb3ciLCJjYXJFbCIsIm5hbWVFbCIsIndpbnNFbCIsInRpbWVFbCIsInJvd0VsIiwiZHJhd0VsZW1lbnRzIiwicm91dGVyIiwiaGVhZGVyIiwiYnV0dG9uc0VsIiwiYnRuR2FyYWdlIiwiYnRuV2lubmVycyIsIm9uQ2xpY2tIYW5kbGVyQnRuIiwicGF0aCIsIm5hdmlnYXRlIiwib25DbGlja0hhbmRsZXJUaXRsZSIsInJvdXRlcyIsImVycm9yQWN0aW9uIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJvb3QiLCJhY3Rpb24iLCJpbml0IiwibG9jYXRpb24iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJjdXJyZW50Iiwicm91dCIsImluZGV4T2YiLCJwYXJhbSIsImdldFBhcmFtIiwiY2IiLCJtYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=