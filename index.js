(()=>{"use strict";var t=function(t,e,n,i){return new(n||(n=Promise))((function(r,c){function a(t){try{s(i.next(t))}catch(t){c(t)}}function o(t){try{s(i.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}s((i=i.apply(t,e||[])).next())}))};const e=class{getAutosAll(){return t(this,void 0,void 0,(function*(){try{const t=yield fetch("http://127.0.0.1:3000/garage");return yield t.json()}catch(t){console.log(t)}}))}getAutos(e,n){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/?_page=${e}&_limit=${n}`),i=t.headers.get("X-Total-Count");return{autos:yield t.json(),countCars:Number(i)}}catch(t){console.log(t)}}))}getAutosId(e,n){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/?_page=${e}&_limit=${n}`),i=yield t.json();if(i)return i}catch(t){console.log(t)}}))}createCar(e,n){return t(this,void 0,void 0,(function*(){console.log(e);try{const t=yield fetch("http://127.0.0.1:3000/garage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,color:n})}),i=yield t.json();if(i)return i}catch(t){console.log(t)}}))}deleteCar(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"DELETE"});yield t.json()}catch(t){console.log(t)}}))}startCarEngine(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=started`,{method:"PATCH"});return yield t.json()}catch(t){console.log(t)}}))}startEngineDrive(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=drive`,{method:"PATCH"});if(500===t.status)throw new Error("Car has been stopped suddenly. It's engine was broken down.");const n=yield t.json();if(n)return n}catch(t){this.stopCarEngine(e),t instanceof Error&&console.log(t.message)}}))}stopCarEngine(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/engine/?id=${e}&status=stopped`,{method:"PATCH"});yield t.json()}catch(t){console.log(t)}}))}updateCar(e,n,i){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,color:i})}),r=yield t.json();if(r)return r;console.log(r)}catch(t){console.log(t)}}))}startEngine(e){return t(this,void 0,void 0,(function*(){const t=yield this.startCarEngine(e);if(t)return t.distance/t.velocity}))}startDrive(e){return t(this,void 0,void 0,(function*(){return!!(yield this.startEngineDrive(e))}))}startCar(e,n,i,r){return t(this,void 0,void 0,(function*(){n.disabled=!0,i.disabled=!1;const t=yield this.startCarEngine(e.id);if(!t)return;let c;const a=document.getElementById(e.id.toString());if(a){a.classList.add("animation-active"),a.style.animationDuration=t.distance/t.velocity/1e3+"s";const n=t.distance/t.velocity;r&&(c=setTimeout((()=>{console.log(e.name),r(e.id,e.name,Math.round(n/10)/100)}),n))}if(!(yield this.startEngineDrive(e.id))&&(clearTimeout(c),a)){const t=a.getBoundingClientRect().left;a.style.left=t+"px",a.classList.remove("animation-active")}}))}stopCar(e,n,i){return t(this,void 0,void 0,(function*(){yield this.stopCarEngine(e.id);const t=document.getElementById(e.id.toString());t&&(t.classList.remove("animation-active"),t.style.left="5%"),n.disabled=!1,i.disabled=!0}))}createWinner(e,n){return t(this,void 0,void 0,(function*(){const t=yield this.getWinnersAll();if(!t)return;const i=t.find((t=>t.id===e));if(i){const t=i.time>n?i.time:n,e=i.wins+1;this.updateWinner(i.id,e,t)}else try{const t=yield fetch("http://127.0.0.1:3000/winners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,wins:1,time:n})}),i=yield t.json();if(i)return i}catch(t){console.log(t)}}))}getWinnersAll(){return t(this,void 0,void 0,(function*(){try{const t=yield fetch("http://127.0.0.1:3000/winners",{method:"GET"}),e=yield t.json();if(e)return e}catch(t){console.log(t)}}))}getWinners(e,n,i,r){return t(this,void 0,void 0,(function*(){try{const t=i?`&_sort=${i}&_order=${r}`:"",c=yield fetch(`http://127.0.0.1:3000/winners?_page=${e}&_limit=${n}${t}`,{}),a=c.headers.get("X-Total-Count");return{winners:yield c.json(),countWinners:Number(a)}}catch(t){console.log(t)}}))}updateWinner(e,n,i){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/winners/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:n,time:i})}),r=yield t.json();if(r)return r}catch(t){console.log(t)}}))}deleteWinner(e){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`http://127.0.0.1:3000/winners/${e}`,{method:"DELETE"});yield t.json()}catch(t){console.log(t)}}))}},n=class{createBtn(t,e,n,i){const r=document.createElement("button");return r.classList.add(t),r.classList.add(e),i&&r.classList.add(i),r.textContent=n,r}createSpan(t,e){const n=document.createElement("span");return n.classList.add(t),n.textContent=e,n}},i=class{constructor(){this.template=new n}createPagination(t,e,n,i){const r=document.createElement("div");r.classList.add("pagination");const c=document.createElement("h3");c.classList.add("pagination__page");const a=t();c.textContent=`Page #${a}`;const o=this.createButtons(t,e,n,i);return r.append(c,...o),r}createButtons(t,e,n,i){const r=t(),c=e(),a=this.template.createBtn("pagination__prev","btn","Prev"),o=this.template.createBtn("pagination__next","btn","Next");return r*c>=n&&(o.disabled=!0),r<=1&&(a.disabled=!0),this.onClickHandlerPrev(a,t,i),this.onClickHandlerNext(o,t,e,n,i),[a,o]}onClickHandlerPrev(t,e,n){t.addEventListener("click",(()=>{let t=e();t>1&&(t-=1,n(t))}))}onClickHandlerNext(t,e,n,i,r){t.addEventListener("click",(()=>{let t=e();t*n()<i&&(t+=1,r(t))}))}};var r=function(t,e,n,i){return new(n||(n=Promise))((function(r,c){function a(t){try{s(i.next(t))}catch(t){c(t)}}function o(t){try{s(i.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}s((i=i.apply(t,e||[])).next())}))};var c=function(t,e,n,i){return new(n||(n=Promise))((function(r,c){function a(t){try{s(i.next(t))}catch(t){c(t)}}function o(t){try{s(i.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}s((i=i.apply(t,e||[])).next())}))};var a=function(t,e,n,i){return new(n||(n=Promise))((function(r,c){function a(t){try{s(i.next(t))}catch(t){c(t)}}function o(t){try{s(i.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}s((i=i.apply(t,e||[])).next())}))};const o=new class{constructor(){this.controller=new e,this.garage=new class{constructor(){this.controller=new e,this.template=new n,this.pagination=new i}createGarage(t,e,n,i,r){const c=document.createElement("div");c.classList.add("garage__wrap");const a=this.createTitles(n),o=this.pagination.createPagination(i,r,n,e);return c.append(a,o),t.map((t=>{const n=this.createContainer(t,e),i=this.createImages(t);c.append(n,i)})),c}createTitles(t){const e=document.createElement("h2");return e.classList.add("garage__title"),e.textContent=`Garage (${t})`,e}createContainer(t,e){const n=document.createElement("div");n.classList.add("garage__container");const i=this.createButtons(t,e),r=this.createNameAuto(t.name),c=this.controlAuto(t);return n.append(i,r,c),n}createButtons(t,e){const n=document.createElement("div");n.classList.add("garage__buttons");const i=this.template.createBtn("garage__btn-select","btn","Select");this.onClickHandlerSelect(i,t);const r=this.template.createBtn("garage__btn-remove","btn","Remove");return this.onClickHandlerRemove(r,t.id,e),n.append(i,r),n}onClickHandlerRemove(t,e,n){t.addEventListener("click",(()=>{this.deleteCar(e,n),this.deleteWinner(e)}))}onClickHandlerSelect(t,e){t.addEventListener("click",(()=>{const t=document.querySelector(".update-cars__name"),n=document.querySelector(".update-cars__color"),i=document.querySelector(".update-cars__id");t&&n&&i&&(t.value=e.name,n.value=e.color,i.value=e.id.toString())}))}deleteCar(t,e){return r(this,void 0,void 0,(function*(){yield this.controller.deleteCar(t),e()}))}deleteWinner(t){return r(this,void 0,void 0,(function*(){yield this.controller.deleteWinner(t)}))}createNameAuto(t){const e=document.createElement("span");return e.classList.add("garage__name-auto"),e.textContent=t,e}controlAuto(t){const e=document.createElement("div");e.classList.add("control-auto");const n=this.template.createBtn("control-auto__run","btn-control","A");n.addEventListener("click",(()=>{this.controller.startCar(t,n,i)}));const i=this.template.createBtn("control-auto__stop","btn-control","B");return i.disabled=!0,i.addEventListener("click",(()=>{this.controller.stopCar(t,n,i)})),e.append(n,i),e}createImages(t){const e=document.createElement("div");e.classList.add("garage__images");const n=this.createCarImg(t),i=this.createBlockImg("garage__img-finish");return e.append(n,i),e}createBlockImg(t){const e=document.createElement("div");return e.classList.add(t),e}createCarImg(t){const e=document.createElement("div");return e.id=t.id.toString(),e.classList.add("garage__img-auto"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 640" preserveAspectRatio="xMidYMid meet" xmlns:v="https://vecta.io/nano"><g fill="${t.color}" stroke="none"><path d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7 300.9-.9c.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0l-43 2.7c-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7l7.1 44.6 7.5 47.4c.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1zM263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4zM260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zm32 13.6c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zm-63.8 11.3c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zm94 9.7c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zm-44.1 1.9c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zm-3.2 17.1c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zm-17.9 3.6c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zm43.6.1c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zm92 .3c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zm-33 7.1c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zm-21.8 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3zm-44.2 10.6c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zm31.7 13.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zm-65.4 13.7c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zm94.7 7.6c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zm-43.1 1c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zm-3.6 17.9c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zm-17.6 3.3c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zm43.6-.1c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3s-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zm91.7-.8c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zm-32.6 7.7c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zm-21.9 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"/></g></svg>`,e}},this.controlPanel=new class{constructor(){this.controller=new e,this.isWin=!1,this.timeoutsID={}}createControlPanel(t,e,n){const i=document.createElement("section");i.classList.add("control-panel");const r=this.createTitle(),c=this.createBlockCreateCars(t),a=this.createBlockUpdateCars(t),o=this.createButtonsBlock(e,n,t);return i.append(r,c,a,o),i}createTitle(){const t=document.createElement("h2");return t.classList.add("control-panel__title"),t.textContent="Control panel cars",t}createBlockCreateCars(t){const e=document.createElement("div");e.classList.add("create-cars");const n=this.createInputName("create-cars__name","text","input"),i=this.createInputColor("create-cars__color","color","#f6b73c"),r=this.createBtn("create-cars__btn","btn","btn--panel","Create");return this.onClickHandlerCreate(r,t),e.append(n,i,r),e}onClickHandlerCreate(t,e){t.addEventListener("click",(()=>{const t=document.querySelector(".create-cars__name"),n=document.querySelector(".create-cars__color");if(t&&n){const i=t.value,r=n.value;console.log(i,r),this.createCar(i,r,e)}}))}createCar(t,e,n){return c(this,void 0,void 0,(function*(){(yield this.controller.createCar(t,e))&&n()}))}createBlockUpdateCars(t){const e=document.createElement("div");e.classList.add("update-cars");const n=this.createInputName("update-cars__name","text","input"),i=this.createInputColor("update-cars__color","color","#f6b73c"),r=this.createInputName("update-cars__id","text","input"),c=this.createBtn("create-cars__btn","btn","btn--panel","Update");return this.onClickHandlerUpdate(c,t),e.append(r,n,i,c),e}onClickHandlerUpdate(t,e){t.addEventListener("click",(()=>{const t=document.querySelector(".update-cars__name"),n=document.querySelector(".update-cars__color"),i=document.querySelector(".update-cars__id");t&&n&&i&&this.updateCar(Number(i.value),t.value,n.value,e)}))}updateCar(t,e,n,i){return c(this,void 0,void 0,(function*(){(yield this.controller.updateCar(t,e,n))&&i()}))}createButtonsBlock(t,e,n){const i=document.createElement("div");i.classList.add("control-panel__buttons");const r=this.createBtn("control-panel__race","btn","btn--panel","Race"),c=this.createBtn("control-panel__reset","btn","btn--panel","Reset");!1===this.isWin&&(c.disabled=!0),this.onClickHandlerRace(r,c,t,e),this.onClickHandlerReset(r,c,t,e,n);const a=this.createBtn("control-panel__generate","btn","btn--panel","Generate cars");return this.onClickHandlerGenerate(a,n),i.append(r,c,a),i}onClickHandlerGenerate(t,e){t.addEventListener("click",(()=>{for(let t=0;t<100;t++){const t=this.getRandomCarsName(),n=this.getRandomCarsModel(),i=this.getRandomColorCars();this.createCar(t+" "+n,i,e)}}))}getRandomCarsName(){const t=Math.ceil(0),e=Math.floor(14);return["Tesla","Ford","BMW","Mercedes","Opel","Porsche","Audi","Honda","Hyundai","Kia","Mazda","Acura","Citroen","Lexus","Skoda"][Math.floor(Math.random()*(e-t+1))+t]}getRandomCarsModel(){const t=Math.ceil(0),e=Math.floor(14);return["Model S","Mondeo","iX M60","GLA","Zafira Life","Cayman","Q7","Accord","Tucson","Ceed","CX-9","MDX","C5 AIRCROSS","RX","Octavia"][Math.floor(Math.random()*(e-t+1))+t]}getRandomColorCars(){const t=Math.ceil(0),e=Math.floor(14),n=Math.floor(Math.random()*(e-t+1))+t;return console.log(n),["#ff0099","\t#ff0033","#0033ff","#00ffcc","#33cc00","#33cc99","#663399","#ff6666","#ffff00","#990000","#ffcccc","#006633","#666600","#003399","#cc66cc"][n]}onClickHandlerRace(t,e,n,i){t.addEventListener("click",(()=>{t.disabled=!0,this.startRace(n,i),this.changeDisabledBtn(!0,!1)}))}onClickHandlerReset(t,e,n,i,r){e.addEventListener("click",(()=>{this.stopCar(t,e,n,i),this.clearTimers(this.timeoutsID),r(),this.isWin=!1}))}changeDisabledBtn(t,e){const n=document.querySelectorAll(".control-auto__run"),i=document.querySelectorAll(".control-auto__stop"),r=Array.prototype.slice.call(n),c=Array.prototype.slice.call(i);r&&c&&(r.forEach((e=>{e.disabled=t})),c.forEach((t=>{t.disabled=e})))}startRace(t,e){return c(this,void 0,void 0,(function*(){const n=yield this.getAutos(t(),e());n&&n.forEach((t=>{this.startAuto(t,this.timeoutsID)}))}))}getAutos(t,e){return c(this,void 0,void 0,(function*(){return yield this.controller.getAutosId(t,e)}))}startAuto(t,e){return c(this,void 0,void 0,(function*(){const n=yield this.controller.startEngine(t.id);n&&(this.startAnimation(n,t.id),this.startTimer(t,e,n),(yield this.controller.startDrive(t.id))||(this.clearTimerByID(e,t.id),this.stopAnimation(t.id)))}))}clearTimers(t){for(const e in t)clearTimeout(t[e]);t={}}clearTimerByID(t,e){for(const n in t)n==e.toString()&&clearTimeout(t[n])}startTimer(t,e,n){const i=window.setTimeout((()=>{this.setWinner(t.id,t.name,Math.round(n/10)/100),this.clearTimers(e)}),n);e[t.id]=i}startAnimation(t,e){const n=document.getElementById(e.toString());n&&(n.classList.add("animation-active"),n.style.animationDuration=t/1e3+"s")}stopAnimation(t){const e=document.getElementById(t.toString());if(!e)return;const n=e.getBoundingClientRect().left;e.style.left=n+"px",e.classList.remove("animation-active")}stopCar(t,e,n,i){return c(this,void 0,void 0,(function*(){const r=n(),c=i(),a=yield this.controller.getAutosId(r,c);a&&a.forEach((n=>{this.controller.stopCar(n,t,e)}))}))}setWinner(t,e,n){if(this.isWin)return;const i=document.querySelector(".winner-modal__name"),r=document.querySelector(".winner-modal__time"),c=document.getElementById("modal-winner");if(i&&r&&c){c.classList.add("modal--open"),i.textContent=`${e} Winner!`,r.textContent=`(${n+"s"})!`;const t=document.querySelector(".control-panel__reset");t&&(t.disabled=!1)}this.isWin=!0,this.controller.createWinner(t,n)}createInputName(t,e,n){const i=document.createElement("input");return i.classList.add(t),n&&i.classList.add(n),i.type=e,i}createInputColor(t,e,n){const i=document.createElement("input");return i.classList.add(t),i.type=e,i.value=n,i}createBtn(t,e,n,i){const r=document.createElement("button");return r.classList.add(t),r.classList.add(e),r.classList.add(n),r.textContent=i,r}},this.page=1,this.limitCars=7,this.modal=new class{constructor(){this.template=new n}createModal(){const t=document.createElement("div");t.classList.add("modal"),t.id="modal-winner";const e=this.createWinnerBlock("","");return t.append(e),this.onClickHandlerModal(t),t}onClickHandlerModal(t){t.addEventListener("click",(()=>{const t=document.querySelector(".modal--open");t&&t.classList.remove("modal--open")}))}createWinnerBlock(t,e){const n=document.createElement("div");n.classList.add("winner-modal");const i=this.template.createSpan("winner-modal__name",t),r=this.template.createSpan("winner-modal__time",e);return n.append(i,r),n}}}draw(){const t=document.querySelector("main");if(!t)return;t.classList.add("main"),t.textContent="";const e=this.modal.createModal();t.append(e);const n=this.controlPanel.createControlPanel(this.drawGarage.bind(this),this.getPage.bind(this),this.getLimitCars.bind(this));t.append(n),this.drawGarage()}drawGarage(t){return e=this,n=void 0,r=function*(){t&&(this.page=t);const e=yield this.controller.getAutos(this.page,this.limitCars);if(!e)return;const n=this.garage.createGarage(e.autos,this.drawGarage.bind(this),e.countCars,this.getPage.bind(this),this.getLimitCars.bind(this));let i=document.querySelector(".garage");i?i.textContent="":(i=document.createElement("section"),i.classList.add("garage")),i.append(n);const r=document.querySelector(".main");r&&r.append(i)},new((i=void 0)||(i=Promise))((function(t,c){function a(t){try{s(r.next(t))}catch(t){c(t)}}function o(t){try{s(r.throw(t))}catch(t){c(t)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(a,o)}s((r=r.apply(e,n||[])).next())}));var e,n,i,r}getPage(){return this.page}getLimitCars(){return this.limitCars}},s=new class{constructor(){this.pagination=new i,this.controller=new e,this.page=1,this.numberTable=0,this.limitWinners=10,this.sort="",this.direction="ASC"}drawPage(){this.draw()}draw(t){return a(this,void 0,void 0,(function*(){t&&(this.page=t);const e=document.querySelector("main");if(!e)return;e.classList.add("main"),e.textContent="";const n=document.createElement("section");n.classList.add("winners");const i=yield this.controller.getWinners(this.page,this.limitWinners,this.sort,this.direction),r=this.createTitle(null==i?void 0:i.countWinners),c=this.createPagination(i),a=yield this.createWinnersTable(i);c&&n.append(r,c,a),e.append(n)}))}setSort(t){t===this.sort?this.direction="ASC"===this.direction?"DESC":"ASC":(this.sort=t,this.direction="ASC"),this.draw()}createTitle(t){const e=document.createElement("h2");return e.classList.add("winners__title"),e.textContent=`Winners (${t||0})`,e}createPagination(t){if(t)return this.pagination.createPagination(this.getPage.bind(this),this.getLimitWinners.bind(this),t.countWinners,this.draw.bind(this))}createWinnersTable(t){return a(this,void 0,void 0,(function*(){const e=document.createElement("table");e.classList.add("winners__table");const n=this.createColumnsBlock();e.append(n);const i=yield this.controller.getAutosAll();return t&&i&&t.winners.forEach(((t,n)=>{const r=i.find((e=>e.id===t.id));if(r){const i=this.createRowsBlock((this.page-1)*this.limitWinners+(n+1),r.name,t.wins,t.time,r.color);e.append(i)}})),e}))}createColumnsBlock(){const t=document.createElement("tr");t.classList.add("winners__columns");const e=[{id:"number",title:"Number"},{id:"car",title:"Car"},{id:"name",title:"Name"},{id:"wins",title:"Wins"},{id:"time",title:"Best time (seconds)"}].map((t=>this.createColumn(t)));return t.append(...e),t}createColumn(t){const e=document.createElement("th");if(["wins","time"].includes(t.id)&&(e.addEventListener("click",(()=>{this.setSort(t.id)})),e.classList.add("is-sort"),t.id===this.sort)){const t="ASC"===this.direction?"sort-asc":"sort-desc";e.classList.add(t)}return e.textContent=t.title,e}createRowsBlock(t,e,n,i,r){const c=document.createElement("tr");c.classList.add("winners__rows");const a=this.createRow(t.toString(),"winners__number"),o=this.createRow(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 640" preserveAspectRatio="xMidYMid meet" xmlns:v="https://vecta.io/nano"><g fill="${r}" stroke="none"><path d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7 300.9-.9c.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0l-43 2.7c-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7l7.1 44.6 7.5 47.4c.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1zM263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4zM260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zm32 13.6c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zm-63.8 11.3c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zm94 9.7c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zm-44.1 1.9c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zm-3.2 17.1c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zm-17.9 3.6c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zm43.6.1c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zm92 .3c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zm-33 7.1c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zm-21.8 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3zm-44.2 10.6c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zm31.7 13.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zm-65.4 13.7c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zm94.7 7.6c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zm-43.1 1c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zm-3.6 17.9c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zm-17.6 3.3c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zm43.6-.1c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3s-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zm91.7-.8c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zm-32.6 7.7c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zm-21.9 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"/></g></svg>`,"winners__car"),s=this.createRow(e,"winners__name"),l=this.createRow(n.toString(),"winners__wins"),d=this.createRow(i.toString(),"winners__time");return c.append(a,o,s,l,d),c}createRow(t,e){const n=document.createElement("td");return n.classList.add(e),n.innerHTML=t,n}getPage(){return this.page}getLimitWinners(){return this.limitWinners}},l=new class{constructor(){this.template=new n}drawElements(t){const e=document.querySelector("header");if(!e)return;e.classList.add("header");const n=this.createTitle(t),i=document.createElement("div");i.classList.add("header__buttons");const r=this.template.createBtn("header__btn-garage","btn","To Garage","btn--page"),c=this.template.createBtn("header__btn-winners","btn","To Winners","btn--page");this.onClickHandlerBtn(r,t,""),this.onClickHandlerBtn(c,t,"winners"),i.append(r,c),e.append(n,i)}onClickHandlerBtn(t,e,n){t.addEventListener("click",(()=>{e.navigate(n)}))}onClickHandlerTitle(t,e,n){t.addEventListener("click",(()=>{e.navigate(n)}))}createTitle(t){const e=document.createElement("h1");return e.classList.add("header__logo"),e.textContent="Async-Race",this.onClickHandlerTitle(e,t,""),e}},d=new class{constructor(t,e){this.navigate=t=>{window.history.pushState(null,"",this.root+t),this.action(t)},this.routes=t,this.root="/async-race1/",this.errorAction=e}init(){const t=window.location.pathname.replace(this.root,"");this.action(t.replace(/\/$/,"")),window.addEventListener("popstate",(t=>{this.action(window.location.pathname.replace(this.root,""))}))}action(t){const e=this.routes.find((e=>-1!==e.path.indexOf("/:")?e.path.replace(/\/:.+$/,"")===t.replace(/\/[\w]+$/,""):e.path===t));if(e){const n=this.getParam(t,e.path);e.cb(n)}else this.errorAction()}getParam(t,e){if(-1===e.indexOf("/:"))return;const n=t.match(/\/.+$/);let i;return n&&(i=n[0].replace("/","")),i}}([{path:"",cb:o.draw.bind(o)},{path:"winners",cb:s.drawPage.bind(s)}],o.draw.bind(o));l.drawElements(d),o.router=d,d.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UXhQLEtBQUttUCxLQUFNLElBQUksR0FFaEUsQ0FHUUMsT0FBT1IsR0FDYixNQUFNYSxFQUE2QnpQLEtBQUsrTyxPQUFPek0sTUFBTW9OLElBQ2xCLElBQTdCQSxFQUFLZCxLQUFLZSxRQUFRLE1BQ2JELEVBQUtkLEtBQUtZLFFBQVEsU0FBVSxNQUFRWixFQUFLWSxRQUFRLFdBQVksSUFFL0RFLEVBQUtkLE9BQVNBLElBR3ZCLEdBQUlhLEVBQVMsQ0FDWCxNQUFNRyxFQUE0QjVQLEtBQUs2UCxTQUFTakIsRUFBTWEsRUFBUWIsTUFDOURhLEVBQVFLLEdBQUdGLEUsTUFFWDVQLEtBQUtnUCxhQUVULENBR1FhLFNBQVNqQixFQUFjYSxHQUM3QixJQUErQixJQUEzQkEsRUFBUUUsUUFBUSxNQUNsQixPQUVGLE1BQU1JLEVBQXlCbkIsRUFBS21CLE1BQU0sU0FFMUMsSUFBSUgsRUFLSixPQUpJRyxJQUNGSCxFQUFRRyxFQUFNLEdBQUdQLFFBQVEsSUFBSyxLQUd6QkksQ0FDVCxHTjdDcUIsQ0FDckIsQ0FDRWhCLEtBQU0sR0FDTmtCLEdBQUlqTCxFQUFTZ0gsS0FBS0UsS0FBS2xILElBRXpCLENBQ0UrSixLQUFNLFVBQ05rQixHQUFJM0QsRUFBWUcsU0FBU1AsS0FBS0ksS0FVRHRILEVBQVNnSCxLQUFLRSxLQUFLbEgsSUFDcEQsRUFBT3dKLGFBQWFDLEdBR3BCekosRUFBU3lKLE9BQVNBLEVBQ2xCQSxFQUFPZSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL3V0aWxzL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL3RlbXBsYXRlcy90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uLnRzIiwid2VicGFjazovL29ubGluZS1zdG9yZS8uL3NyYy9wYWdlcy93aW5uZXJzLnRzIiwid2VicGFjazovL29ubGluZS1zdG9yZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvcGFnZXMvbWFpbi50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvY29tcG9uZW50cy9nYXJhZ2UudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL2NvbXBvbmVudHMvY29udHJvbC1wYW5lbC50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvY29tcG9uZW50cy9tb2RhbC50cyIsIndlYnBhY2s6Ly9vbmxpbmUtc3RvcmUvLi9zcmMvY29tcG9uZW50cy9oZWFkZXIudHMiLCJ3ZWJwYWNrOi8vb25saW5lLXN0b3JlLy4vc3JjL3V0aWxzL1JvdXRpbmcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBJQXV0b3MsXHJcbiAgSVJlc3BvbnNlQ2FyRW5naW5lLFxyXG4gIElSZXNwb25zZUVuZ2luZURyaXZlLFxyXG4gIElSZXNwb25zZUNyZWF0ZUNhcixcclxuICBJUmVzcG9uc2VVcGRhdGVDYXIsXHJcbiAgSVdpbm5lcixcclxuICBJQXV0b3NEYXRhLFxyXG4gIElXaW5uZXJzRGF0YSxcclxufSBmcm9tIFwiLi4vdHlwZXMvaW5kZXhcIjtcclxuXHJcbmNsYXNzIENvbnRyb2xsZXIge1xyXG4gIHB1YmxpYyBhc3luYyBnZXRBdXRvc0FsbCgpOiBQcm9taXNlPElBdXRvc1tdIHwgdW5kZWZpbmVkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlYCk7XHJcbiAgICAgIGNvbnN0IGF1dG9zOiBJQXV0b3NbXSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgcmV0dXJuIGF1dG9zO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRBdXRvcyhcclxuICAgIHBhZ2U6IG51bWJlcixcclxuICAgIGxpbWl0Q2FyczogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxJQXV0b3NEYXRhIHwgdW5kZWZpbmVkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlLz9fcGFnZT0ke3BhZ2V9Jl9saW1pdD0ke2xpbWl0Q2Fyc31gXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNvdW50Q2Fyczogc3RyaW5nIHwgbnVsbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiWC1Ub3RhbC1Db3VudFwiKTtcclxuICAgICAgY29uc3QgYXV0b3M6IElBdXRvc1tdID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICByZXR1cm4geyBhdXRvczogYXV0b3MsIGNvdW50Q2FyczogTnVtYmVyKGNvdW50Q2FycykgfTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0QXV0b3NJZChcclxuICAgIHBhZ2U6IG51bWJlcixcclxuICAgIGxpbWl0Q2FyczogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxJQXV0b3NbXSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZS8/X3BhZ2U9JHtwYWdlfSZfbGltaXQ9JHtsaW1pdENhcnN9YFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBhdXRvczogSUF1dG9zW10gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGlmIChhdXRvcykge1xyXG4gICAgICAgIHJldHVybiBhdXRvcztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVDYXIoXHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICBjb2xvcjogc3RyaW5nXHJcbiAgKTogUHJvbWlzZTxJUmVzcG9uc2VDcmVhdGVDYXIgfCB1bmRlZmluZWQ+IHtcclxuICAgIGNvbnNvbGUubG9nKG5hbWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9nYXJhZ2VcIiwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgY29sb3I6IGNvbG9yLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzOiBQcm9taXNlPFxyXG4gICAgICAgIElSZXNwb25zZUNyZWF0ZUNhciB8IHVuZGVmaW5lZFxyXG4gICAgICA+ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBkZWxldGVDYXIoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZS8ke2lkfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHN0YXJ0Q2FyRW5naW5lKFxyXG4gICAgaWQ6IG51bWJlclxyXG4gICk6IFByb21pc2U8SVJlc3BvbnNlQ2FyRW5naW5lIHwgdW5kZWZpbmVkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvZW5naW5lLz9pZD0ke2lkfSZzdGF0dXM9c3RhcnRlZGAsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCByZXM6IFByb21pc2U8XHJcbiAgICAgICAgSVJlc3BvbnNlQ2FyRW5naW5lIHwgdW5kZWZpbmVkXHJcbiAgICAgID4gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHJldHVybiByZXM7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHN0YXJ0RW5naW5lRHJpdmUoXHJcbiAgICBpZDogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxJUmVzcG9uc2VFbmdpbmVEcml2ZSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTozMDAwL2VuZ2luZS8/aWQ9JHtpZH0mc3RhdHVzPWRyaXZlYCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDUwMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgIFwiQ2FyIGhhcyBiZWVuIHN0b3BwZWQgc3VkZGVubHkuIEl0J3MgZW5naW5lIHdhcyBicm9rZW4gZG93bi5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlczogUHJvbWlzZTxcclxuICAgICAgICBJUmVzcG9uc2VFbmdpbmVEcml2ZSB8IHVuZGVmaW5lZFxyXG4gICAgICA+ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aGlzLnN0b3BDYXJFbmdpbmUoaWQpO1xyXG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZS5tZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHN0b3BDYXJFbmdpbmUoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cDovLzEyNy4wLjAuMTozMDAwL2VuZ2luZS8/aWQ9JHtpZH0mc3RhdHVzPXN0b3BwZWRgLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVDYXIoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG4gICk6IFByb21pc2U8SVJlc3BvbnNlVXBkYXRlQ2FyIHwgdW5kZWZpbmVkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlLyR7aWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCByZXM6IFByb21pc2U8XHJcbiAgICAgICAgSVJlc3BvbnNlVXBkYXRlQ2FyIHwgdW5kZWZpbmVkXHJcbiAgICAgID4gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGlmIChyZXMpIHtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHN0YXJ0RW5naW5lKGlkOiBudW1iZXIpOiBQcm9taXNlPG51bWJlciB8IHVuZGVmaW5lZD4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2VDYXJFbmdpbmU6XHJcbiAgICAgIHwgSVJlc3BvbnNlQ2FyRW5naW5lXHJcbiAgICAgIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5zdGFydENhckVuZ2luZShpZCk7XHJcbiAgICBpZiAoIXJlc3BvbnNlQ2FyRW5naW5lKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2VDYXJFbmdpbmUuZGlzdGFuY2UgLyByZXNwb25zZUNhckVuZ2luZS52ZWxvY2l0eTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdGFydERyaXZlKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlOlxyXG4gICAgICB8IElSZXNwb25zZUVuZ2luZURyaXZlXHJcbiAgICAgIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5zdGFydEVuZ2luZURyaXZlKGlkKTtcclxuICAgIHJldHVybiAhIXJlc3BvbnNlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHN0YXJ0Q2FyKFxyXG4gICAgYXV0bzogSUF1dG9zLFxyXG4gICAgYnRuUnVuOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGJ0blN0b3A6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgc2V0V2lubmVyPzogKGlkOiBudW1iZXIsIG5hbWU6IHN0cmluZywgdGltZTogbnVtYmVyKSA9PiB2b2lkXHJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBidG5SdW4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgYnRuU3RvcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlQ2FyRW5naW5lOlxyXG4gICAgICB8IElSZXNwb25zZUNhckVuZ2luZVxyXG4gICAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuc3RhcnRDYXJFbmdpbmUoYXV0by5pZCk7XHJcbiAgICBpZiAoIXJlc3BvbnNlQ2FyRW5naW5lKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdGltZW91dElEO1xyXG4gICAgY29uc3QgaW1nQXV0bzogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIGF1dG8uaWQudG9TdHJpbmcoKVxyXG4gICAgKTtcclxuICAgIGlmIChpbWdBdXRvKSB7XHJcbiAgICAgIGltZ0F1dG8uY2xhc3NMaXN0LmFkZChcImFuaW1hdGlvbi1hY3RpdmVcIik7XHJcbiAgICAgIGltZ0F1dG8uc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPVxyXG4gICAgICAgIHJlc3BvbnNlQ2FyRW5naW5lLmRpc3RhbmNlIC8gcmVzcG9uc2VDYXJFbmdpbmUudmVsb2NpdHkgLyAxMDAwICsgXCJzXCI7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uQW5pbWF0aW9uOiBudW1iZXIgPVxyXG4gICAgICAgIHJlc3BvbnNlQ2FyRW5naW5lLmRpc3RhbmNlIC8gcmVzcG9uc2VDYXJFbmdpbmUudmVsb2NpdHk7XHJcblxyXG4gICAgICBpZiAoc2V0V2lubmVyKSB7XHJcbiAgICAgICAgdGltZW91dElEID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhhdXRvLm5hbWUpO1xyXG5cclxuICAgICAgICAgIHNldFdpbm5lcihcclxuICAgICAgICAgICAgYXV0by5pZCxcclxuICAgICAgICAgICAgYXV0by5uYW1lLFxyXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGR1cmF0aW9uQW5pbWF0aW9uIC8gMTApIC8gMTAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0sIGR1cmF0aW9uQW5pbWF0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzcG9uc2VFbmdpbmVEcml2ZTpcclxuICAgICAgfCBJUmVzcG9uc2VFbmdpbmVEcml2ZVxyXG4gICAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuc3RhcnRFbmdpbmVEcml2ZShhdXRvLmlkKTtcclxuICAgIGlmICghcmVzcG9uc2VFbmdpbmVEcml2ZSkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElEKTtcclxuXHJcbiAgICAgIGlmIChpbWdBdXRvKSB7XHJcbiAgICAgICAgY29uc3QgbGVmdDogbnVtYmVyID0gaW1nQXV0by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgICAgIGltZ0F1dG8uc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XHJcbiAgICAgICAgaW1nQXV0by5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0aW9uLWFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHN0b3BDYXIoXHJcbiAgICBhdXRvOiBJQXV0b3MsXHJcbiAgICBidG5SdW46IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgYnRuU3RvcDogSFRNTEJ1dHRvbkVsZW1lbnRcclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuc3RvcENhckVuZ2luZShhdXRvLmlkKTtcclxuICAgIGNvbnN0IGltZ0F1dG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdXRvLmlkLnRvU3RyaW5nKCkpO1xyXG4gICAgaWYgKGltZ0F1dG8pIHtcclxuICAgICAgaW1nQXV0by5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0aW9uLWFjdGl2ZVwiKTtcclxuICAgICAgaW1nQXV0by5zdHlsZS5sZWZ0ID0gNSArIFwiJVwiO1xyXG4gICAgfVxyXG4gICAgYnRuUnVuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBidG5TdG9wLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVXaW5uZXIoXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgdGltZTogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxJV2lubmVyIHwgdW5kZWZpbmVkPiB7XHJcbiAgICBjb25zdCB3aW5uZXJzOiBJV2lubmVyW10gfCB1bmRlZmluZWQgPSBhd2FpdCB0aGlzLmdldFdpbm5lcnNBbGwoKTtcclxuXHJcbiAgICBpZiAoIXdpbm5lcnMpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgd2lubmVyOiBJV2lubmVyIHwgdW5kZWZpbmVkID0gd2lubmVycy5maW5kKCh3aW5uZXIpID0+IHtcclxuICAgICAgcmV0dXJuIHdpbm5lci5pZCA9PT0gaWQ7XHJcbiAgICB9KTtcclxuICAgIGlmICh3aW5uZXIpIHtcclxuICAgICAgY29uc3QgbmV3VGltZTogbnVtYmVyID0gd2lubmVyLnRpbWUgPiB0aW1lID8gd2lubmVyLnRpbWUgOiB0aW1lO1xyXG4gICAgICBjb25zdCBuZXdDb3VudFdpbnM6IG51bWJlciA9IHdpbm5lci53aW5zICsgMTtcclxuICAgICAgdGhpcy51cGRhdGVXaW5uZXIod2lubmVyLmlkLCBuZXdDb3VudFdpbnMsIG5ld1RpbWUpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL3dpbm5lcnNgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgIHdpbnM6IDEsXHJcbiAgICAgICAgICB0aW1lOiB0aW1lLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzOiBQcm9taXNlPElXaW5uZXI+IHwgdW5kZWZpbmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRXaW5uZXJzQWxsKCk6IFByb21pc2U8SVdpbm5lcltdIHwgdW5kZWZpbmVkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVyc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCByZXM6IElXaW5uZXJbXSB8IHVuZGVmaW5lZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGlmIChyZXMpIHtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldFdpbm5lcnMoXHJcbiAgICBwYWdlOiBudW1iZXIsXHJcbiAgICBsaW1pdDogbnVtYmVyLFxyXG4gICAgc29ydDogc3RyaW5nLFxyXG4gICAgZGlyZWN0aW9uOiBzdHJpbmdcclxuICApOiBQcm9taXNlPElXaW5uZXJzRGF0YSB8IHVuZGVmaW5lZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc29ydFBhcmFtczogc3RyaW5nID0gc29ydFxyXG4gICAgICAgID8gYCZfc29ydD0ke3NvcnR9Jl9vcmRlcj0ke2RpcmVjdGlvbn1gXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICAgIGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycz9fcGFnZT0ke3BhZ2V9Jl9saW1pdD0ke2xpbWl0fSR7c29ydFBhcmFtc31gLFxyXG4gICAgICAgIHt9XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGNvdW50V2lubmVyczogc3RyaW5nIHwgbnVsbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiWC1Ub3RhbC1Db3VudFwiKTtcclxuICAgICAgY29uc3Qgd2lubmVyczogSVdpbm5lcltdID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICByZXR1cm4geyB3aW5uZXJzOiB3aW5uZXJzLCBjb3VudFdpbm5lcnM6IE51bWJlcihjb3VudFdpbm5lcnMpIH07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHVwZGF0ZVdpbm5lcihcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICB3aW5zOiBudW1iZXIsXHJcbiAgICB0aW1lOiBudW1iZXJcclxuICApOiBQcm9taXNlPElXaW5uZXIgfCB1bmRlZmluZWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC93aW5uZXJzLyR7aWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHdpbnM6IHdpbnMsXHJcbiAgICAgICAgICB0aW1lOiB0aW1lLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzOiBJV2lubmVyIHwgdW5kZWZpbmVkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBkZWxldGVXaW5uZXIoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL3dpbm5lcnMvJHtpZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XHJcbiIsImNsYXNzIFRlbXBsYXRlIHtcclxuICBwdWJsaWMgY3JlYXRlQnRuKFxyXG4gICAgbXlDbGFzc09uZTogc3RyaW5nLFxyXG4gICAgbXlDbGFzc1R3bzogc3RyaW5nLFxyXG4gICAgY29udGVudDogc3RyaW5nLFxyXG4gICAgbXlDbGFzc1RocmVlPzogc3RyaW5nXHJcbiAgKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgY29uc3QgYnRuRWw6IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGJ0bkVsLmNsYXNzTGlzdC5hZGQobXlDbGFzc09uZSk7XHJcbiAgICBidG5FbC5jbGFzc0xpc3QuYWRkKG15Q2xhc3NUd28pO1xyXG4gICAgaWYgKG15Q2xhc3NUaHJlZSkge1xyXG4gICAgICBidG5FbC5jbGFzc0xpc3QuYWRkKG15Q2xhc3NUaHJlZSk7XHJcbiAgICB9XHJcbiAgICBidG5FbC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICByZXR1cm4gYnRuRWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY3JlYXRlU3BhbihteUNsYXNzOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHNwYW46IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBzcGFuLmNsYXNzTGlzdC5hZGQobXlDbGFzcyk7XHJcbiAgICBzcGFuLnRleHRDb250ZW50ID0gY29udGVudDtcclxuICAgIHJldHVybiBzcGFuO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGVtcGxhdGU7XHJcbiIsImltcG9ydCB7IElUZW1wbGF0ZSB9IGZyb20gXCJzcmMvdHlwZXNcIjtcclxuaW1wb3J0IFRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvdGVtcGxhdGVcIjtcclxuXHJcbmNsYXNzIFBhZ2luYXRpb24ge1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy50ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZSgpO1xyXG4gIH1cclxuICBwdWJsaWMgY3JlYXRlUGFnaW5hdGlvbihcclxuICAgIGdldFBhZ2U6ICgpID0+IG51bWJlcixcclxuICAgIGdldExpbWl0Q2FyczogKCkgPT4gbnVtYmVyLFxyXG4gICAgY291bnRDYXJzOiBudW1iZXIsXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkXHJcbiAgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgcGFnaW5hdGlvbkJsb2NrOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBwYWdpbmF0aW9uQmxvY2suY2xhc3NMaXN0LmFkZChcInBhZ2luYXRpb25cIik7XHJcbiAgICBjb25zdCBwYWdlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuICAgIHBhZ2UuY2xhc3NMaXN0LmFkZChcInBhZ2luYXRpb25fX3BhZ2VcIik7XHJcbiAgICBjb25zdCBwYWdlTnVtYmVyOiBudW1iZXIgPSBnZXRQYWdlKCk7XHJcbiAgICBwYWdlLnRleHRDb250ZW50ID0gYFBhZ2UgIyR7cGFnZU51bWJlcn1gO1xyXG4gICAgY29uc3QgYnV0dG9uczogSFRNTEJ1dHRvbkVsZW1lbnRbXSA9IHRoaXMuY3JlYXRlQnV0dG9ucyhcclxuICAgICAgZ2V0UGFnZSxcclxuICAgICAgZ2V0TGltaXRDYXJzLFxyXG4gICAgICBjb3VudENhcnMsXHJcbiAgICAgIGRyYXdHYXJhZ2VcclxuICAgICk7XHJcbiAgICBwYWdpbmF0aW9uQmxvY2suYXBwZW5kKHBhZ2UsIC4uLmJ1dHRvbnMpO1xyXG4gICAgcmV0dXJuIHBhZ2luYXRpb25CbG9jaztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQnV0dG9ucyhcclxuICAgIGdldFBhZ2U6ICgpID0+IG51bWJlcixcclxuICAgIGdldExpbWl0Q2FyczogKCkgPT4gbnVtYmVyLFxyXG4gICAgY291bnRDYXJzOiBudW1iZXIsXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkXHJcbiAgKTogSFRNTEJ1dHRvbkVsZW1lbnRbXSB7XHJcbiAgICBjb25zdCBwYWdlOiBudW1iZXIgPSBnZXRQYWdlKCk7XHJcbiAgICBjb25zdCBsaW1pdENhcnM6IG51bWJlciA9IGdldExpbWl0Q2FycygpO1xyXG4gICAgY29uc3QgYnRuUHJldjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJwYWdpbmF0aW9uX19wcmV2XCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiUHJldlwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnRuTmV4dDogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJwYWdpbmF0aW9uX19uZXh0XCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiTmV4dFwiXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChwYWdlICogbGltaXRDYXJzID49IGNvdW50Q2Fycykge1xyXG4gICAgICBidG5OZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFnZSA8PSAxKSB7XHJcbiAgICAgIGJ0blByZXYuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlclByZXYoYnRuUHJldiwgZ2V0UGFnZSwgZHJhd0dhcmFnZSk7XHJcbiAgICB0aGlzLm9uQ2xpY2tIYW5kbGVyTmV4dChcclxuICAgICAgYnRuTmV4dCxcclxuICAgICAgZ2V0UGFnZSxcclxuICAgICAgZ2V0TGltaXRDYXJzLFxyXG4gICAgICBjb3VudENhcnMsXHJcbiAgICAgIGRyYXdHYXJhZ2VcclxuICAgICk7XHJcbiAgICByZXR1cm4gW2J0blByZXYsIGJ0bk5leHRdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclByZXYoXHJcbiAgICBidG5QcmV2OiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGdldFBhZ2U6ICgpID0+IG51bWJlcixcclxuICAgIGRyYXdHYXJhZ2U6IChwYWdlPzogbnVtYmVyKSA9PiB2b2lkXHJcbiAgKTogdm9pZCB7XHJcbiAgICBidG5QcmV2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGxldCBwYWdlOiBudW1iZXIgPSBnZXRQYWdlKCk7XHJcblxyXG4gICAgICBpZiAocGFnZSA+IDEpIHtcclxuICAgICAgICBwYWdlIC09IDE7XHJcbiAgICAgICAgZHJhd0dhcmFnZShwYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyTmV4dChcclxuICAgIGJ0bk5leHQ6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZ2V0UGFnZTogKCkgPT4gbnVtYmVyLFxyXG4gICAgZ2V0TGltaXRDYXJzOiAoKSA9PiBudW1iZXIsXHJcbiAgICBjb3VudENhcnM6IG51bWJlcixcclxuICAgIGRyYXdHYXJhZ2U6IChwYWdlPzogbnVtYmVyKSA9PiB2b2lkXHJcbiAgKTogdm9pZCB7XHJcbiAgICBidG5OZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGxldCBwYWdlOiBudW1iZXIgPSBnZXRQYWdlKCk7XHJcbiAgICAgIGNvbnN0IGxpbWl0Q2FyczogbnVtYmVyID0gZ2V0TGltaXRDYXJzKCk7XHJcbiAgICAgIGlmIChwYWdlICogbGltaXRDYXJzIDwgY291bnRDYXJzKSB7XHJcbiAgICAgICAgcGFnZSArPSAxO1xyXG4gICAgICAgIGRyYXdHYXJhZ2UocGFnZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUGFnaW5hdGlvbjtcclxuIiwiaW1wb3J0IFBhZ2luYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvcGFnaW5hdGlvblwiO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi4vdXRpbHMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQge1xyXG4gIElQYWdpbmF0aW9uLFxyXG4gIElDb250cm9sbGVyLFxyXG4gIElXaW5uZXIsXHJcbiAgSUF1dG9zLFxyXG4gIElXaW5uZXJzRGF0YSxcclxufSBmcm9tIFwic3JjL3R5cGVzXCI7XHJcblxyXG5jbGFzcyBXaW5uZXJzUGFnZSB7XHJcbiAgcGFnaW5hdGlvbjogSVBhZ2luYXRpb247XHJcbiAgY29udHJvbGxlcjogSUNvbnRyb2xsZXI7XHJcbiAgcGFnZTogbnVtYmVyO1xyXG4gIGxpbWl0V2lubmVyczogbnVtYmVyO1xyXG4gIG51bWJlclRhYmxlOiBudW1iZXI7XHJcbiAgc29ydDogc3RyaW5nO1xyXG4gIGRpcmVjdGlvbjogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMucGFnaW5hdGlvbiA9IG5ldyBQYWdpbmF0aW9uKCk7XHJcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcigpO1xyXG4gICAgdGhpcy5wYWdlID0gMTtcclxuICAgIHRoaXMubnVtYmVyVGFibGUgPSAwO1xyXG4gICAgdGhpcy5saW1pdFdpbm5lcnMgPSAxMDtcclxuICAgIHRoaXMuc29ydCA9IFwiXCI7XHJcbiAgICB0aGlzLmRpcmVjdGlvbiA9IFwiQVNDXCI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhd1BhZ2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICB9XHJcbiAgcHVibGljIGFzeW5jIGRyYXcocGFnZT86IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKHBhZ2UpIHtcclxuICAgICAgdGhpcy5wYWdlID0gcGFnZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtYWluRWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpO1xyXG4gICAgaWYgKCFtYWluRWwpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbWFpbkVsLmNsYXNzTGlzdC5hZGQoXCJtYWluXCIpO1xyXG4gICAgbWFpbkVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGNvbnN0IHdpbm5lcnNFbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcclxuICAgIHdpbm5lcnNFbC5jbGFzc0xpc3QuYWRkKFwid2lubmVyc1wiKTtcclxuICAgIGNvbnN0IHdpbm5lcnM6IElXaW5uZXJzRGF0YSB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5nZXRXaW5uZXJzKFxyXG4gICAgICB0aGlzLnBhZ2UsXHJcbiAgICAgIHRoaXMubGltaXRXaW5uZXJzLFxyXG4gICAgICB0aGlzLnNvcnQsXHJcbiAgICAgIHRoaXMuZGlyZWN0aW9uXHJcbiAgICApO1xyXG4gICAgY29uc3QgdGl0bGVFbDogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVRpdGxlKHdpbm5lcnM/LmNvdW50V2lubmVycyk7XHJcbiAgICBjb25zdCBwYWdpbmF0aW9uRWw6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkID0gdGhpcy5jcmVhdGVQYWdpbmF0aW9uKFxyXG4gICAgICB3aW5uZXJzXHJcbiAgICApO1xyXG4gICAgY29uc3Qgd2lubmVyc1RhYmxlOiBIVE1MVGFibGVFbGVtZW50ID0gYXdhaXQgdGhpcy5jcmVhdGVXaW5uZXJzVGFibGUoXHJcbiAgICAgIHdpbm5lcnNcclxuICAgICk7XHJcbiAgICBpZiAocGFnaW5hdGlvbkVsKSB7XHJcbiAgICAgIHdpbm5lcnNFbC5hcHBlbmQodGl0bGVFbCwgcGFnaW5hdGlvbkVsLCB3aW5uZXJzVGFibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1haW5FbC5hcHBlbmQod2lubmVyc0VsKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0U29ydChzb3J0OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGlmIChzb3J0ID09PSB0aGlzLnNvcnQpIHtcclxuICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbiA9PT0gXCJBU0NcIiA/IFwiREVTQ1wiIDogXCJBU0NcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc29ydCA9IHNvcnQ7XHJcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gXCJBU0NcIjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVGl0bGUoY291bnQ6IG51bWJlciB8IHVuZGVmaW5lZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHRpdGxlRWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gICAgdGl0bGVFbC5jbGFzc0xpc3QuYWRkKFwid2lubmVyc19fdGl0bGVcIik7XHJcbiAgICB0aXRsZUVsLnRleHRDb250ZW50ID0gYFdpbm5lcnMgKCR7Y291bnQgfHwgMH0pYDtcclxuICAgIHJldHVybiB0aXRsZUVsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVQYWdpbmF0aW9uKFxyXG4gICAgd2lubmVyczogSVdpbm5lcnNEYXRhIHwgdW5kZWZpbmVkXHJcbiAgKTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQge1xyXG4gICAgaWYgKHdpbm5lcnMpIHtcclxuICAgICAgY29uc3QgcGFnaW5hdGlvbkVsOiBIVE1MRWxlbWVudCA9IHRoaXMucGFnaW5hdGlvbi5jcmVhdGVQYWdpbmF0aW9uKFxyXG4gICAgICAgIHRoaXMuZ2V0UGFnZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgIHRoaXMuZ2V0TGltaXRXaW5uZXJzLmJpbmQodGhpcyksXHJcbiAgICAgICAgd2lubmVycy5jb3VudFdpbm5lcnMsXHJcbiAgICAgICAgdGhpcy5kcmF3LmJpbmQodGhpcylcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHBhZ2luYXRpb25FbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlV2lubmVyc1RhYmxlKFxyXG4gICAgd2lubmVyczogSVdpbm5lcnNEYXRhIHwgdW5kZWZpbmVkXHJcbiAgKTogUHJvbWlzZTxIVE1MVGFibGVFbGVtZW50PiB7XHJcbiAgICBjb25zdCB0YWJsZUVsOiBIVE1MVGFibGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xyXG4gICAgdGFibGVFbC5jbGFzc0xpc3QuYWRkKFwid2lubmVyc19fdGFibGVcIik7XHJcbiAgICBjb25zdCBjb2x1bW5zQmxvY2s6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVDb2x1bW5zQmxvY2soKTtcclxuICAgIHRhYmxlRWwuYXBwZW5kKGNvbHVtbnNCbG9jayk7XHJcbiAgICBjb25zdCBjYXJzQWxsOiBJQXV0b3NbXSB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5nZXRBdXRvc0FsbCgpO1xyXG4gICAgaWYgKHdpbm5lcnMgJiYgY2Fyc0FsbCkge1xyXG4gICAgICB3aW5uZXJzLndpbm5lcnMuZm9yRWFjaCgod2lubmVyOiBJV2lubmVyLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyOiBJQXV0b3MgfCB1bmRlZmluZWQgPSBjYXJzQWxsLmZpbmQoXHJcbiAgICAgICAgICAoY2FyKSA9PiBjYXIuaWQgPT09IHdpbm5lci5pZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGNhcikge1xyXG4gICAgICAgICAgY29uc3Qgcm93c0Jsb2NrOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlUm93c0Jsb2NrKFxyXG4gICAgICAgICAgICAodGhpcy5wYWdlIC0gMSkgKiB0aGlzLmxpbWl0V2lubmVycyArIChpbmRleCArIDEpLFxyXG4gICAgICAgICAgICBjYXIubmFtZSxcclxuICAgICAgICAgICAgd2lubmVyLndpbnMsXHJcbiAgICAgICAgICAgIHdpbm5lci50aW1lLFxyXG4gICAgICAgICAgICBjYXIuY29sb3JcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB0YWJsZUVsLmFwcGVuZChyb3dzQmxvY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFibGVFbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQ29sdW1uc0Jsb2NrKCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG5hbWVzQ29sdW1uczogeyBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nIH1bXSA9IFtcclxuICAgICAgeyBpZDogXCJudW1iZXJcIiwgdGl0bGU6IFwiTnVtYmVyXCIgfSxcclxuICAgICAgeyBpZDogXCJjYXJcIiwgdGl0bGU6IFwiQ2FyXCIgfSxcclxuICAgICAgeyBpZDogXCJuYW1lXCIsIHRpdGxlOiBcIk5hbWVcIiB9LFxyXG4gICAgICB7IGlkOiBcIndpbnNcIiwgdGl0bGU6IFwiV2luc1wiIH0sXHJcbiAgICAgIHsgaWQ6IFwidGltZVwiLCB0aXRsZTogXCJCZXN0IHRpbWUgKHNlY29uZHMpXCIgfSxcclxuICAgIF07XHJcbiAgICBjb25zdCBjb2x1bW5zQmxvY2s6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgY29sdW1uc0Jsb2NrLmNsYXNzTGlzdC5hZGQoXCJ3aW5uZXJzX19jb2x1bW5zXCIpO1xyXG4gICAgY29uc3QgY29sdW1uczogSFRNTEVsZW1lbnRbXSA9IG5hbWVzQ29sdW1ucy5tYXAoKGNvbHVtbk5hbWUpID0+IHtcclxuICAgICAgY29uc3QgY29sdW1uOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQ29sdW1uKGNvbHVtbk5hbWUpO1xyXG4gICAgICByZXR1cm4gY29sdW1uO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29sdW1uc0Jsb2NrLmFwcGVuZCguLi5jb2x1bW5zKTtcclxuICAgIHJldHVybiBjb2x1bW5zQmxvY2s7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUNvbHVtbihjb250ZW50OiB7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmcgfSk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHNvcnRpbmcgPSBbXCJ3aW5zXCIsIFwidGltZVwiXTtcclxuICAgIGNvbnN0IGNvbHVtbkVsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgIGlmIChzb3J0aW5nLmluY2x1ZGVzKGNvbnRlbnQuaWQpKSB7XHJcbiAgICAgIGNvbHVtbkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTb3J0KGNvbnRlbnQuaWQpO1xyXG4gICAgICB9KTtcclxuICAgICAgY29sdW1uRWwuY2xhc3NMaXN0LmFkZChcImlzLXNvcnRcIik7XHJcbiAgICAgIGlmIChjb250ZW50LmlkID09PSB0aGlzLnNvcnQpIHtcclxuICAgICAgICBjb25zdCBjbGFzc05hbWUgPSB0aGlzLmRpcmVjdGlvbiA9PT0gXCJBU0NcIiA/IFwic29ydC1hc2NcIiA6IFwic29ydC1kZXNjXCI7XHJcbiAgICAgICAgY29sdW1uRWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb2x1bW5FbC50ZXh0Q29udGVudCA9IGNvbnRlbnQudGl0bGU7XHJcbiAgICByZXR1cm4gY29sdW1uRWw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVJvd3NCbG9jayhcclxuICAgIG51bWJlcjogbnVtYmVyLFxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgd2luczogbnVtYmVyLFxyXG4gICAgdGltZTogbnVtYmVyLFxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG4gICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHJvd3NCbG9jazogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICByb3dzQmxvY2suY2xhc3NMaXN0LmFkZChcIndpbm5lcnNfX3Jvd3NcIik7XHJcbiAgICBjb25zdCBudW1iZXJFbDogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVJvdyhcclxuICAgICAgbnVtYmVyLnRvU3RyaW5nKCksXHJcbiAgICAgIFwid2lubmVyc19fbnVtYmVyXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBjYXJFbDogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVJvdyhcclxuICAgICAgYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMTI4MCA2NDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIHhtbG5zOnY9XCJodHRwczovL3ZlY3RhLmlvL25hbm9cIj48ZyBmaWxsPVwiJHtjb2xvcn1cIiBzdHJva2U9XCJub25lXCI+PHBhdGggZD1cIk0zNTYuNSAxMDYuNGMtMTAuNiAzLTEwLjEgMi42LTEwLjggMTEuMS0uNCA0LjItLjkgOC0xLjIgOC41LS42IDEtMjQuNiAxMC41LTU5IDIzLjQtNDQuOCAxNi43LTEwNS4yIDQxLjUtMTE3LjMgNDguMy03LjggNC4zLTE5LjMgOS4xLTI1IDEwLjQtMi4zLjUtOS44IDEuNC0xNi41IDEuOS02LjcuNi0xNi43IDEuOS0yMi4yIDMtMTUuNCAzLjEtMzQgNC45LTU2LjMgNS43bC0yMC4zLjYtNC4zIDYuNmMtNS45IDkuMS02IDkuNS0yLjYgMTMgMy43IDMuNyAzLjggNi41LjMgMTUtMi41IDYuMi0yLjcgNy44LTMuMSAyNS42bC0uNCAxOS0zLjggMy4yQzQuOSAzMDkuNS43IDMyMi42LjYgMzQzLjVjMCAxOS40IDEuMSAzOS42IDIuNiA0OC4yIDEuMyA3LjEgMS40IDcuNCA3LjIgMTIuMiA2LjkgNS44IDEzIDEyLjkgMTUuOCAxOC40IDYuNCAxMi42IDUzLjQgMjEuMSAxMzguNCAyNWw5LjIuNC0uNi0xMS45Yy0uNi0xNC4yLjgtMjUuNiA0LjktMzguMyAxMS4yLTM1LjIgMzkuNC02Mi4yIDc1LjYtNzIuMiA5LTIuNiAxMS4yLTIuOCAyNy44LTIuOCAxNi41IDAgMTguOC4yIDI3LjggMi43IDIwLjEgNS42IDM2LjEgMTUuMiA1MC40IDMwLjIgMTQgMTQuNSAyMi4yIDI5LjMgMjcuNCA0OS4yIDIuMSA3LjkgMi40IDEwLjkgMi4zIDI3LjktLjEgMTIuNy0uNiAyMS40LTEuNiAyNi4zbC0xLjUgNy4zIDMwMC42LS43IDMwMC45LS45Yy4xLS4xLS44LTMuNy0yLTguMS0xLjktNi43LTIuMi0xMC41LTIuMi0yNS45LS4xLTE2LjYuMS0xOC43IDIuNy0yNy45IDExLjctNDIuMSA0Ni43LTczLjYgODguNS03OS43IDExLjktMS43IDMyLjUtLjcgNDMuMiAyLjEgMjMuOSA2LjMgNDUuMyAyMC41IDYwLjEgMzkuOSA3IDkuMiAxNS40IDI2LjcgMTguNSAzOC42IDIuNCA4LjggMi43IDExLjkgMi43IDI2IC4xIDExLjYtLjQgMTguMS0xLjYgMjMuNC0xIDQuMS0xLjYgNy41LTEuNSA3LjYuMi4xIDYuMi0uMiAxMy4zLS42IDI2LjYtMS42IDQ1LjgtNC41IDUyLjUtNy45IDQuOC0yLjQgOS43LTguMSAxMi43LTE0LjZsMi40LTUuMi0xLjYtMTUuN2MtMS41LTE1LjItMS41LTE2LjMuNC0yOC40IDYuMy0zOC44IDUtNjgtMy41LTgwLjItMTMuNC0xOS4zLTUyLjYtMzMuNi0xNDIuOS01MS45LTczLjctMTQuOS0xMzIuMi0yMC45LTIwMy4zLTIxLTIyLjggMC0yMi42IDAtMzQuNy04LjUtMTguNy0xMy4xLTEwNC41LTYwLjctMTQ3LjEtODEuNS0zOC4zLTE4LjctNzguOC0yOC4xLTE0My45LTMzLjItMjAuOC0xLjctMTEwLjYtMS42LTE0MCAwbC00MyAyLjdjLTMwLjIgMi4yLTI4LjYgMi4yLTM0LjEtMS0xNC04LjEtMTguNy05LjQtMjYuOS03LjF6TTU0NSAxMzkuN2w3LjEgNDQuNiA3LjUgNDcuNGMuOSA1LjIgMS41IDkuNiAxLjMgOS43LTEuMS45LTE2OS45LTIuOS0xOTUuMS00LjQtMjAuNi0xLjMtNDEuNy0zLjYtNDguNS01LjQtOS44LTIuNi0xOS44LTExLjktMjQuOS0yMy4xLTMuNS03LjUtMy42LTE3LjItLjUtMjUuNSAxLjctNC41IDMtNi4xIDYuOC04LjYgOC4zLTUuNCAxMy41LTggMjUuMy0xMi43IDM0LjEtMTMuNiA4NS44LTIzIDE0Ni0yNi43IDI2LjktMS42IDI3LTEuNiA1MS4xLTEuOGwyMi43LS4yIDEuMiA2Ljd6bTYzLTQuN2MyNi40IDEuOCA3Ny43IDExIDEwMi45IDE4LjYgMTguNiA1LjYgNDQuNSAxOC44IDc1LjYgMzguNyAyMS4xIDEzLjQgMjcuNCAxOC4xIDI1IDE4LjUtNy41IDEuMi0xMy4zIDUtMTYuMiAxMC42LTEuOSAzLjUtMi4xIDEzLjYtLjQgMTcuOWwxLjEgMi43LTkwLjctLjItOTAuNi0uMy01LjktMTZjLTExLTMwLjItMjkuOC04Ny44LTI5LjgtOTEuNiAwLS42IDkuNS0uMiAyOSAxLjF6TTI2My4zIDMyNy41Yy0yMi4zIDQtNDEgMTQuMS01Ni44IDMwLjYtMTMuMiAxMy44LTIxLjMgMjguMy0yNi4yIDQ2LjctMi4yIDguMy0yLjYgMTEuOS0yLjYgMjQuNy0uMSAxNi45IDEgMjMuNiA2LjUgMzguMiA4LjcgMjMgMjcuMSA0My42IDQ5LjMgNTUuMSA4LjUgNC40IDE3LjggNy44IDI3LjEgOS44IDEwLjcgMi4zIDMxLjIgMi4zIDQxLjktLjEgMzkuMi04LjQgNjkuOS0zNy41IDgwLjItNzYuMSAyLjMtOC42IDIuNi0xMiAyLjctMjUuNC4xLTE1LjgtLjUtMTkuOS00LjYtMzMtOS44LTMxLTM1LjUtNTYuNy02Ni44LTY2LjktMTUtNS0zNS40LTYuNC01MC43LTMuNnptMzUgMzAuMWMyNC45IDUuNiA0NS43IDI0LjcgNTQuMyA0OS45IDIuNSA3LjIgMi44IDkuNSAyLjggMjIgLjEgMTUuMy0xLjUgMjIuOC03LjQgMzQuNS05LjQgMTguNi0yOC4zIDMzLjctNDguNSAzOC42LTkuNiAyLjQtMjYuOCAyLjQtMzYgMC0zMi04LjQtNTQuNC0zNS41LTU2LjItNjguMS0yLTM1LjkgMjAuOS02Ny4zIDU1LjgtNzYuNSA5LjQtMi40IDI1LjMtMi42IDM1LjItLjR6TTI2MCAzNzAuM2MtMy42IDEuMy04LjUgMy42LTEwLjkgNS4xbC00LjQgMi44IDExLjYgMTEuNWM4LjEgOC4yIDEyIDExLjQgMTMuMSAxMSAxLjQtLjYgMS42LTIuOSAxLjYtMTYuNyAwLTE4LjYuNi0xNy44LTExLTEzLjd6bTMyIDEzLjZjMCAxMy45LjIgMTYuMiAxLjYgMTYuOCAxLjEuNCA1LTIuOCAxMy0xMC44bDExLjUtMTEuNC0yLjgtMi4yYy0zLjQtMi44LTEzLjgtNy0xOS4zLTcuOWwtNC0uN3YxNi4yem0tNjMuOCAxMS4zYy0yLjggMy42LTkuMiAxOS4xLTkuMiAyMi41IDAgMSAzLjQgMS4zIDE2LjUgMS4zIDE1LjEgMCAxNi41LS4xIDE2LjUtMS44IDAtMS41LTIwLjYtMjMuMi0yMi4xLTIzLjItLjQgMC0xLjEuNi0xLjcgMS4yem05NCA5LjdjLTYuMiA1LjktMTEuMiAxMS41LTExLjIgMTIuNCAwIDEuNSAxLjcgMS43IDE2LjUgMS43IDEzLjEgMCAxNi41LS4zIDE2LjUtMS4zIDAtNC02LjktMjAuNS05LjUtMjIuNy0uNy0uNi00LjggMi43LTEyLjMgOS45em0tNDQuMSAxLjljLTEuMiAyLjIgMS4xIDYuMiAzLjQgNi4yLjggMCAyLjEtMSAyLjktMi4yIDItMi44LjQtNS44LTIuOS01LjgtMS4zIDAtMi45LjgtMy40IDEuOHptLTMuMiAxNy4xYy0zLjIgMy4zLTMuNyA2LjctMS40IDExIDIuOSA1LjcgMTAuNCA2LjQgMTUuMSAxLjQgNS4zLTUuNy45LTE1LjMtNy4xLTE1LjMtMi43IDAtNC40LjgtNi42IDIuOXptLTE3LjkgMy42Yy0yLjYgMy4yIDEuMyA4LjEgNC44IDUuOSAyLjQtMS42IDIuNy00LjUuNi02LjEtMi4zLTEuNy0zLjktMS42LTUuNC4yem00My42LjFjLTIgMS45LTIgMy44LS4yIDUuNCAyLjMgMS45IDYuMS44IDYuNC0xLjguNy00LjQtMy4yLTYuNy02LjItMy42ek0yMTkgNDQyLjVjMCAyLjkgNC4xIDE0IDcuMiAxOS40bDMuMSA1LjMgMTEuNy0xMS43YzcuMS03LjEgMTEuNi0xMi4zIDExLjMtMTMuMS0uNC0xLjEtNC0xLjQtMTYuOS0xLjQtMTQuMSAwLTE2LjQuMi0xNi40IDEuNXptOTIgLjNjMCAuOSA1LjEgNi44IDExLjQgMTMuMWwxMS40IDExLjQgMy4xLTUuNGMzLTUuMSA3LjEtMTYuNSA3LjEtMTkuNSAwLTEuMS0zLjEtMS40LTE2LjUtMS40LTE1LjEgMC0xNi41LjEtMTYuNSAxLjh6bS0zMyA3LjFjLS43IDEuNS0uNSAyLjQuOCA0LjEgMy4yIDQgOC41LjQgNi4yLTQuMS0xLjQtMi41LTUuNi0yLjUtNyAwem0tMjEuOCAyMC40Yy02LjEgNi4yLTExLjIgMTEuNS0xMS4yIDExLjkgMCAxLjggMjAuOCAxMC44IDI0LjkgMTAuOC43IDAgMS4xLTUuNCAxLjEtMTYuNCAwLTE0LS4yLTE2LjUtMS42LTE3LS45LS4zLTEuNi0uNi0xLjctLjZzLTUuMyA1LjEtMTEuNSAxMS4zem0zNy4xLTEwLjZjLTEuNS42LTEuOSAzMy4zLS40IDMzLjMgNC42IDAgMjUuMS04LjggMjUuMS0xMC44IDAtLjktMjIuMy0yMy4yLTIzLTIzLjEtLjMgMC0xLjEuMy0xLjcuNnpNMTA3MCAzMjguMWMtMzkgOC40LTY5LjYgMzcuNi03OS43IDc1LjktMy4xIDExLjctNC4xIDI5LjItMi40IDQxLjEgMy4zIDIyLjcgMTUgNDUuMyAzMS44IDYwLjkgMjYuNyAyNSA2NC4zIDM0LjQgOTkuMyAyNC45IDExLjctMy4yIDI4LjMtMTEuOCAzOC0xOS42IDQ4LjctMzkuNiA1MS44LTExMi44IDYuNy0xNTYtOS43LTkuMy0xNi42LTE0LTI5LTE5LjgtMTMuNy02LjQtMjMuNS04LjYtNDAuNy05LjEtMTItLjMtMTYuMiAwLTI0IDEuN3ptNDQuNSAzMS4zYzIzLjggOC4xIDQwLjkgMjUuOCA0OC42IDUwLjYgMyA5LjYgMy4zIDI4LjkuNSAzOC44LTExIDQwLTUxLjMgNjMuNy05MS4xIDUzLjYtMTQuOS0zLjgtMzEuMy0xNC43LTQwLjItMjYuNy0xNy42LTIzLjgtMjAuMy01My4zLTcuMS03OS43IDMuNC02LjkgNi0xMC4zIDEzLjgtMTggNy43LTcuOCAxMS4xLTEwLjQgMTguMS0xMy45IDEyLjktNi41IDIwLjctOC4xIDM2LjQtNy43IDEwLjkuMyAxNC4zLjcgMjEgM3ptLTQ0LjIgMTAuNmMtNS40IDEuOS0xNS4zIDcuMS0xNS4zIDggMCAuMyA1LjEgNS43IDExLjQgMTEuOSA4IDggMTEuOSAxMS4yIDEzIDEwLjggMS40LS41IDEuNi0yLjkgMS42LTE2Ljd2LTE2bC0yLjcuMWMtMS42IDAtNS4yLjktOCAxLjl6bTMxLjcgMTMuOWMwIDEzLjkuMiAxNi4yIDEuNiAxNi44IDIuMi44IDI0LjctMjEuNiAyMy40LTIzLjItMS43LTItMTYuMy04LjQtMjAuNy05LjFsLTQuMy0uN3YxNi4yem0tNjUuNCAxMy43Yy0yLjkgNC40LTcuNiAxNi41LTcuNiAxOS40IDAgMS45LjcgMiAxNi41IDIgMTIuNiAwIDE2LjUtLjMgMTYuNS0xLjMgMC0uNy01LjEtNi4zLTExLjQtMTIuNmwtMTEuNC0xMS40LTIuNiAzLjl6bTk0LjcgNy42Yy02LjEgNi4yLTEwLjkgMTEuOS0xMC42IDEyLjUuNiAxLjUgMzMuMyAxLjkgMzMuMy40IDAtNC41LTguOC0yNC4xLTEwLjgtMjQuMS0uNCAwLTUuNyA1LjEtMTEuOSAxMS4yem0tNDMuMSAxYy0xLjcgMS43LTEuNSAzLjIuNyA1LjIgMS42IDEuNCAyLjMgMS41IDQuMS42IDMuMS0xLjcgMi40LTYuNC0xLTYuOC0xLjQtLjItMy4xLjMtMy44IDF6bS0zLjYgMTcuOWMtNi44IDguMSAxLjcgMTkuNCAxMSAxNC40IDguOS00LjggNS42LTE3LjUtNC42LTE3LjUtMyAwLTQuNC42LTYuNCAzLjF6bS0xNy42IDMuM2MtMS45IDIuMy0uOCA2LjEgMS44IDYuNCA0LjQuNyA2LjctMy4yIDMuNi02LjItMS45LTItMy44LTItNS40LS4yem00My42LS4xYy0yLjEgMS42LTEuOCA0LjUuNyA2LjEgMy43IDIuMyA3LjctMy41IDQuMS02LjEtMS0uNy0yLjEtMS4zLTIuNC0xLjNzLTEuNC42LTIuNCAxLjN6TTEwMjkgNDQzYzAgMi45IDQuMyAxNC4xIDcuNCAxOS41bDIuOCA0LjggMTEuNi0xMS42YzguMS04LjEgMTEuMy0xMiAxMC45LTEzLjEtLjYtMS40LTIuOS0xLjYtMTYuNy0xLjYtMTUuMiAwLTE2IC4xLTE2IDJ6bTkxLjctLjhjLS4zLjcgNC43IDYuNiAxMS4xIDEzbDExLjYgMTEuOCAyLjctNC4zYzIuNy00LjQgNy45LTE3LjcgNy45LTIwLjMgMC0xLjItMi44LTEuNC0xNi40LTEuNC0xMi4yIDAtMTYuNi4zLTE2LjkgMS4yem0tMzIuNiA3LjdjLTEuNCAyLjUtLjUgNC44IDIgNS42IDIuNy45IDUuMS0xLjMgNC43LTQuNC0uNC0zLjQtNS4xLTQuMy02LjctMS4yem0tMjEuOSAyMC40Yy02LjEgNi4yLTExLjIgMTEuNS0xMS4yIDExLjkgMCAyIDIwLjEgMTAuOCAyNC43IDEwLjggMSAwIDEuMy0zLjQgMS4zLTE2LjQgMC0xNC0uMi0xNi41LTEuNi0xNy0uOS0uMy0xLjYtLjYtMS43LS42cy01LjMgNS4xLTExLjUgMTEuM3ptMzcuMS0xMC42Yy0xIC4zLTEuMyA0LjctMS4zIDE2LjkgMCA5IC40IDE2LjQuOCAxNi40IDMuNiAwIDE4LjYtNi4xIDIzLjktOS44IDEuNi0xLTIxLjYtMjQuMi0yMy40LTIzLjV6XCIvPjwvZz48L3N2Zz5gLFxyXG4gICAgICBcIndpbm5lcnNfX2NhclwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgbmFtZUVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlUm93KG5hbWUsIFwid2lubmVyc19fbmFtZVwiKTtcclxuICAgIGNvbnN0IHdpbnNFbDogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVJvdyhcclxuICAgICAgd2lucy50b1N0cmluZygpLFxyXG4gICAgICBcIndpbm5lcnNfX3dpbnNcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IHRpbWVFbDogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVJvdyhcclxuICAgICAgdGltZS50b1N0cmluZygpLFxyXG4gICAgICBcIndpbm5lcnNfX3RpbWVcIlxyXG4gICAgKTtcclxuICAgIHJvd3NCbG9jay5hcHBlbmQobnVtYmVyRWwsIGNhckVsLCBuYW1lRWwsIHdpbnNFbCwgdGltZUVsKTtcclxuICAgIHJldHVybiByb3dzQmxvY2s7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVJvdyhjb250ZW50OiBzdHJpbmcsIG15Q2xhc3M6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHJvd0VsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICAgIHJvd0VsLmNsYXNzTGlzdC5hZGQobXlDbGFzcyk7XHJcbiAgICByb3dFbC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgcmV0dXJuIHJvd0VsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFBhZ2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBhZ2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0TGltaXRXaW5uZXJzKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5saW1pdFdpbm5lcnM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBXaW5uZXJzUGFnZTtcclxuIiwiaW1wb3J0IFwiLi9zYXNzL3N0eWxlLnNjc3NcIjtcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwiLi91dGlscy9Sb3V0aW5nXCI7XHJcbmltcG9ydCBNYWluUGFnZSBmcm9tIFwiLi9wYWdlcy9tYWluXCI7XHJcbmltcG9ydCBXaW5uZXJzUGFnZSBmcm9tIFwiLi9wYWdlcy93aW5uZXJzXCI7XHJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vY29tcG9uZW50cy9oZWFkZXJcIjtcclxuXHJcbmltcG9ydCB7IElSb3V0LCBJTWFpblBhZ2UsIElIZWFkZXIsIElXaW5uZXJzUGFnZSB9IGZyb20gXCIuL3R5cGVzL2luZGV4XCI7XHJcblxyXG5jb25zdCBtYWluUGFnZTogSU1haW5QYWdlID0gbmV3IE1haW5QYWdlKCk7XHJcbmNvbnN0IHdpbm5lcnNQYWdlOiBJV2lubmVyc1BhZ2UgPSBuZXcgV2lubmVyc1BhZ2UoKTtcclxuXHJcbmNvbnN0IGhlYWRlcjogSUhlYWRlciA9IG5ldyBIZWFkZXIoKTtcclxuXHJcbi8vIHJvdXRlciBzdGFydCBhXHJcbi8vINGB0L/QuNGB0L7QuiDRgdGC0YDQsNC90LjRhiDRgSDQutC+0LvQsdC10LrQsNC80Lg6INC/0YPRgtGMINC4INGH0YLQviDQtNC10LvQsNGC0YxcclxuY29uc3Qgcm91dHM6IElSb3V0W10gPSBbXHJcbiAge1xyXG4gICAgcGF0aDogXCJcIixcclxuICAgIGNiOiBtYWluUGFnZS5kcmF3LmJpbmQobWFpblBhZ2UpLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGF0aDogXCJ3aW5uZXJzXCIsXHJcbiAgICBjYjogd2lubmVyc1BhZ2UuZHJhd1BhZ2UuYmluZCh3aW5uZXJzUGFnZSksXHJcbiAgfSxcclxuICAvLyB7XHJcbiAgLy8gICBwYXRoOiBcInByb2R1Y3RzLzppZFwiLFxyXG4gIC8vICAgY2I6IChpZCkgPT4ge1xyXG4gIC8vICAgICBwcm9kdWN0UGFnZS5kcmF3KGlkKTtcclxuICAvLyAgIH0sXHJcbiAgLy8gfSxcclxuXTtcclxuLy/QvtCx0YrQtdC60YIg0YDQvtGD0YLQtdGA0LBcclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcihyb3V0cywgbWFpblBhZ2UuZHJhdy5iaW5kKG1haW5QYWdlKSk7XHJcbmhlYWRlci5kcmF3RWxlbWVudHMocm91dGVyKTtcclxuLy8gbWFpblBhZ2UuZHJhdygpO1xyXG4vLyDQv9GA0L7QstGA0LrQsCDQutCw0LrQsNGPINGB0LrQudGH0LDRgSDRgdGC0YDQsNC90LjRhtCwXHJcbm1haW5QYWdlLnJvdXRlciA9IHJvdXRlcjtcclxucm91dGVyLmluaXQoKTtcclxuIiwiaW1wb3J0IHtcclxuICBJUm91dGVyLFxyXG4gIElDb250cm9sbGVyLFxyXG4gIElBdXRvcyxcclxuICBJR2FyYWdlLFxyXG4gIElDb250cm9sUGFuZWwsXHJcbiAgSUF1dG9zRGF0YSxcclxuICBJTW9kYWwsXHJcbn0gZnJvbSBcIi4uL3R5cGVzL2luZGV4XCI7XHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuLi91dGlscy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCBHYXJhZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvZ2FyYWdlXCI7XHJcbmltcG9ydCBDb250cm9sUGFuZWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udHJvbC1wYW5lbFwiO1xyXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uL2NvbXBvbmVudHMvbW9kYWxcIjtcclxuXHJcbmNsYXNzIE1haW5QYWdlIHtcclxuICBwcml2YXRlIGNvbnRyb2xsZXI6IElDb250cm9sbGVyO1xyXG4gIHB1YmxpYyByb3V0ZXI/OiBJUm91dGVyO1xyXG4gIHByaXZhdGUgZ2FyYWdlOiBJR2FyYWdlO1xyXG4gIHByaXZhdGUgY29udHJvbFBhbmVsOiBJQ29udHJvbFBhbmVsO1xyXG4gIHByaXZhdGUgcGFnZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgbGltaXRDYXJzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBtb2RhbDogSU1vZGFsO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbiAgICB0aGlzLmdhcmFnZSA9IG5ldyBHYXJhZ2UoKTtcclxuICAgIHRoaXMuY29udHJvbFBhbmVsID0gbmV3IENvbnRyb2xQYW5lbCgpO1xyXG4gICAgdGhpcy5wYWdlID0gMTtcclxuICAgIHRoaXMubGltaXRDYXJzID0gNztcclxuICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWwoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgY29uc3QgbWFpbkVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpO1xyXG4gICAgaWYgKCFtYWluRWxlbWVudCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBtYWluRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFpblwiKTtcclxuICAgIG1haW5FbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGNvbnN0IG1vZGFsOiBIVE1MRWxlbWVudCA9IHRoaXMubW9kYWwuY3JlYXRlTW9kYWwoKTtcclxuICAgIG1haW5FbGVtZW50LmFwcGVuZChtb2RhbCk7XHJcbiAgICBjb25zdCBjb250cm9sUGFuZWw6IEhUTUxFbGVtZW50ID0gdGhpcy5jb250cm9sUGFuZWwuY3JlYXRlQ29udHJvbFBhbmVsKFxyXG4gICAgICB0aGlzLmRyYXdHYXJhZ2UuYmluZCh0aGlzKSxcclxuICAgICAgdGhpcy5nZXRQYWdlLmJpbmQodGhpcyksXHJcbiAgICAgIHRoaXMuZ2V0TGltaXRDYXJzLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICBtYWluRWxlbWVudC5hcHBlbmQoY29udHJvbFBhbmVsKTtcclxuICAgIHRoaXMuZHJhd0dhcmFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBkcmF3R2FyYWdlKHBhZ2U/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmIChwYWdlKSB7XHJcbiAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXV0b3NEYXRhOiBJQXV0b3NEYXRhIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5jb250cm9sbGVyLmdldEF1dG9zKFxyXG4gICAgICB0aGlzLnBhZ2UsXHJcbiAgICAgIHRoaXMubGltaXRDYXJzXHJcbiAgICApO1xyXG4gICAgaWYgKCFhdXRvc0RhdGEpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZ2FyYWdlOiBIVE1MRWxlbWVudCA9IHRoaXMuZ2FyYWdlLmNyZWF0ZUdhcmFnZShcclxuICAgICAgYXV0b3NEYXRhLmF1dG9zLFxyXG4gICAgICB0aGlzLmRyYXdHYXJhZ2UuYmluZCh0aGlzKSxcclxuICAgICAgYXV0b3NEYXRhLmNvdW50Q2FycyxcclxuICAgICAgdGhpcy5nZXRQYWdlLmJpbmQodGhpcyksXHJcbiAgICAgIHRoaXMuZ2V0TGltaXRDYXJzLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICBsZXQgc2VjdGlvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYXJhZ2VcIik7XHJcbiAgICBpZiAoIXNlY3Rpb24pIHtcclxuICAgICAgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xyXG4gICAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJnYXJhZ2VcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWN0aW9uLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIH1cclxuICAgIHNlY3Rpb24uYXBwZW5kKGdhcmFnZSk7XHJcbiAgICBjb25zdCBtYWluOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XHJcbiAgICBpZiAoIW1haW4pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbWFpbi5hcHBlbmQoc2VjdGlvbik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0UGFnZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGFnZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRMaW1pdENhcnMoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxpbWl0Q2FycztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1haW5QYWdlO1xyXG4iLCJpbXBvcnQgeyBJQXV0b3MsIElDb250cm9sbGVyLCBJVGVtcGxhdGUsIElQYWdpbmF0aW9uIH0gZnJvbSBcInNyYy90eXBlc1wiO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi4vdXRpbHMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgVGVtcGxhdGUgZnJvbSBcIi4uL3RlbXBsYXRlcy90ZW1wbGF0ZVwiO1xyXG5pbXBvcnQgUGFnaW5hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9wYWdpbmF0aW9uXCI7XHJcblxyXG5jbGFzcyBHYXJhZ2Uge1xyXG4gIGNvbnRyb2xsZXI6IElDb250cm9sbGVyO1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcbiAgcGFnaW5hdGlvbjogSVBhZ2luYXRpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcclxuICAgIHRoaXMudGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUoKTtcclxuICAgIHRoaXMucGFnaW5hdGlvbiA9IG5ldyBQYWdpbmF0aW9uKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjcmVhdGVHYXJhZ2UoXHJcbiAgICBhdXRvczogSUF1dG9zW10sXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkLFxyXG4gICAgY291bnRDYXJzOiBudW1iZXIsXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlclxyXG4gICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGdhcmFnZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZ2FyYWdlLmNsYXNzTGlzdC5hZGQoXCJnYXJhZ2VfX3dyYXBcIik7XHJcbiAgICBjb25zdCB0aXRsZTogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVRpdGxlcyhjb3VudENhcnMpO1xyXG4gICAgY29uc3QgcGFnaW5hdGlvbkJsb2NrOiBIVE1MRWxlbWVudCA9IHRoaXMucGFnaW5hdGlvbi5jcmVhdGVQYWdpbmF0aW9uKFxyXG4gICAgICBnZXRQYWdlLFxyXG4gICAgICBnZXRMaW1pdENhcnMsXHJcbiAgICAgIGNvdW50Q2FycyxcclxuICAgICAgZHJhd0dhcmFnZVxyXG4gICAgKTtcclxuICAgIGdhcmFnZS5hcHBlbmQodGl0bGUsIHBhZ2luYXRpb25CbG9jayk7XHJcbiAgICBhdXRvcy5tYXAoKGF1dG8pID0+IHtcclxuICAgICAgY29uc3QgY29udGFpbmVyOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQ29udGFpbmVyKGF1dG8sIGRyYXdHYXJhZ2UpO1xyXG4gICAgICBjb25zdCBpbWFnZXM6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVJbWFnZXMoYXV0byk7XHJcbiAgICAgIGdhcmFnZS5hcHBlbmQoY29udGFpbmVyLCBpbWFnZXMpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZ2FyYWdlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVUaXRsZXMoY291bnRDYXJzOiBudW1iZXIpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCB0aXRsZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwiZ2FyYWdlX190aXRsZVwiKTtcclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gYEdhcmFnZSAoJHtjb3VudENhcnN9KWA7XHJcbiAgICByZXR1cm4gdGl0bGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUNvbnRhaW5lcihhdXRvOiBJQXV0b3MsIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWQpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBjb250YWluZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZ2FyYWdlX19jb250YWluZXJcIik7XHJcbiAgICBjb25zdCBidXR0b25zOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQnV0dG9ucyhhdXRvLCBkcmF3R2FyYWdlKTtcclxuICAgIGNvbnN0IG5hbWVBdXRvOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlTmFtZUF1dG8oYXV0by5uYW1lKTtcclxuICAgIGNvbnN0IGNvbnRyb2xBdXRvOiBIVE1MRWxlbWVudCA9IHRoaXMuY29udHJvbEF1dG8oYXV0byk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kKGJ1dHRvbnMsIG5hbWVBdXRvLCBjb250cm9sQXV0byk7XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCdXR0b25zKGF1dG86IElBdXRvcywgZHJhd0dhcmFnZTogKCkgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGJ1dHRvbnM6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGJ1dHRvbnMuY2xhc3NMaXN0LmFkZChcImdhcmFnZV9fYnV0dG9uc1wiKTtcclxuICAgIGNvbnN0IGJ0blNlbGVjdDogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJnYXJhZ2VfX2J0bi1zZWxlY3RcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJTZWxlY3RcIlxyXG4gICAgKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJTZWxlY3QoYnRuU2VsZWN0LCBhdXRvKTtcclxuICAgIGNvbnN0IGJ0blJlbW92ZTogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJnYXJhZ2VfX2J0bi1yZW1vdmVcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJSZW1vdmVcIlxyXG4gICAgKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJSZW1vdmUoYnRuUmVtb3ZlLCBhdXRvLmlkLCBkcmF3R2FyYWdlKTtcclxuICAgIGJ1dHRvbnMuYXBwZW5kKGJ0blNlbGVjdCwgYnRuUmVtb3ZlKTtcclxuICAgIHJldHVybiBidXR0b25zO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclJlbW92ZShcclxuICAgIGJ0blJlbW92ZTogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgYnRuUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZGVsZXRlQ2FyKGlkLCBkcmF3R2FyYWdlKTtcclxuICAgICAgdGhpcy5kZWxldGVXaW5uZXIoaWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyU2VsZWN0KFxyXG4gICAgYnRuU2VsZWN0OiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGF1dG86IElBdXRvc1xyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlTmFtZTogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnVwZGF0ZS1jYXJzX19uYW1lXCJcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXRVcGRhdGVDb2xvcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnVwZGF0ZS1jYXJzX19jb2xvclwiXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlSWQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIi51cGRhdGUtY2Fyc19faWRcIlxyXG4gICAgICApO1xyXG4gICAgICBpZiAoaW5wdXRVcGRhdGVOYW1lICYmIGlucHV0VXBkYXRlQ29sb3IgJiYgaW5wdXRVcGRhdGVJZCkge1xyXG4gICAgICAgIGlucHV0VXBkYXRlTmFtZS52YWx1ZSA9IGF1dG8ubmFtZTtcclxuICAgICAgICBpbnB1dFVwZGF0ZUNvbG9yLnZhbHVlID0gYXV0by5jb2xvcjtcclxuICAgICAgICBpbnB1dFVwZGF0ZUlkLnZhbHVlID0gYXV0by5pZC50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZGVsZXRlQ2FyKGlkOiBudW1iZXIsIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuY29udHJvbGxlci5kZWxldGVDYXIoaWQpO1xyXG4gICAgZHJhd0dhcmFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVXaW5uZXIoaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5jb250cm9sbGVyLmRlbGV0ZVdpbm5lcihpZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU5hbWVBdXRvKG5hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG5hbWVBdXRvOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgbmFtZUF1dG8uY2xhc3NMaXN0LmFkZChcImdhcmFnZV9fbmFtZS1hdXRvXCIpO1xyXG4gICAgbmFtZUF1dG8udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgcmV0dXJuIG5hbWVBdXRvO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb250cm9sQXV0byhhdXRvOiBJQXV0b3MpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBjb250cm9sQXV0bzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29udHJvbEF1dG8uY2xhc3NMaXN0LmFkZChcImNvbnRyb2wtYXV0b1wiKTtcclxuICAgIGNvbnN0IGJ0blJ1bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZUJ0bihcclxuICAgICAgXCJjb250cm9sLWF1dG9fX3J1blwiLFxyXG4gICAgICBcImJ0bi1jb250cm9sXCIsXHJcbiAgICAgIFwiQVwiXHJcbiAgICApO1xyXG4gICAgYnRuUnVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbGxlci5zdGFydENhcihhdXRvLCBidG5SdW4sIGJ0blN0b3ApO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBidG5TdG9wOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlQnRuKFxyXG4gICAgICBcImNvbnRyb2wtYXV0b19fc3RvcFwiLFxyXG4gICAgICBcImJ0bi1jb250cm9sXCIsXHJcbiAgICAgIFwiQlwiXHJcbiAgICApO1xyXG4gICAgYnRuU3RvcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBidG5TdG9wLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udHJvbGxlci5zdG9wQ2FyKGF1dG8sIGJ0blJ1biwgYnRuU3RvcCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnRyb2xBdXRvLmFwcGVuZChidG5SdW4sIGJ0blN0b3ApO1xyXG4gICAgcmV0dXJuIGNvbnRyb2xBdXRvO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVJbWFnZXMoYXV0bzogSUF1dG9zKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgaW1hZ2VzOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbWFnZXMuY2xhc3NMaXN0LmFkZChcImdhcmFnZV9faW1hZ2VzXCIpO1xyXG4gICAgY29uc3QgaW1nQ2FyOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlQ2FySW1nKGF1dG8pO1xyXG4gICAgY29uc3QgYmxvY2tJbWdGaW5pc2g6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVCbG9ja0ltZyhcclxuICAgICAgXCJnYXJhZ2VfX2ltZy1maW5pc2hcIlxyXG4gICAgKTtcclxuICAgIGltYWdlcy5hcHBlbmQoaW1nQ2FyLCBibG9ja0ltZ0ZpbmlzaCk7XHJcbiAgICByZXR1cm4gaW1hZ2VzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCbG9ja0ltZyhjbGFzc05hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGJsb2NrSW1nOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBibG9ja0ltZy5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICByZXR1cm4gYmxvY2tJbWc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUNhckltZyhhdXRvOiBJQXV0b3MpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBkaXY6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRpdi5pZCA9IGF1dG8uaWQudG9TdHJpbmcoKTtcclxuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwiZ2FyYWdlX19pbWctYXV0b1wiKTtcclxuICAgIGRpdi5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAxMjgwIDY0MFwiIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCIgeG1sbnM6dj1cImh0dHBzOi8vdmVjdGEuaW8vbmFub1wiPjxnIGZpbGw9XCIke2F1dG8uY29sb3J9XCIgc3Ryb2tlPVwibm9uZVwiPjxwYXRoIGQ9XCJNMzU2LjUgMTA2LjRjLTEwLjYgMy0xMC4xIDIuNi0xMC44IDExLjEtLjQgNC4yLS45IDgtMS4yIDguNS0uNiAxLTI0LjYgMTAuNS01OSAyMy40LTQ0LjggMTYuNy0xMDUuMiA0MS41LTExNy4zIDQ4LjMtNy44IDQuMy0xOS4zIDkuMS0yNSAxMC40LTIuMy41LTkuOCAxLjQtMTYuNSAxLjktNi43LjYtMTYuNyAxLjktMjIuMiAzLTE1LjQgMy4xLTM0IDQuOS01Ni4zIDUuN2wtMjAuMy42LTQuMyA2LjZjLTUuOSA5LjEtNiA5LjUtMi42IDEzIDMuNyAzLjcgMy44IDYuNS4zIDE1LTIuNSA2LjItMi43IDcuOC0zLjEgMjUuNmwtLjQgMTktMy44IDMuMkM0LjkgMzA5LjUuNyAzMjIuNi42IDM0My41YzAgMTkuNCAxLjEgMzkuNiAyLjYgNDguMiAxLjMgNy4xIDEuNCA3LjQgNy4yIDEyLjIgNi45IDUuOCAxMyAxMi45IDE1LjggMTguNCA2LjQgMTIuNiA1My40IDIxLjEgMTM4LjQgMjVsOS4yLjQtLjYtMTEuOWMtLjYtMTQuMi44LTI1LjYgNC45LTM4LjMgMTEuMi0zNS4yIDM5LjQtNjIuMiA3NS42LTcyLjIgOS0yLjYgMTEuMi0yLjggMjcuOC0yLjggMTYuNSAwIDE4LjguMiAyNy44IDIuNyAyMC4xIDUuNiAzNi4xIDE1LjIgNTAuNCAzMC4yIDE0IDE0LjUgMjIuMiAyOS4zIDI3LjQgNDkuMiAyLjEgNy45IDIuNCAxMC45IDIuMyAyNy45LS4xIDEyLjctLjYgMjEuNC0xLjYgMjYuM2wtMS41IDcuMyAzMDAuNi0uNyAzMDAuOS0uOWMuMS0uMS0uOC0zLjctMi04LjEtMS45LTYuNy0yLjItMTAuNS0yLjItMjUuOS0uMS0xNi42LjEtMTguNyAyLjctMjcuOSAxMS43LTQyLjEgNDYuNy03My42IDg4LjUtNzkuNyAxMS45LTEuNyAzMi41LS43IDQzLjIgMi4xIDIzLjkgNi4zIDQ1LjMgMjAuNSA2MC4xIDM5LjkgNyA5LjIgMTUuNCAyNi43IDE4LjUgMzguNiAyLjQgOC44IDIuNyAxMS45IDIuNyAyNiAuMSAxMS42LS40IDE4LjEtMS42IDIzLjQtMSA0LjEtMS42IDcuNS0xLjUgNy42LjIuMSA2LjItLjIgMTMuMy0uNiAyNi42LTEuNiA0NS44LTQuNSA1Mi41LTcuOSA0LjgtMi40IDkuNy04LjEgMTIuNy0xNC42bDIuNC01LjItMS42LTE1LjdjLTEuNS0xNS4yLTEuNS0xNi4zLjQtMjguNCA2LjMtMzguOCA1LTY4LTMuNS04MC4yLTEzLjQtMTkuMy01Mi42LTMzLjYtMTQyLjktNTEuOS03My43LTE0LjktMTMyLjItMjAuOS0yMDMuMy0yMS0yMi44IDAtMjIuNiAwLTM0LjctOC41LTE4LjctMTMuMS0xMDQuNS02MC43LTE0Ny4xLTgxLjUtMzguMy0xOC43LTc4LjgtMjguMS0xNDMuOS0zMy4yLTIwLjgtMS43LTExMC42LTEuNi0xNDAgMGwtNDMgMi43Yy0zMC4yIDIuMi0yOC42IDIuMi0zNC4xLTEtMTQtOC4xLTE4LjctOS40LTI2LjktNy4xek01NDUgMTM5LjdsNy4xIDQ0LjYgNy41IDQ3LjRjLjkgNS4yIDEuNSA5LjYgMS4zIDkuNy0xLjEuOS0xNjkuOS0yLjktMTk1LjEtNC40LTIwLjYtMS4zLTQxLjctMy42LTQ4LjUtNS40LTkuOC0yLjYtMTkuOC0xMS45LTI0LjktMjMuMS0zLjUtNy41LTMuNi0xNy4yLS41LTI1LjUgMS43LTQuNSAzLTYuMSA2LjgtOC42IDguMy01LjQgMTMuNS04IDI1LjMtMTIuNyAzNC4xLTEzLjYgODUuOC0yMyAxNDYtMjYuNyAyNi45LTEuNiAyNy0xLjYgNTEuMS0xLjhsMjIuNy0uMiAxLjIgNi43em02My00LjdjMjYuNCAxLjggNzcuNyAxMSAxMDIuOSAxOC42IDE4LjYgNS42IDQ0LjUgMTguOCA3NS42IDM4LjcgMjEuMSAxMy40IDI3LjQgMTguMSAyNSAxOC41LTcuNSAxLjItMTMuMyA1LTE2LjIgMTAuNi0xLjkgMy41LTIuMSAxMy42LS40IDE3LjlsMS4xIDIuNy05MC43LS4yLTkwLjYtLjMtNS45LTE2Yy0xMS0zMC4yLTI5LjgtODcuOC0yOS44LTkxLjYgMC0uNiA5LjUtLjIgMjkgMS4xek0yNjMuMyAzMjcuNWMtMjIuMyA0LTQxIDE0LjEtNTYuOCAzMC42LTEzLjIgMTMuOC0yMS4zIDI4LjMtMjYuMiA0Ni43LTIuMiA4LjMtMi42IDExLjktMi42IDI0LjctLjEgMTYuOSAxIDIzLjYgNi41IDM4LjIgOC43IDIzIDI3LjEgNDMuNiA0OS4zIDU1LjEgOC41IDQuNCAxNy44IDcuOCAyNy4xIDkuOCAxMC43IDIuMyAzMS4yIDIuMyA0MS45LS4xIDM5LjItOC40IDY5LjktMzcuNSA4MC4yLTc2LjEgMi4zLTguNiAyLjYtMTIgMi43LTI1LjQuMS0xNS44LS41LTE5LjktNC42LTMzLTkuOC0zMS0zNS41LTU2LjctNjYuOC02Ni45LTE1LTUtMzUuNC02LjQtNTAuNy0zLjZ6bTM1IDMwLjFjMjQuOSA1LjYgNDUuNyAyNC43IDU0LjMgNDkuOSAyLjUgNy4yIDIuOCA5LjUgMi44IDIyIC4xIDE1LjMtMS41IDIyLjgtNy40IDM0LjUtOS40IDE4LjYtMjguMyAzMy43LTQ4LjUgMzguNi05LjYgMi40LTI2LjggMi40LTM2IDAtMzItOC40LTU0LjQtMzUuNS01Ni4yLTY4LjEtMi0zNS45IDIwLjktNjcuMyA1NS44LTc2LjUgOS40LTIuNCAyNS4zLTIuNiAzNS4yLS40ek0yNjAgMzcwLjNjLTMuNiAxLjMtOC41IDMuNi0xMC45IDUuMWwtNC40IDIuOCAxMS42IDExLjVjOC4xIDguMiAxMiAxMS40IDEzLjEgMTEgMS40LS42IDEuNi0yLjkgMS42LTE2LjcgMC0xOC42LjYtMTcuOC0xMS0xMy43em0zMiAxMy42YzAgMTMuOS4yIDE2LjIgMS42IDE2LjggMS4xLjQgNS0yLjggMTMtMTAuOGwxMS41LTExLjQtMi44LTIuMmMtMy40LTIuOC0xMy44LTctMTkuMy03LjlsLTQtLjd2MTYuMnptLTYzLjggMTEuM2MtMi44IDMuNi05LjIgMTkuMS05LjIgMjIuNSAwIDEgMy40IDEuMyAxNi41IDEuMyAxNS4xIDAgMTYuNS0uMSAxNi41LTEuOCAwLTEuNS0yMC42LTIzLjItMjIuMS0yMy4yLS40IDAtMS4xLjYtMS43IDEuMnptOTQgOS43Yy02LjIgNS45LTExLjIgMTEuNS0xMS4yIDEyLjQgMCAxLjUgMS43IDEuNyAxNi41IDEuNyAxMy4xIDAgMTYuNS0uMyAxNi41LTEuMyAwLTQtNi45LTIwLjUtOS41LTIyLjctLjctLjYtNC44IDIuNy0xMi4zIDkuOXptLTQ0LjEgMS45Yy0xLjIgMi4yIDEuMSA2LjIgMy40IDYuMi44IDAgMi4xLTEgMi45LTIuMiAyLTIuOC40LTUuOC0yLjktNS44LTEuMyAwLTIuOS44LTMuNCAxLjh6bS0zLjIgMTcuMWMtMy4yIDMuMy0zLjcgNi43LTEuNCAxMSAyLjkgNS43IDEwLjQgNi40IDE1LjEgMS40IDUuMy01LjcuOS0xNS4zLTcuMS0xNS4zLTIuNyAwLTQuNC44LTYuNiAyLjl6bS0xNy45IDMuNmMtMi42IDMuMiAxLjMgOC4xIDQuOCA1LjkgMi40LTEuNiAyLjctNC41LjYtNi4xLTIuMy0xLjctMy45LTEuNi01LjQuMnptNDMuNi4xYy0yIDEuOS0yIDMuOC0uMiA1LjQgMi4zIDEuOSA2LjEuOCA2LjQtMS44LjctNC40LTMuMi02LjctNi4yLTMuNnpNMjE5IDQ0Mi41YzAgMi45IDQuMSAxNCA3LjIgMTkuNGwzLjEgNS4zIDExLjctMTEuN2M3LjEtNy4xIDExLjYtMTIuMyAxMS4zLTEzLjEtLjQtMS4xLTQtMS40LTE2LjktMS40LTE0LjEgMC0xNi40LjItMTYuNCAxLjV6bTkyIC4zYzAgLjkgNS4xIDYuOCAxMS40IDEzLjFsMTEuNCAxMS40IDMuMS01LjRjMy01LjEgNy4xLTE2LjUgNy4xLTE5LjUgMC0xLjEtMy4xLTEuNC0xNi41LTEuNC0xNS4xIDAtMTYuNS4xLTE2LjUgMS44em0tMzMgNy4xYy0uNyAxLjUtLjUgMi40LjggNC4xIDMuMiA0IDguNS40IDYuMi00LjEtMS40LTIuNS01LjYtMi41LTcgMHptLTIxLjggMjAuNGMtNi4xIDYuMi0xMS4yIDExLjUtMTEuMiAxMS45IDAgMS44IDIwLjggMTAuOCAyNC45IDEwLjguNyAwIDEuMS01LjQgMS4xLTE2LjQgMC0xNC0uMi0xNi41LTEuNi0xNy0uOS0uMy0xLjYtLjYtMS43LS42cy01LjMgNS4xLTExLjUgMTEuM3ptMzcuMS0xMC42Yy0xLjUuNi0xLjkgMzMuMy0uNCAzMy4zIDQuNiAwIDI1LjEtOC44IDI1LjEtMTAuOCAwLS45LTIyLjMtMjMuMi0yMy0yMy4xLS4zIDAtMS4xLjMtMS43LjZ6TTEwNzAgMzI4LjFjLTM5IDguNC02OS42IDM3LjYtNzkuNyA3NS45LTMuMSAxMS43LTQuMSAyOS4yLTIuNCA0MS4xIDMuMyAyMi43IDE1IDQ1LjMgMzEuOCA2MC45IDI2LjcgMjUgNjQuMyAzNC40IDk5LjMgMjQuOSAxMS43LTMuMiAyOC4zLTExLjggMzgtMTkuNiA0OC43LTM5LjYgNTEuOC0xMTIuOCA2LjctMTU2LTkuNy05LjMtMTYuNi0xNC0yOS0xOS44LTEzLjctNi40LTIzLjUtOC42LTQwLjctOS4xLTEyLS4zLTE2LjIgMC0yNCAxLjd6bTQ0LjUgMzEuM2MyMy44IDguMSA0MC45IDI1LjggNDguNiA1MC42IDMgOS42IDMuMyAyOC45LjUgMzguOC0xMSA0MC01MS4zIDYzLjctOTEuMSA1My42LTE0LjktMy44LTMxLjMtMTQuNy00MC4yLTI2LjctMTcuNi0yMy44LTIwLjMtNTMuMy03LjEtNzkuNyAzLjQtNi45IDYtMTAuMyAxMy44LTE4IDcuNy03LjggMTEuMS0xMC40IDE4LjEtMTMuOSAxMi45LTYuNSAyMC43LTguMSAzNi40LTcuNyAxMC45LjMgMTQuMy43IDIxIDN6bS00NC4yIDEwLjZjLTUuNCAxLjktMTUuMyA3LjEtMTUuMyA4IDAgLjMgNS4xIDUuNyAxMS40IDExLjkgOCA4IDExLjkgMTEuMiAxMyAxMC44IDEuNC0uNSAxLjYtMi45IDEuNi0xNi43di0xNmwtMi43LjFjLTEuNiAwLTUuMi45LTggMS45em0zMS43IDEzLjljMCAxMy45LjIgMTYuMiAxLjYgMTYuOCAyLjIuOCAyNC43LTIxLjYgMjMuNC0yMy4yLTEuNy0yLTE2LjMtOC40LTIwLjctOS4xbC00LjMtLjd2MTYuMnptLTY1LjQgMTMuN2MtMi45IDQuNC03LjYgMTYuNS03LjYgMTkuNCAwIDEuOS43IDIgMTYuNSAyIDEyLjYgMCAxNi41LS4zIDE2LjUtMS4zIDAtLjctNS4xLTYuMy0xMS40LTEyLjZsLTExLjQtMTEuNC0yLjYgMy45em05NC43IDcuNmMtNi4xIDYuMi0xMC45IDExLjktMTAuNiAxMi41LjYgMS41IDMzLjMgMS45IDMzLjMuNCAwLTQuNS04LjgtMjQuMS0xMC44LTI0LjEtLjQgMC01LjcgNS4xLTExLjkgMTEuMnptLTQzLjEgMWMtMS43IDEuNy0xLjUgMy4yLjcgNS4yIDEuNiAxLjQgMi4zIDEuNSA0LjEuNiAzLjEtMS43IDIuNC02LjQtMS02LjgtMS40LS4yLTMuMS4zLTMuOCAxem0tMy42IDE3LjljLTYuOCA4LjEgMS43IDE5LjQgMTEgMTQuNCA4LjktNC44IDUuNi0xNy41LTQuNi0xNy41LTMgMC00LjQuNi02LjQgMy4xem0tMTcuNiAzLjNjLTEuOSAyLjMtLjggNi4xIDEuOCA2LjQgNC40LjcgNi43LTMuMiAzLjYtNi4yLTEuOS0yLTMuOC0yLTUuNC0uMnptNDMuNi0uMWMtMi4xIDEuNi0xLjggNC41LjcgNi4xIDMuNyAyLjMgNy43LTMuNSA0LjEtNi4xLTEtLjctMi4xLTEuMy0yLjQtMS4zcy0xLjQuNi0yLjQgMS4zek0xMDI5IDQ0M2MwIDIuOSA0LjMgMTQuMSA3LjQgMTkuNWwyLjggNC44IDExLjYtMTEuNmM4LjEtOC4xIDExLjMtMTIgMTAuOS0xMy4xLS42LTEuNC0yLjktMS42LTE2LjctMS42LTE1LjIgMC0xNiAuMS0xNiAyem05MS43LS44Yy0uMy43IDQuNyA2LjYgMTEuMSAxM2wxMS42IDExLjggMi43LTQuM2MyLjctNC40IDcuOS0xNy43IDcuOS0yMC4zIDAtMS4yLTIuOC0xLjQtMTYuNC0xLjQtMTIuMiAwLTE2LjYuMy0xNi45IDEuMnptLTMyLjYgNy43Yy0xLjQgMi41LS41IDQuOCAyIDUuNiAyLjcuOSA1LjEtMS4zIDQuNy00LjQtLjQtMy40LTUuMS00LjMtNi43LTEuMnptLTIxLjkgMjAuNGMtNi4xIDYuMi0xMS4yIDExLjUtMTEuMiAxMS45IDAgMiAyMC4xIDEwLjggMjQuNyAxMC44IDEgMCAxLjMtMy40IDEuMy0xNi40IDAtMTQtLjItMTYuNS0xLjYtMTctLjktLjMtMS42LS42LTEuNy0uNnMtNS4zIDUuMS0xMS41IDExLjN6bTM3LjEtMTAuNmMtMSAuMy0xLjMgNC43LTEuMyAxNi45IDAgOSAuNCAxNi40LjggMTYuNCAzLjYgMCAxOC42LTYuMSAyMy45LTkuOCAxLjYtMS0yMS42LTI0LjItMjMuNC0yMy41elwiLz48L2c+PC9zdmc+YDtcclxuXHJcbiAgICByZXR1cm4gZGl2O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2FyYWdlO1xyXG4iLCJpbXBvcnQge1xyXG4gIElDb250cm9sbGVyLFxyXG4gIElSZXNwb25zZUNyZWF0ZUNhcixcclxuICBJQXV0b3MsXHJcbiAgSVJlc3BvbnNlVXBkYXRlQ2FyLFxyXG4gIElBdXRvc0RhdGEsXHJcbn0gZnJvbSBcInNyYy90eXBlc1wiO1xyXG5pbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSBcInRpbWVycy9wcm9taXNlc1wiO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi4vdXRpbHMvY29udHJvbGxlclwiO1xyXG5cclxuY2xhc3MgQ29udHJvbFBhbmVsIHtcclxuICBjb250cm9sbGVyOiBJQ29udHJvbGxlcjtcclxuICBpc1dpbjogYm9vbGVhbjtcclxuICB0aW1lb3V0c0lEOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+O1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoKTtcclxuICAgIHRoaXMuaXNXaW4gPSBmYWxzZTtcclxuICAgIHRoaXMudGltZW91dHNJRCA9IHt9O1xyXG4gIH1cclxuICBwdWJsaWMgY3JlYXRlQ29udHJvbFBhbmVsKFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZCxcclxuICAgIGdldFBhZ2U6ICgpID0+IG51bWJlcixcclxuICAgIGdldExpbWl0Q2FyczogKCkgPT4gbnVtYmVyXHJcbiAgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgY29udHJvbFBhbmVsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xyXG4gICAgY29udHJvbFBhbmVsLmNsYXNzTGlzdC5hZGQoXCJjb250cm9sLXBhbmVsXCIpO1xyXG4gICAgY29uc3QgdGl0bGU6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVUaXRsZSgpO1xyXG4gICAgY29uc3QgY3JlYXRlQmxvY2s6IEhUTUxFbGVtZW50ID0gdGhpcy5jcmVhdGVCbG9ja0NyZWF0ZUNhcnMoZHJhd0dhcmFnZSk7XHJcbiAgICBjb25zdCB1cGRhdGVCbG9jazogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUJsb2NrVXBkYXRlQ2FycyhkcmF3R2FyYWdlKTtcclxuICAgIGNvbnN0IGJ1dHRvbnNCbG9jazogSFRNTEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUJ1dHRvbnNCbG9jayhcclxuICAgICAgZ2V0UGFnZSxcclxuICAgICAgZ2V0TGltaXRDYXJzLFxyXG4gICAgICBkcmF3R2FyYWdlXHJcbiAgICApO1xyXG4gICAgY29udHJvbFBhbmVsLmFwcGVuZCh0aXRsZSwgY3JlYXRlQmxvY2ssIHVwZGF0ZUJsb2NrLCBidXR0b25zQmxvY2spO1xyXG4gICAgcmV0dXJuIGNvbnRyb2xQYW5lbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVGl0bGUoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgdGl0bGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcImNvbnRyb2wtcGFuZWxfX3RpdGxlXCIpO1xyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBcIkNvbnRyb2wgcGFuZWwgY2Fyc1wiO1xyXG4gICAgcmV0dXJuIHRpdGxlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCbG9ja0NyZWF0ZUNhcnMoZHJhd0dhcmFnZTogKCkgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGNyZWF0ZUJsb2NrOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBjcmVhdGVCbG9jay5jbGFzc0xpc3QuYWRkKFwiY3JlYXRlLWNhcnNcIik7XHJcbiAgICBjb25zdCBpbnB1dE5hbWU6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUlucHV0TmFtZShcclxuICAgICAgXCJjcmVhdGUtY2Fyc19fbmFtZVwiLFxyXG4gICAgICBcInRleHRcIixcclxuICAgICAgXCJpbnB1dFwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgaW5wdXRDb2xvcjogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuY3JlYXRlSW5wdXRDb2xvcihcclxuICAgICAgXCJjcmVhdGUtY2Fyc19fY29sb3JcIixcclxuICAgICAgXCJjb2xvclwiLFxyXG4gICAgICBcIiNmNmI3M2NcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZUJ0bihcclxuICAgICAgXCJjcmVhdGUtY2Fyc19fYnRuXCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiYnRuLS1wYW5lbFwiLFxyXG4gICAgICBcIkNyZWF0ZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlckNyZWF0ZShidG4sIGRyYXdHYXJhZ2UpO1xyXG4gICAgY3JlYXRlQmxvY2suYXBwZW5kKGlucHV0TmFtZSwgaW5wdXRDb2xvciwgYnRuKTtcclxuICAgIHJldHVybiBjcmVhdGVCbG9jaztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DbGlja0hhbmRsZXJDcmVhdGUoXHJcbiAgICBidG46IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0TmFtZTogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmNyZWF0ZS1jYXJzX19uYW1lXCJcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXRDb2xvcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmNyZWF0ZS1jYXJzX19jb2xvclwiXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChpbnB1dE5hbWUgJiYgaW5wdXRDb2xvcikge1xyXG4gICAgICAgIGNvbnN0IGlucHV0TmFtZVZhbHVlOiBzdHJpbmcgPSBpbnB1dE5hbWUudmFsdWU7XHJcbiAgICAgICAgY29uc3QgaW5wdXRDb2xvclZhbHVlOiBzdHJpbmcgPSBpbnB1dENvbG9yLnZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0TmFtZVZhbHVlLCBpbnB1dENvbG9yVmFsdWUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUNhcihpbnB1dE5hbWVWYWx1ZSwgaW5wdXRDb2xvclZhbHVlLCBkcmF3R2FyYWdlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUNhcihcclxuICAgIGlucHV0TmFtZVZhbHVlOiBzdHJpbmcsXHJcbiAgICBpbnB1dENvbG9yVmFsdWU6IHN0cmluZyxcclxuICAgIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWRcclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlOlxyXG4gICAgICB8IElSZXNwb25zZUNyZWF0ZUNhclxyXG4gICAgICB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5jcmVhdGVDYXIoXHJcbiAgICAgIGlucHV0TmFtZVZhbHVlLFxyXG4gICAgICBpbnB1dENvbG9yVmFsdWVcclxuICAgICk7XHJcbiAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgZHJhd0dhcmFnZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCbG9ja1VwZGF0ZUNhcnMoZHJhd0dhcmFnZTogKCkgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHVwZGF0ZUJsb2NrOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB1cGRhdGVCbG9jay5jbGFzc0xpc3QuYWRkKFwidXBkYXRlLWNhcnNcIik7XHJcbiAgICBjb25zdCBpbnB1dE5hbWU6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUlucHV0TmFtZShcclxuICAgICAgXCJ1cGRhdGUtY2Fyc19fbmFtZVwiLFxyXG4gICAgICBcInRleHRcIixcclxuICAgICAgXCJpbnB1dFwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgaW5wdXRDb2xvcjogSFRNTElucHV0RWxlbWVudCA9IHRoaXMuY3JlYXRlSW5wdXRDb2xvcihcclxuICAgICAgXCJ1cGRhdGUtY2Fyc19fY29sb3JcIixcclxuICAgICAgXCJjb2xvclwiLFxyXG4gICAgICBcIiNmNmI3M2NcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGlucHV0SWQ6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUlucHV0TmFtZShcclxuICAgICAgXCJ1cGRhdGUtY2Fyc19faWRcIixcclxuICAgICAgXCJ0ZXh0XCIsXHJcbiAgICAgIFwiaW5wdXRcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZUJ0bihcclxuICAgICAgXCJjcmVhdGUtY2Fyc19fYnRuXCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiYnRuLS1wYW5lbFwiLFxyXG4gICAgICBcIlVwZGF0ZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlclVwZGF0ZShidG4sIGRyYXdHYXJhZ2UpO1xyXG4gICAgdXBkYXRlQmxvY2suYXBwZW5kKGlucHV0SWQsIGlucHV0TmFtZSwgaW5wdXRDb2xvciwgYnRuKTtcclxuICAgIHJldHVybiB1cGRhdGVCbG9jaztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DbGlja0hhbmRsZXJVcGRhdGUoXHJcbiAgICBidG46IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlTmFtZTogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnVwZGF0ZS1jYXJzX19uYW1lXCJcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgaW5wdXRVcGRhdGVDb2xvcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnVwZGF0ZS1jYXJzX19jb2xvclwiXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IGlucHV0VXBkYXRlSWQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIi51cGRhdGUtY2Fyc19faWRcIlxyXG4gICAgICApO1xyXG4gICAgICBpZiAoaW5wdXRVcGRhdGVOYW1lICYmIGlucHV0VXBkYXRlQ29sb3IgJiYgaW5wdXRVcGRhdGVJZCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ2FyKFxyXG4gICAgICAgICAgTnVtYmVyKGlucHV0VXBkYXRlSWQudmFsdWUpLFxyXG4gICAgICAgICAgaW5wdXRVcGRhdGVOYW1lLnZhbHVlLFxyXG4gICAgICAgICAgaW5wdXRVcGRhdGVDb2xvci52YWx1ZSxcclxuICAgICAgICAgIGRyYXdHYXJhZ2VcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgdXBkYXRlQ2FyKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGNvbG9yOiBzdHJpbmcsXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkXHJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCByZXNwb25zZTpcclxuICAgICAgfCBJUmVzcG9uc2VVcGRhdGVDYXJcclxuICAgICAgfCB1bmRlZmluZWQgPSBhd2FpdCB0aGlzLmNvbnRyb2xsZXIudXBkYXRlQ2FyKGlkLCBuYW1lLCBjb2xvcik7XHJcbiAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgZHJhd0dhcmFnZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCdXR0b25zQmxvY2soXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlcixcclxuICAgIGRyYXdHYXJhZ2U6ICgpID0+IHZvaWRcclxuICApOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBidXR0b25zQmxvY2s6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGJ1dHRvbnNCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29udHJvbC1wYW5lbF9fYnV0dG9uc1wiKTtcclxuICAgIGNvbnN0IGJ0blJhY2U6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy5jcmVhdGVCdG4oXHJcbiAgICAgIFwiY29udHJvbC1wYW5lbF9fcmFjZVwiLFxyXG4gICAgICBcImJ0blwiLFxyXG4gICAgICBcImJ0bi0tcGFuZWxcIixcclxuICAgICAgXCJSYWNlXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBidG5SZXNldDogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZUJ0bihcclxuICAgICAgXCJjb250cm9sLXBhbmVsX19yZXNldFwiLFxyXG4gICAgICBcImJ0blwiLFxyXG4gICAgICBcImJ0bi0tcGFuZWxcIixcclxuICAgICAgXCJSZXNldFwiXHJcbiAgICApO1xyXG4gICAgaWYgKHRoaXMuaXNXaW4gPT09IGZhbHNlKSB7XHJcbiAgICAgIGJ0blJlc2V0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJSYWNlKGJ0blJhY2UsIGJ0blJlc2V0LCBnZXRQYWdlLCBnZXRMaW1pdENhcnMpO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlclJlc2V0KFxyXG4gICAgICBidG5SYWNlLFxyXG4gICAgICBidG5SZXNldCxcclxuICAgICAgZ2V0UGFnZSxcclxuICAgICAgZ2V0TGltaXRDYXJzLFxyXG4gICAgICBkcmF3R2FyYWdlXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnRuR2VuZXJhdGU6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy5jcmVhdGVCdG4oXHJcbiAgICAgIFwiY29udHJvbC1wYW5lbF9fZ2VuZXJhdGVcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJidG4tLXBhbmVsXCIsXHJcbiAgICAgIFwiR2VuZXJhdGUgY2Fyc1wiXHJcbiAgICApO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlckdlbmVyYXRlKGJ0bkdlbmVyYXRlLCBkcmF3R2FyYWdlKTtcclxuICAgIGJ1dHRvbnNCbG9jay5hcHBlbmQoYnRuUmFjZSwgYnRuUmVzZXQsIGJ0bkdlbmVyYXRlKTtcclxuICAgIHJldHVybiBidXR0b25zQmxvY2s7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyR2VuZXJhdGUoXHJcbiAgICBidG5HZW5lcmF0ZTogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBkcmF3R2FyYWdlOiAoKSA9PiB2b2lkXHJcbiAgKTogdm9pZCB7XHJcbiAgICBidG5HZW5lcmF0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtQ2Fyc05hbWU6IHN0cmluZyA9IHRoaXMuZ2V0UmFuZG9tQ2Fyc05hbWUoKTtcclxuICAgICAgICBjb25zdCByYW5kb21OdW1DYXJzTW9kZWw6IHN0cmluZyA9IHRoaXMuZ2V0UmFuZG9tQ2Fyc01vZGVsKCk7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtQ29sb3I6IHN0cmluZyA9IHRoaXMuZ2V0UmFuZG9tQ29sb3JDYXJzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDYXIoXHJcbiAgICAgICAgICByYW5kb21OdW1DYXJzTmFtZSArIFwiIFwiICsgcmFuZG9tTnVtQ2Fyc01vZGVsLFxyXG4gICAgICAgICAgcmFuZG9tTnVtQ29sb3IsXHJcbiAgICAgICAgICBkcmF3R2FyYWdlXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFJhbmRvbUNhcnNOYW1lKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBjYXJzTmFtZTogc3RyaW5nW10gPSBbXHJcbiAgICAgIFwiVGVzbGFcIixcclxuICAgICAgXCJGb3JkXCIsXHJcbiAgICAgIFwiQk1XXCIsXHJcbiAgICAgIFwiTWVyY2VkZXNcIixcclxuICAgICAgXCJPcGVsXCIsXHJcbiAgICAgIFwiUG9yc2NoZVwiLFxyXG4gICAgICBcIkF1ZGlcIixcclxuICAgICAgXCJIb25kYVwiLFxyXG4gICAgICBcIkh5dW5kYWlcIixcclxuICAgICAgXCJLaWFcIixcclxuICAgICAgXCJNYXpkYVwiLFxyXG4gICAgICBcIkFjdXJhXCIsXHJcbiAgICAgIFwiQ2l0cm9lblwiLFxyXG4gICAgICBcIkxleHVzXCIsXHJcbiAgICAgIFwiU2tvZGFcIixcclxuICAgIF07XHJcbiAgICBjb25zdCBtaW46IG51bWJlciA9IE1hdGguY2VpbCgwKTtcclxuICAgIGNvbnN0IG1heDogbnVtYmVyID0gTWF0aC5mbG9vcigxNCk7XHJcbiAgICBjb25zdCByYW5kb21OdW06IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICByZXR1cm4gY2Fyc05hbWVbcmFuZG9tTnVtXTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UmFuZG9tQ2Fyc01vZGVsKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBjYXJzTW9kZWw6IHN0cmluZ1tdID0gW1xyXG4gICAgICBcIk1vZGVsIFNcIixcclxuICAgICAgXCJNb25kZW9cIixcclxuICAgICAgXCJpWCBNNjBcIixcclxuICAgICAgXCJHTEFcIixcclxuICAgICAgXCJaYWZpcmEgTGlmZVwiLFxyXG4gICAgICBcIkNheW1hblwiLFxyXG4gICAgICBcIlE3XCIsXHJcbiAgICAgIFwiQWNjb3JkXCIsXHJcbiAgICAgIFwiVHVjc29uXCIsXHJcbiAgICAgIFwiQ2VlZFwiLFxyXG4gICAgICBcIkNYLTlcIixcclxuICAgICAgXCJNRFhcIixcclxuICAgICAgXCJDNSBBSVJDUk9TU1wiLFxyXG4gICAgICBcIlJYXCIsXHJcbiAgICAgIFwiT2N0YXZpYVwiLFxyXG4gICAgXTtcclxuICAgIGNvbnN0IG1pbjogbnVtYmVyID0gTWF0aC5jZWlsKDApO1xyXG4gICAgY29uc3QgbWF4OiBudW1iZXIgPSBNYXRoLmZsb29yKDE0KTtcclxuICAgIGNvbnN0IHJhbmRvbU51bTogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIHJldHVybiBjYXJzTW9kZWxbcmFuZG9tTnVtXTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UmFuZG9tQ29sb3JDYXJzKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBjb2xvcjogc3RyaW5nW10gPSBbXHJcbiAgICAgIFwiI2ZmMDA5OVwiLFxyXG4gICAgICBcIlx0I2ZmMDAzM1wiLFxyXG4gICAgICBcIiMwMDMzZmZcIixcclxuICAgICAgXCIjMDBmZmNjXCIsXHJcbiAgICAgIFwiIzMzY2MwMFwiLFxyXG4gICAgICBcIiMzM2NjOTlcIixcclxuICAgICAgXCIjNjYzMzk5XCIsXHJcbiAgICAgIFwiI2ZmNjY2NlwiLFxyXG4gICAgICBcIiNmZmZmMDBcIixcclxuICAgICAgXCIjOTkwMDAwXCIsXHJcbiAgICAgIFwiI2ZmY2NjY1wiLFxyXG4gICAgICBcIiMwMDY2MzNcIixcclxuICAgICAgXCIjNjY2NjAwXCIsXHJcbiAgICAgIFwiIzAwMzM5OVwiLFxyXG4gICAgICBcIiNjYzY2Y2NcIixcclxuICAgIF07XHJcbiAgICBjb25zdCBtaW46IG51bWJlciA9IE1hdGguY2VpbCgwKTtcclxuICAgIGNvbnN0IG1heDogbnVtYmVyID0gTWF0aC5mbG9vcigxNCk7XHJcbiAgICBjb25zdCByYW5kb21OdW06IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICBjb25zb2xlLmxvZyhyYW5kb21OdW0pO1xyXG4gICAgcmV0dXJuIGNvbG9yW3JhbmRvbU51bV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyUmFjZShcclxuICAgIGJ0blJhY2U6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgYnRuUmVzZXQ6IEhUTUxCdXR0b25FbGVtZW50LFxyXG4gICAgZ2V0UGFnZTogKCkgPT4gbnVtYmVyLFxyXG4gICAgZ2V0TGltaXRDYXJzOiAoKSA9PiBudW1iZXJcclxuICApOiB2b2lkIHtcclxuICAgIGJ0blJhY2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgYnRuUmFjZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuc3RhcnRSYWNlKGdldFBhZ2UsIGdldExpbWl0Q2Fycyk7XHJcbiAgICAgIHRoaXMuY2hhbmdlRGlzYWJsZWRCdG4odHJ1ZSwgZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyUmVzZXQoXHJcbiAgICBidG5SYWNlOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGJ0blJlc2V0OiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIGdldFBhZ2U6ICgpID0+IG51bWJlcixcclxuICAgIGdldExpbWl0Q2FyczogKCkgPT4gbnVtYmVyLFxyXG4gICAgZHJhd0dhcmFnZTogKCkgPT4gdm9pZFxyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuUmVzZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5zdG9wQ2FyKGJ0blJhY2UsIGJ0blJlc2V0LCBnZXRQYWdlLCBnZXRMaW1pdENhcnMpO1xyXG4gICAgICB0aGlzLmNsZWFyVGltZXJzKHRoaXMudGltZW91dHNJRCk7XHJcbiAgICAgIGRyYXdHYXJhZ2UoKTtcclxuICAgICAgdGhpcy5pc1dpbiA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoYW5nZURpc2FibGVkQnRuKGJ0blJ1bkRpc2FibGVkOiBib29sZWFuLCBidG5TdG9wRGlzYWJsZWQ6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGJ1dHRvbnNSdW46IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgXCIuY29udHJvbC1hdXRvX19ydW5cIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ1dHRvbnNTdG9wOiBOb2RlTGlzdE9mPEVsZW1lbnQ+IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgIFwiLmNvbnRyb2wtYXV0b19fc3RvcFwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnRuUnVuQXJyOiBIVE1MQnV0dG9uRWxlbWVudFtdID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXHJcbiAgICAgIGJ1dHRvbnNSdW5cclxuICAgICk7XHJcbiAgICBjb25zdCBidG5TdG9wQXJyOiBIVE1MQnV0dG9uRWxlbWVudFtdID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXHJcbiAgICAgIGJ1dHRvbnNTdG9wXHJcbiAgICApO1xyXG4gICAgaWYgKGJ0blJ1bkFyciAmJiBidG5TdG9wQXJyKSB7XHJcbiAgICAgIGJ0blJ1bkFyci5mb3JFYWNoKChidG5SdW4pID0+IHtcclxuICAgICAgICBidG5SdW4uZGlzYWJsZWQgPSBidG5SdW5EaXNhYmxlZDtcclxuICAgICAgfSk7XHJcbiAgICAgIGJ0blN0b3BBcnIuZm9yRWFjaCgoYnRuU3RvcCkgPT4ge1xyXG4gICAgICAgIGJ0blN0b3AuZGlzYWJsZWQgPSBidG5TdG9wRGlzYWJsZWQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBzdGFydFJhY2UoXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlclxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgYXV0b3M6IElBdXRvc1tdIHwgdW5kZWZpbmVkID0gYXdhaXQgdGhpcy5nZXRBdXRvcyhcclxuICAgICAgZ2V0UGFnZSgpLFxyXG4gICAgICBnZXRMaW1pdENhcnMoKVxyXG4gICAgKTtcclxuICAgIGlmICghYXV0b3MpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgYXV0b3MuZm9yRWFjaCgoYXV0bykgPT4ge1xyXG4gICAgICB0aGlzLnN0YXJ0QXV0byhhdXRvLCB0aGlzLnRpbWVvdXRzSUQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGdldEF1dG9zKFxyXG4gICAgcGFnZTogbnVtYmVyLFxyXG4gICAgbGltaXRDYXJzOiBudW1iZXJcclxuICApOiBQcm9taXNlPElBdXRvc1tdIHwgdW5kZWZpbmVkPiB7XHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jb250cm9sbGVyLmdldEF1dG9zSWQocGFnZSwgbGltaXRDYXJzKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgc3RhcnRBdXRvKGF1dG86IElBdXRvcywgdGltZW91dHNJRDogUmVjb3JkPG51bWJlciwgbnVtYmVyPikge1xyXG4gICAgY29uc3QgdGltZSA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5zdGFydEVuZ2luZShhdXRvLmlkKTtcclxuICAgIGlmICghdGltZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKHRpbWUsIGF1dG8uaWQpO1xyXG4gICAgdGhpcy5zdGFydFRpbWVyKGF1dG8sIHRpbWVvdXRzSUQsIHRpbWUpO1xyXG4gICAgY29uc3QgaXNEcml2ZSA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5zdGFydERyaXZlKGF1dG8uaWQpO1xyXG4gICAgaWYgKCFpc0RyaXZlKSB7XHJcbiAgICAgIHRoaXMuY2xlYXJUaW1lckJ5SUQodGltZW91dHNJRCwgYXV0by5pZCk7XHJcbiAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbihhdXRvLmlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xlYXJUaW1lcnModGltZW91dHNJRDogUmVjb3JkPG51bWJlciwgbnVtYmVyPikge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGltZW91dHNJRCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dHNJRFtrZXldKTtcclxuICAgIH1cclxuXHJcbiAgICB0aW1lb3V0c0lEID0ge307XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNsZWFyVGltZXJCeUlEKHRpbWVvdXRzSUQ6IFJlY29yZDxudW1iZXIsIG51bWJlcj4sIGlkOiBudW1iZXIpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHRpbWVvdXRzSUQpIHtcclxuICAgICAgaWYgKGtleSA9PSBpZC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRzSURba2V5XSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhcnRUaW1lcihcclxuICAgIGF1dG86IElBdXRvcyxcclxuICAgIHRpbWVvdXRzSUQ6IFJlY29yZDxudW1iZXIsIG51bWJlcj4sXHJcbiAgICB0aW1lOiBudW1iZXJcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IHRpbWVvdXRJRCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5zZXRXaW5uZXIoYXV0by5pZCwgYXV0by5uYW1lLCBNYXRoLnJvdW5kKHRpbWUgLyAxMCkgLyAxMDApO1xyXG4gICAgICB0aGlzLmNsZWFyVGltZXJzKHRpbWVvdXRzSUQpO1xyXG4gICAgfSwgdGltZSk7XHJcblxyXG4gICAgdGltZW91dHNJRFthdXRvLmlkXSA9IHRpbWVvdXRJRDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhcnRBbmltYXRpb24odGltZTogbnVtYmVyLCBpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBpbWdBdXRvOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZC50b1N0cmluZygpKTtcclxuICAgIGlmICghaW1nQXV0bykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaW1nQXV0by5jbGFzc0xpc3QuYWRkKFwiYW5pbWF0aW9uLWFjdGl2ZVwiKTtcclxuICAgIGltZ0F1dG8uc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSB0aW1lIC8gMTAwMCArIFwic1wiO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdG9wQW5pbWF0aW9uKGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGltZ0F1dG86IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkLnRvU3RyaW5nKCkpO1xyXG4gICAgaWYgKCFpbWdBdXRvKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGxlZnQ6IG51bWJlciA9IGltZ0F1dG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgIGltZ0F1dG8uc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XHJcbiAgICBpbWdBdXRvLmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRpb24tYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBzdG9wQ2FyKFxyXG4gICAgYnRuUmFjZTogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBidG5SZXNldDogSFRNTEJ1dHRvbkVsZW1lbnQsXHJcbiAgICBnZXRQYWdlOiAoKSA9PiBudW1iZXIsXHJcbiAgICBnZXRMaW1pdENhcnM6ICgpID0+IG51bWJlclxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgcGFnZTogbnVtYmVyID0gZ2V0UGFnZSgpO1xyXG4gICAgY29uc3QgbGltaXRDYXJzOiBudW1iZXIgPSBnZXRMaW1pdENhcnMoKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlOiBJQXV0b3NbXSB8IHVuZGVmaW5lZCA9IGF3YWl0IHRoaXMuY29udHJvbGxlci5nZXRBdXRvc0lkKFxyXG4gICAgICBwYWdlLFxyXG4gICAgICBsaW1pdENhcnNcclxuICAgICk7XHJcbiAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgcmVzcG9uc2UuZm9yRWFjaCgoYXV0bykgPT4ge1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlci5zdG9wQ2FyKGF1dG8sIGJ0blJhY2UsIGJ0blJlc2V0KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFdpbm5lcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHRpbWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaXNXaW4pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgd2lubmVyTmFtZUVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi53aW5uZXItbW9kYWxfX25hbWVcIlxyXG4gICAgKTtcclxuICAgIGNvbnN0IHdpbm5lclRpbWVFbDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIud2lubmVyLW1vZGFsX190aW1lXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBtb2RhbEVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLXdpbm5lclwiKTtcclxuICAgIGlmICh3aW5uZXJOYW1lRWwgJiYgd2lubmVyVGltZUVsICYmIG1vZGFsRWwpIHtcclxuICAgICAgbW9kYWxFbC5jbGFzc0xpc3QuYWRkKFwibW9kYWwtLW9wZW5cIik7XHJcbiAgICAgIHdpbm5lck5hbWVFbC50ZXh0Q29udGVudCA9IGAke25hbWV9IFdpbm5lciFgO1xyXG4gICAgICB3aW5uZXJUaW1lRWwudGV4dENvbnRlbnQgPSBgKCR7dGltZSArIFwic1wifSkhYDtcclxuICAgICAgY29uc3QgYnRuUmVzZXQ6IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIuY29udHJvbC1wYW5lbF9fcmVzZXRcIlxyXG4gICAgICApO1xyXG4gICAgICBpZiAoYnRuUmVzZXQpIHtcclxuICAgICAgICBidG5SZXNldC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmlzV2luID0gdHJ1ZTtcclxuICAgIHRoaXMuY29udHJvbGxlci5jcmVhdGVXaW5uZXIoaWQsIHRpbWUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVJbnB1dE5hbWUoXHJcbiAgICBjbGFzc05hbWVPbmU6IHN0cmluZyxcclxuICAgIGlucHV0VHlwZTogc3RyaW5nLFxyXG4gICAgY2xhc3NOYW1lVHdvPzogc3RyaW5nXHJcbiAgKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICBjb25zdCBpbnB1dDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lT25lKTtcclxuICAgIGlmIChjbGFzc05hbWVUd28pIHtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWVUd28pO1xyXG4gICAgfVxyXG4gICAgaW5wdXQudHlwZSA9IGlucHV0VHlwZTtcclxuICAgIHJldHVybiBpbnB1dDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlSW5wdXRDb2xvcihcclxuICAgIGNsYXNzTmFtZU9uZTogc3RyaW5nLFxyXG4gICAgaW5wdXRUeXBlOiBzdHJpbmcsXHJcbiAgICBjb2xvcjogc3RyaW5nXHJcbiAgKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICBjb25zdCBpbnB1dDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lT25lKTtcclxuICAgIGlucHV0LnR5cGUgPSBpbnB1dFR5cGU7XHJcbiAgICBpbnB1dC52YWx1ZSA9IGNvbG9yO1xyXG4gICAgcmV0dXJuIGlucHV0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCdG4oXHJcbiAgICBjbGFzc05hbWVPbmU6IHN0cmluZyxcclxuICAgIGNsYXNzTmFtZVR3bzogc3RyaW5nLFxyXG4gICAgY2xhc3NOYW1lVGhyZWU6IHN0cmluZyxcclxuICAgIGNvbnRlbnQ6IHN0cmluZ1xyXG4gICk6IEhUTUxCdXR0b25FbGVtZW50IHtcclxuICAgIGNvbnN0IGJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYnRuLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lT25lKTtcclxuICAgIGJ0bi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZVR3byk7XHJcbiAgICBidG4uY2xhc3NMaXN0LmFkZChjbGFzc05hbWVUaHJlZSk7XHJcbiAgICBidG4udGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgcmV0dXJuIGJ0bjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xQYW5lbDtcclxuIiwiaW1wb3J0IFRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvdGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgSVRlbXBsYXRlIH0gZnJvbSBcInNyYy90eXBlc1wiO1xyXG5cclxuY2xhc3MgTW9kYWwge1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY3JlYXRlTW9kYWwoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbW9kYWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbFwiKTtcclxuICAgIG1vZGFsLmlkID0gXCJtb2RhbC13aW5uZXJcIjtcclxuICAgIGNvbnN0IHdpbm5lckJsb2NrOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlV2lubmVyQmxvY2soXCJcIiwgXCJcIik7XHJcbiAgICBtb2RhbC5hcHBlbmQod2lubmVyQmxvY2spO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlck1vZGFsKG1vZGFsKTtcclxuICAgIHJldHVybiBtb2RhbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DbGlja0hhbmRsZXJNb2RhbChtb2RhbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vZGFsRWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIubW9kYWwtLW9wZW5cIlxyXG4gICAgICApO1xyXG4gICAgICBpZiAobW9kYWxFbCkge1xyXG4gICAgICAgIG1vZGFsRWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsLS1vcGVuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlV2lubmVyQmxvY2sobmFtZVdpbm5lcjogc3RyaW5nLCB0aW1lV2lubmVyOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHdpbm5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgd2lubmVyLmNsYXNzTGlzdC5hZGQoXCJ3aW5uZXItbW9kYWxcIik7XHJcbiAgICBjb25zdCBzcGFuT25lOiBIVE1MRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlU3BhbihcclxuICAgICAgXCJ3aW5uZXItbW9kYWxfX25hbWVcIixcclxuICAgICAgbmFtZVdpbm5lclxyXG4gICAgKTtcclxuICAgIGNvbnN0IHNwYW5Ud286IEhUTUxFbGVtZW50ID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVTcGFuKFxyXG4gICAgICBcIndpbm5lci1tb2RhbF9fdGltZVwiLFxyXG4gICAgICB0aW1lV2lubmVyXHJcbiAgICApO1xyXG4gICAgd2lubmVyLmFwcGVuZChzcGFuT25lLCBzcGFuVHdvKTtcclxuICAgIHJldHVybiB3aW5uZXI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcclxuIiwiaW1wb3J0IFRlbXBsYXRlIGZyb20gXCIuLi90ZW1wbGF0ZXMvdGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgSVJvdXRlciwgSVRlbXBsYXRlIH0gZnJvbSBcIi4uL3R5cGVzL2luZGV4XCI7XHJcblxyXG5jbGFzcyBIZWFkZXIge1xyXG4gIHRlbXBsYXRlOiBJVGVtcGxhdGU7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhd0VsZW1lbnRzKHJvdXRlcjogSVJvdXRlcik6IHZvaWQge1xyXG4gICAgY29uc3QgaGVhZGVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpO1xyXG4gICAgaWYgKCFoZWFkZXIpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJcIik7XHJcbiAgICBjb25zdCB0aXRsZUVsOiBIVE1MRWxlbWVudCA9IHRoaXMuY3JlYXRlVGl0bGUocm91dGVyKTtcclxuICAgIGNvbnN0IGJ1dHRvbnNFbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgYnV0dG9uc0VsLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJfX2J1dHRvbnNcIik7XHJcbiAgICBjb25zdCBidG5HYXJhZ2U6IEhUTUxCdXR0b25FbGVtZW50ID0gdGhpcy50ZW1wbGF0ZS5jcmVhdGVCdG4oXHJcbiAgICAgIFwiaGVhZGVyX19idG4tZ2FyYWdlXCIsXHJcbiAgICAgIFwiYnRuXCIsXHJcbiAgICAgIFwiVG8gR2FyYWdlXCIsXHJcbiAgICAgIFwiYnRuLS1wYWdlXCJcclxuICAgICk7XHJcbiAgICBjb25zdCBidG5XaW5uZXJzOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlQnRuKFxyXG4gICAgICBcImhlYWRlcl9fYnRuLXdpbm5lcnNcIixcclxuICAgICAgXCJidG5cIixcclxuICAgICAgXCJUbyBXaW5uZXJzXCIsXHJcbiAgICAgIFwiYnRuLS1wYWdlXCJcclxuICAgICk7XHJcbiAgICB0aGlzLm9uQ2xpY2tIYW5kbGVyQnRuKGJ0bkdhcmFnZSwgcm91dGVyLCBcIlwiKTtcclxuICAgIHRoaXMub25DbGlja0hhbmRsZXJCdG4oYnRuV2lubmVycywgcm91dGVyLCBcIndpbm5lcnNcIik7XHJcbiAgICBidXR0b25zRWwuYXBwZW5kKGJ0bkdhcmFnZSwgYnRuV2lubmVycyk7XHJcbiAgICBoZWFkZXIuYXBwZW5kKHRpdGxlRWwsIGJ1dHRvbnNFbCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ2xpY2tIYW5kbGVyQnRuKFxyXG4gICAgYnRuR2FyYWdlOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICAgIHJvdXRlcjogSVJvdXRlcixcclxuICAgIHBhdGg6IHN0cmluZ1xyXG4gICk6IHZvaWQge1xyXG4gICAgYnRuR2FyYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHJvdXRlci5uYXZpZ2F0ZShwYXRoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNsaWNrSGFuZGxlclRpdGxlKFxyXG4gICAgdGl0bGVFbDogSFRNTEVsZW1lbnQsXHJcbiAgICByb3V0ZXI6IElSb3V0ZXIsXHJcbiAgICBwYXRoOiBzdHJpbmdcclxuICApOiB2b2lkIHtcclxuICAgIHRpdGxlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgcm91dGVyLm5hdmlnYXRlKHBhdGgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVRpdGxlKHJvdXRlcjogSVJvdXRlcik6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHRpdGxlRWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgdGl0bGVFbC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX19sb2dvXCIpO1xyXG4gICAgdGl0bGVFbC50ZXh0Q29udGVudCA9IFwiQXN5bmMtUmFjZVwiO1xyXG4gICAgdGhpcy5vbkNsaWNrSGFuZGxlclRpdGxlKHRpdGxlRWwsIHJvdXRlciwgXCJcIik7XHJcbiAgICByZXR1cm4gdGl0bGVFbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcclxuIiwiaW1wb3J0IHsgSVJvdXQgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXhcIjtcclxuXHJcbmNsYXNzIFJvdXRlciB7XHJcbiAgcHJpdmF0ZSByb3V0ZXM6IElSb3V0W107XHJcbiAgcHJpdmF0ZSByb290OiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBlcnJvckFjdGlvbjogKCkgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3Iocm91dGVzOiBJUm91dFtdLCBlcnJvckFjdGlvbjogKCkgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZXM7XHJcbiAgICB0aGlzLnJvb3QgPSBcIi9hc3luYy1yYWNlMS9cIjsgLy/QtNC+0LHQsNCy0LjRgtGMINC90LDQuNC80LXQvdC+0LLQsNC90LjQtSDRgNC10L/QvtC30LjRgtC+0YDQuNGPINC/0LXRgNC10LQg0LTQtdC/0LvQvtC10LwgL29ubGluZS1zdG9yZS9cclxuICAgIHRoaXMuZXJyb3JBY3Rpb24gPSBlcnJvckFjdGlvbjtcclxuICB9XHJcblxyXG4gIC8v0LzQtdGC0L7QtCDQtNC70Y8g0L/QtdGA0LXRhdC+0LTQsCDQvdCwINGB0YLRgNCw0L3QuNGG0YNcclxuICBwdWJsaWMgbmF2aWdhdGUgPSAocGF0aDogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgXCJcIiwgdGhpcy5yb290ICsgcGF0aCk7XHJcbiAgICB0aGlzLmFjdGlvbihwYXRoKTtcclxuICB9O1xyXG5cclxuICAvL9C80LXRgtC+0LQg0LTQu9GPINC/0YDQvtCy0LXRgNC60Lgg0LrQsNC60LDRjyDRgdC10LnRh9Cw0YEg0YHRgtGA0LDQvdC40YbQsCDQv9GA0Lgg0L/QtdGA0LXQt9Cw0LPRgNGD0LfQutC1XHJcbiAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBwYXRoOiBzdHJpbmcgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSh0aGlzLnJvb3QsIFwiXCIpO1xyXG4gICAgdGhpcy5hY3Rpb24ocGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgKGUpID0+IHtcclxuICAgICAgLy/Qv9C10YDQtdGA0LjRgdC+0LLQutCwINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQutC90L7Qv9C+0Log0LIg0LHRgNCw0YPQt9C10YDQtSBmb3J3YXJkL2JhY2tcclxuICAgICAgdGhpcy5hY3Rpb24od2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UodGhpcy5yb290LCBcIlwiKSk7IC8v0LHQtdGA0LXRgiDRgtC10LrRg9GJ0LjQuSDQv9GD0YLRjCwg0L/QvtGB0LvQtSDRgtC+0LPQviDQutCw0Log0YHQtNC10LvQsNC7INGI0LDQsyDQvdCw0LfQsNC0XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0LzQtdGC0L7QtCDQtNC70Y8g0LLRi9C30L7QstCwINC60L7Qu9Cx0LXQutCwINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRidC10LPQviDRgNC+0YPRgtCwXHJcbiAgcHJpdmF0ZSBhY3Rpb24ocGF0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBjdXJyZW50OiBJUm91dCB8IHVuZGVmaW5lZCA9IHRoaXMucm91dGVzLmZpbmQoKHJvdXQ6IElSb3V0KSA9PiB7XHJcbiAgICAgIGlmIChyb3V0LnBhdGguaW5kZXhPZihcIi86XCIpICE9PSAtMSkge1xyXG4gICAgICAgIHJldHVybiByb3V0LnBhdGgucmVwbGFjZSgvXFwvOi4rJC8sIFwiXCIpID09PSBwYXRoLnJlcGxhY2UoL1xcL1tcXHddKyQvLCBcIlwiKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcm91dC5wYXRoID09PSBwYXRoO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnQpIHtcclxuICAgICAgY29uc3QgcGFyYW06IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuZ2V0UGFyYW0ocGF0aCwgY3VycmVudC5wYXRoKTtcclxuICAgICAgY3VycmVudC5jYihwYXJhbSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVycm9yQWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9C80LXRgtC+0LQg0LLQvtC30LLRgNCw0YnQstC10YIg0L/QsNGA0LDQvNC10YLRgCDQtNC70Y8g0YHRgdGL0LvQutC4INCy0LjQtNCwIHByb2R1Y3RzLzppZFxyXG4gIHByaXZhdGUgZ2V0UGFyYW0ocGF0aDogc3RyaW5nLCBjdXJyZW50OiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgaWYgKGN1cnJlbnQuaW5kZXhPZihcIi86XCIpID09PSAtMSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXRjaDogc3RyaW5nW10gfCBudWxsID0gcGF0aC5tYXRjaCgvXFwvLiskLyk7XHJcblxyXG4gICAgbGV0IHBhcmFtOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgcGFyYW0gPSBtYXRjaFswXS5yZXBsYWNlKFwiL1wiLCBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFyYW07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb3V0ZXI7XHJcbiJdLCJuYW1lcyI6WyJnZXRBdXRvc0FsbCIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRBdXRvcyIsInBhZ2UiLCJsaW1pdENhcnMiLCJjb3VudENhcnMiLCJoZWFkZXJzIiwiZ2V0IiwiYXV0b3MiLCJOdW1iZXIiLCJnZXRBdXRvc0lkIiwiY3JlYXRlQ2FyIiwibmFtZSIsImNvbG9yIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJkZWxldGVDYXIiLCJpZCIsInN0YXJ0Q2FyRW5naW5lIiwic3RhcnRFbmdpbmVEcml2ZSIsInN0YXR1cyIsIkVycm9yIiwidGhpcyIsInN0b3BDYXJFbmdpbmUiLCJtZXNzYWdlIiwidXBkYXRlQ2FyIiwic3RhcnRFbmdpbmUiLCJyZXNwb25zZUNhckVuZ2luZSIsImRpc3RhbmNlIiwidmVsb2NpdHkiLCJzdGFydERyaXZlIiwic3RhcnRDYXIiLCJhdXRvIiwiYnRuUnVuIiwiYnRuU3RvcCIsInNldFdpbm5lciIsImRpc2FibGVkIiwidGltZW91dElEIiwiaW1nQXV0byIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b1N0cmluZyIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJkdXJhdGlvbkFuaW1hdGlvbiIsInNldFRpbWVvdXQiLCJNYXRoIiwicm91bmQiLCJjbGVhclRpbWVvdXQiLCJsZWZ0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVtb3ZlIiwic3RvcENhciIsImNyZWF0ZVdpbm5lciIsInRpbWUiLCJ3aW5uZXJzIiwiZ2V0V2lubmVyc0FsbCIsIndpbm5lciIsImZpbmQiLCJuZXdUaW1lIiwibmV3Q291bnRXaW5zIiwid2lucyIsInVwZGF0ZVdpbm5lciIsImdldFdpbm5lcnMiLCJsaW1pdCIsInNvcnQiLCJkaXJlY3Rpb24iLCJzb3J0UGFyYW1zIiwiY291bnRXaW5uZXJzIiwiZGVsZXRlV2lubmVyIiwiY3JlYXRlQnRuIiwibXlDbGFzc09uZSIsIm15Q2xhc3NUd28iLCJjb250ZW50IiwibXlDbGFzc1RocmVlIiwiYnRuRWwiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJjcmVhdGVTcGFuIiwibXlDbGFzcyIsInNwYW4iLCJjb25zdHJ1Y3RvciIsInRlbXBsYXRlIiwiY3JlYXRlUGFnaW5hdGlvbiIsImdldFBhZ2UiLCJnZXRMaW1pdENhcnMiLCJkcmF3R2FyYWdlIiwicGFnaW5hdGlvbkJsb2NrIiwicGFnZU51bWJlciIsImJ1dHRvbnMiLCJjcmVhdGVCdXR0b25zIiwiYXBwZW5kIiwiYnRuUHJldiIsImJ0bk5leHQiLCJvbkNsaWNrSGFuZGxlclByZXYiLCJvbkNsaWNrSGFuZGxlck5leHQiLCJhZGRFdmVudExpc3RlbmVyIiwibWFpblBhZ2UiLCJjb250cm9sbGVyIiwiZ2FyYWdlIiwicGFnaW5hdGlvbiIsImNyZWF0ZUdhcmFnZSIsInRpdGxlIiwiY3JlYXRlVGl0bGVzIiwibWFwIiwiY29udGFpbmVyIiwiY3JlYXRlQ29udGFpbmVyIiwiaW1hZ2VzIiwiY3JlYXRlSW1hZ2VzIiwibmFtZUF1dG8iLCJjcmVhdGVOYW1lQXV0byIsImNvbnRyb2xBdXRvIiwiYnRuU2VsZWN0Iiwib25DbGlja0hhbmRsZXJTZWxlY3QiLCJidG5SZW1vdmUiLCJvbkNsaWNrSGFuZGxlclJlbW92ZSIsImlucHV0VXBkYXRlTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dFVwZGF0ZUNvbG9yIiwiaW5wdXRVcGRhdGVJZCIsInZhbHVlIiwiaW1nQ2FyIiwiY3JlYXRlQ2FySW1nIiwiYmxvY2tJbWdGaW5pc2giLCJjcmVhdGVCbG9ja0ltZyIsImNsYXNzTmFtZSIsImJsb2NrSW1nIiwiZGl2IiwiaW5uZXJIVE1MIiwiY29udHJvbFBhbmVsIiwiaXNXaW4iLCJ0aW1lb3V0c0lEIiwiY3JlYXRlQ29udHJvbFBhbmVsIiwiY3JlYXRlVGl0bGUiLCJjcmVhdGVCbG9jayIsImNyZWF0ZUJsb2NrQ3JlYXRlQ2FycyIsInVwZGF0ZUJsb2NrIiwiY3JlYXRlQmxvY2tVcGRhdGVDYXJzIiwiYnV0dG9uc0Jsb2NrIiwiY3JlYXRlQnV0dG9uc0Jsb2NrIiwiaW5wdXROYW1lIiwiY3JlYXRlSW5wdXROYW1lIiwiaW5wdXRDb2xvciIsImNyZWF0ZUlucHV0Q29sb3IiLCJidG4iLCJvbkNsaWNrSGFuZGxlckNyZWF0ZSIsImlucHV0TmFtZVZhbHVlIiwiaW5wdXRDb2xvclZhbHVlIiwiaW5wdXRJZCIsIm9uQ2xpY2tIYW5kbGVyVXBkYXRlIiwiYnRuUmFjZSIsImJ0blJlc2V0Iiwib25DbGlja0hhbmRsZXJSYWNlIiwib25DbGlja0hhbmRsZXJSZXNldCIsImJ0bkdlbmVyYXRlIiwib25DbGlja0hhbmRsZXJHZW5lcmF0ZSIsImkiLCJyYW5kb21OdW1DYXJzTmFtZSIsImdldFJhbmRvbUNhcnNOYW1lIiwicmFuZG9tTnVtQ2Fyc01vZGVsIiwiZ2V0UmFuZG9tQ2Fyc01vZGVsIiwicmFuZG9tTnVtQ29sb3IiLCJnZXRSYW5kb21Db2xvckNhcnMiLCJtaW4iLCJjZWlsIiwibWF4IiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21OdW0iLCJzdGFydFJhY2UiLCJjaGFuZ2VEaXNhYmxlZEJ0biIsImNsZWFyVGltZXJzIiwiYnRuUnVuRGlzYWJsZWQiLCJidG5TdG9wRGlzYWJsZWQiLCJidXR0b25zUnVuIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbnNTdG9wIiwiYnRuUnVuQXJyIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJidG5TdG9wQXJyIiwiZm9yRWFjaCIsInN0YXJ0QXV0byIsInN0YXJ0QW5pbWF0aW9uIiwic3RhcnRUaW1lciIsImNsZWFyVGltZXJCeUlEIiwic3RvcEFuaW1hdGlvbiIsImtleSIsIndpbmRvdyIsIndpbm5lck5hbWVFbCIsIndpbm5lclRpbWVFbCIsIm1vZGFsRWwiLCJjbGFzc05hbWVPbmUiLCJpbnB1dFR5cGUiLCJjbGFzc05hbWVUd28iLCJpbnB1dCIsInR5cGUiLCJjbGFzc05hbWVUaHJlZSIsIm1vZGFsIiwiY3JlYXRlTW9kYWwiLCJ3aW5uZXJCbG9jayIsImNyZWF0ZVdpbm5lckJsb2NrIiwib25DbGlja0hhbmRsZXJNb2RhbCIsIm5hbWVXaW5uZXIiLCJ0aW1lV2lubmVyIiwic3Bhbk9uZSIsInNwYW5Ud28iLCJkcmF3IiwibWFpbkVsZW1lbnQiLCJiaW5kIiwiYXV0b3NEYXRhIiwic2VjdGlvbiIsIm1haW4iLCJ3aW5uZXJzUGFnZSIsIm51bWJlclRhYmxlIiwibGltaXRXaW5uZXJzIiwiZHJhd1BhZ2UiLCJtYWluRWwiLCJ3aW5uZXJzRWwiLCJ0aXRsZUVsIiwicGFnaW5hdGlvbkVsIiwid2lubmVyc1RhYmxlIiwiY3JlYXRlV2lubmVyc1RhYmxlIiwic2V0U29ydCIsImNvdW50IiwiZ2V0TGltaXRXaW5uZXJzIiwidGFibGVFbCIsImNvbHVtbnNCbG9jayIsImNyZWF0ZUNvbHVtbnNCbG9jayIsImNhcnNBbGwiLCJpbmRleCIsImNhciIsInJvd3NCbG9jayIsImNyZWF0ZVJvd3NCbG9jayIsImNvbHVtbnMiLCJjb2x1bW5OYW1lIiwiY3JlYXRlQ29sdW1uIiwiY29sdW1uRWwiLCJpbmNsdWRlcyIsIm51bWJlciIsIm51bWJlckVsIiwiY3JlYXRlUm93IiwiY2FyRWwiLCJuYW1lRWwiLCJ3aW5zRWwiLCJ0aW1lRWwiLCJyb3dFbCIsImRyYXdFbGVtZW50cyIsInJvdXRlciIsImhlYWRlciIsImJ1dHRvbnNFbCIsImJ0bkdhcmFnZSIsImJ0bldpbm5lcnMiLCJvbkNsaWNrSGFuZGxlckJ0biIsInBhdGgiLCJuYXZpZ2F0ZSIsIm9uQ2xpY2tIYW5kbGVyVGl0bGUiLCJyb3V0ZXMiLCJlcnJvckFjdGlvbiIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJyb290IiwiYWN0aW9uIiwiaW5pdCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiY3VycmVudCIsInJvdXQiLCJpbmRleE9mIiwicGFyYW0iLCJnZXRQYXJhbSIsImNiIiwibWF0Y2giXSwic291cmNlUm9vdCI6IiJ9